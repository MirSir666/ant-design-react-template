{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useMemo,useState}from'react';import{BaseButtonsForm}from'@app/components/common/forms/BaseButtonsForm/BaseButtonsForm';import{Input}from'antd';import{useTranslation}from'react-i18next';import{TagDropdown}from'../TagDropdown/TagDropdown';import*as S from'./NewCardForm.styles';import{ParticipantsDropdown}from'../ParticipantsDropdown/ParticipantsDropdown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var formInputs=[{title:'kanban.title',name:'title'},{title:'kanban.description',name:'description'}];export var NewCardForm=function NewCardForm(_ref){var onAdd=_ref.onAdd,onCancel=_ref.onCancel;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedTags=_useState2[0],setSelectedTags=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedParticipants=_useState4[0],setSelectedParticipants=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setLoading=_useState6[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var onFinish=function onFinish(values){setLoading(true);setTimeout(function(){onAdd(_objectSpread(_objectSpread({},values),{},{tags:selectedTags,participants:selectedParticipants}));setLoading(false);},1000);};var formItems=useMemo(function(){return formInputs.map(function(item,index){return/*#__PURE__*/_jsx(S.FormInput,{name:item.name,children:/*#__PURE__*/_jsx(Input,{placeholder:t(item.title),bordered:false})},index);});},[t]);return/*#__PURE__*/_jsx(S.CardWrapper,{children:/*#__PURE__*/_jsxs(BaseButtonsForm,{name:\"addCard\",isFieldsChanged:true,footer:/*#__PURE__*/_jsx(S.FooterButtons,{loading:isLoading,size:\"small\",onCancel:onCancel}),onFinish:onFinish,children:[formItems,/*#__PURE__*/_jsx(TagDropdown,{selectedTags:selectedTags,setSelectedTags:setSelectedTags}),/*#__PURE__*/_jsx(ParticipantsDropdown,{selectedParticipants:selectedParticipants,setSelectedParticipants:setSelectedParticipants})]})});};","map":{"version":3,"names":["React","useMemo","useState","BaseButtonsForm","Input","useTranslation","TagDropdown","S","ParticipantsDropdown","formInputs","title","name","NewCardForm","onAdd","onCancel","selectedTags","setSelectedTags","selectedParticipants","setSelectedParticipants","isLoading","setLoading","t","onFinish","values","setTimeout","tags","participants","formItems","map","item","index"],"sources":["/workspace/ant-design-react-template/src/components/apps/kanban/newCardForm/NewCardForm/NewCardForm.tsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\nimport { BaseButtonsForm } from '@app/components/common/forms/BaseButtonsForm/BaseButtonsForm';\nimport { Input } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { CardState, Tag, Participant } from '../../interfaces';\nimport { TagDropdown } from '../TagDropdown/TagDropdown';\nimport * as S from './NewCardForm.styles';\nimport { ParticipantsDropdown } from '../ParticipantsDropdown/ParticipantsDropdown';\n\nconst formInputs = [\n  {\n    title: 'kanban.title',\n    name: 'title',\n  },\n  {\n    title: 'kanban.description',\n    name: 'description',\n  },\n];\n\ninterface NewCardFormProps {\n  onAdd: (state: CardState) => void;\n  onCancel: () => void;\n}\n\nexport const NewCardForm: React.FC<NewCardFormProps> = ({ onAdd, onCancel }) => {\n  const [selectedTags, setSelectedTags] = useState<Tag[]>([]);\n  const [selectedParticipants, setSelectedParticipants] = useState<Participant[]>([]);\n  const [isLoading, setLoading] = useState(false);\n\n  const { t } = useTranslation();\n\n  const onFinish = (values: []) => {\n    setLoading(true);\n    setTimeout(() => {\n      onAdd({ ...values, tags: selectedTags, participants: selectedParticipants });\n      setLoading(false);\n    }, 1000);\n  };\n\n  const formItems = useMemo(\n    () =>\n      formInputs.map((item, index) => (\n        <S.FormInput key={index} name={item.name}>\n          <Input placeholder={t(item.title)} bordered={false} />\n        </S.FormInput>\n      )),\n    [t],\n  );\n\n  return (\n    <S.CardWrapper>\n      <BaseButtonsForm\n        name=\"addCard\"\n        isFieldsChanged\n        footer={<S.FooterButtons loading={isLoading} size=\"small\" onCancel={onCancel} />}\n        onFinish={onFinish}\n      >\n        {formItems}\n        <TagDropdown selectedTags={selectedTags} setSelectedTags={setSelectedTags} />\n        <ParticipantsDropdown\n          selectedParticipants={selectedParticipants}\n          setSelectedParticipants={setSelectedParticipants}\n        />\n      </BaseButtonsForm>\n    </S.CardWrapper>\n  );\n};\n"],"mappings":"mPAAA,MAAOA,MAAK,EAAIC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAChD,OAASC,eAAe,KAAQ,8DAA8D,CAC9F,OAASC,KAAK,KAAQ,MAAM,CAC5B,OAASC,cAAc,KAAQ,eAAe,CAE9C,OAASC,WAAW,KAAQ,4BAA4B,CACxD,MAAO,GAAKC,EAAC,KAAM,sBAAsB,CACzC,OAASC,oBAAoB,KAAQ,8CAA8C,CAAC,wFAEpF,GAAMC,WAAU,CAAG,CACjB,CACEC,KAAK,CAAE,cAAc,CACrBC,IAAI,CAAE,OACR,CAAC,CACD,CACED,KAAK,CAAE,oBAAoB,CAC3BC,IAAI,CAAE,aACR,CAAC,CACF,CAOD,MAAO,IAAMC,YAAuC,CAAG,QAA1CA,YAAuC,MAA4B,IAAtBC,MAAK,MAALA,KAAK,CAAEC,QAAQ,MAARA,QAAQ,CACvE,cAAwCZ,QAAQ,CAAQ,EAAE,CAAC,wCAApDa,YAAY,eAAEC,eAAe,eACpC,eAAwDd,QAAQ,CAAgB,EAAE,CAAC,yCAA5Ee,oBAAoB,eAAEC,uBAAuB,eACpD,eAAgChB,QAAQ,CAAC,KAAK,CAAC,yCAAxCiB,SAAS,eAAEC,UAAU,eAE5B,oBAAcf,cAAc,EAAE,CAAtBgB,CAAC,iBAADA,CAAC,CAET,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,MAAU,CAAK,CAC/BH,UAAU,CAAC,IAAI,CAAC,CAChBI,UAAU,CAAC,UAAM,CACfX,KAAK,gCAAMU,MAAM,MAAEE,IAAI,CAAEV,YAAY,CAAEW,YAAY,CAAET,oBAAoB,GAAG,CAC5EG,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAED,GAAMO,UAAS,CAAG1B,OAAO,CACvB,iBACEQ,WAAU,CAACmB,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACzB,KAAC,CAAC,CAAC,SAAS,EAAa,IAAI,CAAED,IAAI,CAAClB,IAAK,uBACvC,KAAC,KAAK,EAAC,WAAW,CAAEU,CAAC,CAACQ,IAAI,CAACnB,KAAK,CAAE,CAAC,QAAQ,CAAE,KAAM,EAAG,EADtCoB,KAAK,CAET,EACf,CAAC,GACJ,CAACT,CAAC,CAAC,CACJ,CAED,mBACE,KAAC,CAAC,CAAC,WAAW,wBACZ,MAAC,eAAe,EACd,IAAI,CAAC,SAAS,CACd,eAAe,MACf,MAAM,cAAE,KAAC,CAAC,CAAC,aAAa,EAAC,OAAO,CAAEF,SAAU,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAEL,QAAS,EAAI,CACjF,QAAQ,CAAEQ,QAAS,WAElBK,SAAS,cACV,KAAC,WAAW,EAAC,YAAY,CAAEZ,YAAa,CAAC,eAAe,CAAEC,eAAgB,EAAG,cAC7E,KAAC,oBAAoB,EACnB,oBAAoB,CAAEC,oBAAqB,CAC3C,uBAAuB,CAAEC,uBAAwB,EACjD,GACc,EACJ,CAEpB,CAAC"},"metadata":{},"sourceType":"module"}