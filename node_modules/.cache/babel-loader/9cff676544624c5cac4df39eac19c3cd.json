{"ast":null,"code":"import _slicedToArray from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/workspace/ant-design-react-template/src/components/header/components/HeaderSearch/HeaderSearch.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport { SearchDropdown } from '../searchDropdown/SearchDropdown';\nimport { Button } from '@app/components/common/buttons/Button/Button';\nimport { components as configComponents } from '@app/constants/config/components';\nimport { categoriesList } from '@app/constants/categoriesList';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport * as S from './HeaderSearch.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var HeaderSearch = function HeaderSearch() {\n  _s();\n  var _useResponsive = useResponsive(),\n    mobileOnly = _useResponsive.mobileOnly,\n    isTablet = _useResponsive.isTablet;\n  var _useLocation = useLocation(),\n    pathname = _useLocation.pathname;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    query = _useState2[0],\n    setQuery = _useState2[1];\n  var _useState3 = useState(configComponents),\n    _useState4 = _slicedToArray(_useState3, 1),\n    components = _useState4[0];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isModalVisible = _useState6[0],\n    setModalVisible = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isOverlayVisible = _useState8[0],\n    setOverlayVisible = _useState8[1];\n  var sortedResults = query ? categoriesList.reduce(function (acc, current) {\n    var searchResults = components.filter(function (component) {\n      return component.categories.includes(current.name) && component.keywords.some(function (keyword) {\n        return keyword.includes(query);\n      });\n    });\n    return searchResults.length > 0 ? acc.concat({\n      category: current.name,\n      components: searchResults\n    }) : acc;\n  }, []) : null;\n  useEffect(function () {\n    setModalVisible(false);\n    setOverlayVisible(false);\n  }, [pathname]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [mobileOnly && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: isModalVisible ? 'ghost' : 'text',\n        icon: /*#__PURE__*/_jsxDEV(S.SearchIcon, {\n          onClick: function onClick() {\n            return setModalVisible(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 19\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(S.SearchModal, {\n        visible: isModalVisible,\n        closable: false,\n        footer: null,\n        onCancel: function onCancel() {\n          return setModalVisible(false);\n        },\n        destroyOnClose: true,\n        children: /*#__PURE__*/_jsxDEV(SearchDropdown, {\n          query: query,\n          setQuery: setQuery,\n          data: sortedResults,\n          isOverlayVisible: isOverlayVisible,\n          setOverlayVisible: setOverlayVisible\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true), isTablet && /*#__PURE__*/_jsxDEV(SearchDropdown, {\n      query: query,\n      setQuery: setQuery,\n      data: sortedResults,\n      isOverlayVisible: isOverlayVisible,\n      setOverlayVisible: setOverlayVisible\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n_s(HeaderSearch, \"eeshAOl8tOb3OJs9hEb9EhOHqFc=\", false, function () {\n  return [useResponsive, useLocation];\n});\n_c = HeaderSearch;\nvar _c;\n$RefreshReg$(_c, \"HeaderSearch\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","SearchDropdown","Button","components","configComponents","categoriesList","useResponsive","S","HeaderSearch","mobileOnly","isTablet","pathname","query","setQuery","isModalVisible","setModalVisible","isOverlayVisible","setOverlayVisible","sortedResults","reduce","acc","current","searchResults","filter","component","categories","includes","name","keywords","some","keyword","length","concat","category"],"sources":["/workspace/ant-design-react-template/src/components/header/components/HeaderSearch/HeaderSearch.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport { SearchDropdown } from '../searchDropdown/SearchDropdown';\nimport { Button } from '@app/components/common/buttons/Button/Button';\nimport { components as configComponents, Component } from '@app/constants/config/components';\nimport { categoriesList, CategoryType } from '@app/constants/categoriesList';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport * as S from './HeaderSearch.styles';\n\nexport interface CategoryComponents {\n  category: CategoryType;\n  components: Component[];\n}\n\nexport const HeaderSearch: React.FC = () => {\n  const { mobileOnly, isTablet } = useResponsive();\n\n  const { pathname } = useLocation();\n\n  const [query, setQuery] = useState('');\n  const [components] = useState<Component[]>(configComponents);\n\n  const [isModalVisible, setModalVisible] = useState(false);\n  const [isOverlayVisible, setOverlayVisible] = useState(false);\n\n  const sortedResults = query\n    ? categoriesList.reduce((acc, current) => {\n        const searchResults = components.filter(\n          (component) =>\n            component.categories.includes(current.name) &&\n            component.keywords.some((keyword) => keyword.includes(query)),\n        );\n\n        return searchResults.length > 0 ? acc.concat({ category: current.name, components: searchResults }) : acc;\n      }, [] as CategoryComponents[])\n    : null;\n\n  useEffect(() => {\n    setModalVisible(false);\n    setOverlayVisible(false);\n  }, [pathname]);\n\n  return (\n    <>\n      {mobileOnly && (\n        <>\n          <Button\n            type={isModalVisible ? 'ghost' : 'text'}\n            icon={<S.SearchIcon onClick={() => setModalVisible(true)} />}\n          />\n          <S.SearchModal\n            visible={isModalVisible}\n            closable={false}\n            footer={null}\n            onCancel={() => setModalVisible(false)}\n            destroyOnClose\n          >\n            <SearchDropdown\n              query={query}\n              setQuery={setQuery}\n              data={sortedResults}\n              isOverlayVisible={isOverlayVisible}\n              setOverlayVisible={setOverlayVisible}\n            />\n          </S.SearchModal>\n        </>\n      )}\n\n      {isTablet && (\n        <SearchDropdown\n          query={query}\n          setQuery={setQuery}\n          data={sortedResults}\n          isOverlayVisible={isOverlayVisible}\n          setOverlayVisible={setOverlayVisible}\n        />\n      )}\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}