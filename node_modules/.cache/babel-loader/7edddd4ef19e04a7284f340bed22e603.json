{"ast":null,"code":"import React,{useMemo}from'react';import{Avatar}from'antd';import{useTranslation}from'react-i18next';import{Dates}from'constants/Dates';import{Status}from'../Status/Status';import{paymentStatuses}from'constants/paymentStatuses';import{defineColorByPriority,getCurrencyPrice}from'utils/utils';import*as S from'./PaymentsTable.styles';import{Button}from'components/common/buttons/Button/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PaymentsTable=function PaymentsTable(_ref){var payments=_ref.payments;var _useTranslation=useTranslation(),t=_useTranslation.t;// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar columns=useMemo(function(){return[{title:t('profile.nav.payments.recipient'),dataIndex:'recipient',key:'recipient',render:function render(recipient){return/*#__PURE__*/_jsxs(S.RecipientWrapper,{children:[/*#__PURE__*/_jsx(Avatar,{src:recipient.img,alt:recipient.name}),recipient.name]});},align:'center'},{title:t('profile.nav.payments.date'),dataIndex:'date',key:'date',render:function render(text){return Dates.format(text,'LL');},sorter:function sorter(a,b){return a.date-b.date;},align:'center'},{title:t('profile.nav.payments.status.title'),dataIndex:'status',key:'status',render:function render(status){return/*#__PURE__*/_jsx(Status,{color:defineColorByPriority(status.priority),text:t(status.name).toUpperCase()});},align:'center'},{title:t('profile.nav.payments.totalAmount'),dataIndex:'totalAmount',key:'totalAmount',align:'center'},{title:'',dataIndex:'details',key:'details',align:'center',render:function render(){return/*#__PURE__*/_jsx(Button,{type:\"link\",children:t('profile.nav.payments.details')});}}];},[t]);var dataSource=useMemo(function(){return payments.map(function(payment,index){return{key:index,recipient:{name:payment.recipient,img:payment.imgUrl},date:payment.date,status:paymentStatuses.find(function(status){return status.id===payment.status;}),totalAmount:getCurrencyPrice(payment.amount,payment.currency),details:payment};});},[payments]);return/*#__PURE__*/_jsx(S.PaymentHistoryTable,{size:\"middle\",columns:columns,dataSource:dataSource,pagination:false});};","map":{"version":3,"names":["React","useMemo","Avatar","useTranslation","Dates","Status","paymentStatuses","defineColorByPriority","getCurrencyPrice","S","Button","PaymentsTable","payments","t","columns","title","dataIndex","key","render","recipient","img","name","align","text","format","sorter","a","b","date","status","priority","toUpperCase","dataSource","map","payment","index","imgUrl","find","id","totalAmount","amount","currency","details"],"sources":["/workspace/ant-design-react-template/src/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/PaymentsTable/PaymentsTable.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { Avatar } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { ColumnType } from 'antd/lib/table';\nimport { Dates } from 'constants/Dates';\nimport { Status } from '../Status/Status';\nimport { paymentStatuses, PaymentStatus } from 'constants/paymentStatuses';\nimport { defineColorByPriority, getCurrencyPrice } from 'utils/utils';\nimport { Payment } from 'api/paymentHistory.api';\nimport * as S from './PaymentsTable.styles';\nimport { Button } from 'components/common/buttons/Button/Button';\n\ninterface Recipient {\n  name: string;\n  img: string;\n}\n\ninterface Status {\n  key: number;\n  recipient: Recipient;\n  date: number;\n  status: PaymentStatus | undefined;\n  totalAmount: string | React.ReactNode;\n}\n\ninterface PaymentsTableProps {\n  payments: Payment[];\n}\n\nexport const PaymentsTable: React.FC<PaymentsTableProps> = ({ payments }) => {\n  const { t } = useTranslation();\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const columns: ColumnType<any>[] = useMemo(() => {\n    return [\n      {\n        title: t('profile.nav.payments.recipient'),\n        dataIndex: 'recipient',\n        key: 'recipient',\n        render: (recipient: Recipient) => (\n          <S.RecipientWrapper>\n            <Avatar src={recipient.img} alt={recipient.name} />\n            {recipient.name}\n          </S.RecipientWrapper>\n        ),\n        align: 'center',\n      },\n      {\n        title: t('profile.nav.payments.date'),\n        dataIndex: 'date',\n        key: 'date',\n        render: (text: string) => Dates.format(text, 'LL'),\n        sorter: (a, b) => a.date - b.date,\n        align: 'center',\n      },\n      {\n        title: t('profile.nav.payments.status.title'),\n        dataIndex: 'status',\n        key: 'status',\n        render: (status: PaymentStatus) => (\n          <Status color={defineColorByPriority(status.priority)} text={t(status.name).toUpperCase()} />\n        ),\n        align: 'center',\n      },\n      {\n        title: t('profile.nav.payments.totalAmount'),\n        dataIndex: 'totalAmount',\n        key: 'totalAmount',\n        align: 'center',\n      },\n      {\n        title: '',\n        dataIndex: 'details',\n        key: 'details',\n        align: 'center',\n        render: () => <Button type=\"link\">{t('profile.nav.payments.details')}</Button>,\n      },\n    ];\n  }, [t]);\n\n  const dataSource: Status[] = useMemo(\n    () =>\n      payments.map((payment, index) => {\n        return {\n          key: index,\n          recipient: {\n            name: payment.recipient,\n            img: payment.imgUrl,\n          },\n          date: payment.date,\n          status: paymentStatuses.find((status) => status.id === payment.status),\n          totalAmount: getCurrencyPrice(payment.amount, payment.currency),\n          details: payment,\n        };\n      }),\n    [payments],\n  );\n\n  return <S.PaymentHistoryTable size=\"middle\" columns={columns} dataSource={dataSource} pagination={false} />;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}