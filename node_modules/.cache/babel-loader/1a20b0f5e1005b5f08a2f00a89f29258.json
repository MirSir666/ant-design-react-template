{"ast":null,"code":"import React, { Component, useState, useRef, useEffect } from 'react';\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n    element = element.parentElement;\n  }\n  return false;\n}\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\nvar NOOP = function NOOP() {\n  return true;\n};\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n  function Map(props) {\n    var _ref, _props$defaultZoom, _ref2, _props$defaultCenter, _ref3, _props$width, _ref4, _props$height;\n    var _this;\n    _this = _Component.call(this, props) || this;\n    _this._dragStart = null;\n    _this._mouseDown = false;\n    _this._moveEvents = [];\n    _this._lastClick = null;\n    _this._lastTap = null;\n    _this._lastWheel = null;\n    _this._touchStartPixel = null;\n    _this._touchStartMidPoint = null;\n    _this._touchStartDistance = null;\n    _this._secondTouchEnd = null;\n    _this._warningClearTimeout = null;\n    _this._isAnimating = false;\n    _this._animationStart = null;\n    _this._animationEnd = null;\n    _this._zoomStart = null;\n    _this._centerTarget = null;\n    _this._zoomTarget = null;\n    _this._zoomAround = null;\n    _this._animFrame = null;\n    _this._boundsSynced = false;\n    _this._minMaxCache = null;\n    _this._resizeObserver = null;\n    _this.updateWidthHeight = function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    _this.wa = function () {\n      var _window;\n      return (_window = window).addEventListener.apply(_window, arguments);\n    };\n    _this.wr = function () {\n      var _window2;\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    };\n    _this.bindMouseEvents = function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n      _this.wa('mouseup', _this.handleMouseUp);\n      _this.wa('mousemove', _this.handleMouseMove);\n    };\n    _this.bindTouchEvents = function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    };\n    _this.unbindMouseEvents = function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n      _this.wr('mouseup', _this.handleMouseUp);\n      _this.wr('mousemove', _this.handleMouseMove);\n    };\n    _this.unbindTouchEvents = function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n      _this.wr('touchmove', _this.handleTouchMove);\n      _this.wr('touchend', _this.handleTouchEnd);\n    };\n    _this.bindResizeEvent = function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    };\n    _this.unbindResizeEvent = function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    };\n    _this.bindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    };\n    _this.unbindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    };\n    _this.setCenterZoomTarget = function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n          var _this$animationStep = _this.animationStep(performanceNow()),\n            centerStep = _this$animationStep.centerStep,\n            zoomStep = _this$animationStep.zoomStep;\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n          _this.onAnimationStart();\n        }\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    };\n    _this.setCenterZoomForChildren = function (center, zoom) {\n      _this.setCenterZoomTarget(center || _this.state.center, zoom || _this.state.zoom, true);\n    };\n    _this.distanceInScreens = function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n        width = _this$state.width,\n        height = _this$state.height;\n      var l1 = _this.latLngToPixel(center, center, zoom);\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    };\n    _this.animationStep = function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    };\n    _this.animate = function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n          centerStep = _this$animationStep2.centerStep,\n          zoomStep = _this$animationStep2.zoomStep;\n        _this.setCenterZoom(centerStep, zoomStep);\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    };\n    _this.stopAnimating = function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n        _this.onAnimationStop();\n        cancelAnimationFrame(_this._animFrame);\n      }\n    };\n    _this.limitCenterAtZoom = function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    };\n    _this.onAnimationStart = function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    };\n    _this.onAnimationStop = function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    };\n    _this.setCenterZoom = function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n        var oldTiles = _this.state.oldTiles;\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n        var loadTracker = {};\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n        _this._loadTracker = loadTracker;\n      }\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    };\n    _this.getBoundsMinMax = function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n      var _this$state2 = _this.state,\n        width = _this$state2.width,\n        height = _this$state2.height;\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    };\n    _this.imageLoaded = function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    };\n    _this.handleTouchStart = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n        _this.stopTrackingMoveEvents();\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    };\n    _this.handleTouchMove = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n          _this.trackMoveEvents(pixel);\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n          width = _this$state3.width,\n          height = _this$state3.height,\n          zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    };\n    _this.handleTouchEnd = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n          zoomSnap = _this$props.zoomSnap,\n          twoFingerDrag = _this$props.twoFingerDrag,\n          minZoom = _this$props.minZoom,\n          maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n          center = _this$sendDeltaChange.center,\n          zoom = _this$sendDeltaChange.zoom;\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n          _this.trackMoveEvents(touch);\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    };\n    _this.handleMouseDown = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n      var pixel = getMousePixel(_this._containerRef, event);\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n        event.preventDefault();\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          if (!parentHasClass(event.target, 'pigeon-click-block')) {\n            var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n            _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n          }\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    };\n    _this.handleMouseMove = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    };\n    _this.handleMouseUp = function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n      var pixelDelta = _this.state.pixelDelta;\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange2.center,\n            zoom = _this$sendDeltaChange2.zoom;\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    };\n    _this.stopTrackingMoveEvents = function () {\n      _this._moveEvents = [];\n    };\n    _this.trackMoveEvents = function (coords) {\n      var timestamp = performanceNow();\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    };\n    _this.throwAfterMoving = function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n        width = _this$state4.width,\n        height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n      var lastEvent = _this._moveEvents.shift();\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n      _this.stopTrackingMoveEvents();\n    };\n    _this.sendDeltaChange = function () {\n      var _this$state5 = _this.state,\n        center = _this$state5.center,\n        zoom = _this$state5.zoom,\n        pixelDelta = _this$state5.pixelDelta,\n        zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    };\n    _this.getBounds = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n      var _this$state6 = _this.state,\n        width = _this$state6.width,\n        height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    };\n    _this.syncToProps = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n      var onBoundsChanged = _this.props.onBoundsChanged;\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    };\n    _this.handleWheel = function (event) {\n      var _this$props2 = _this.props,\n        mouseEvents = _this$props2.mouseEvents,\n        metaWheelZoom = _this$props2.metaWheelZoom,\n        zoomSnap = _this$props2.zoomSnap,\n        animate = _this$props2.animate;\n      if (!mouseEvents) {\n        return;\n      }\n      if (!metaWheelZoom || event.metaKey || event.ctrlKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    };\n    _this.showWarning = function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    };\n    _this.clearWarning = function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    };\n    _this.zoomAroundMouse = function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n        minZoom = _this$props3.minZoom,\n        maxZoom = _this$props3.maxZoom,\n        zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n      var zoomTarget = zoom + zoomDiff;\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    };\n    _this.zoomPlusDelta = function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    };\n    _this.pixelToLatLng = function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n      var _this$state7 = _this.state,\n        width = _this$state7.width,\n        height = _this$state7.height,\n        pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    };\n    _this.latLngToPixel = function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n      var _this$state8 = _this.state,\n        width = _this$state8.width,\n        height = _this$state8.height,\n        pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    };\n    _this.calculateZoomCenter = function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n        width = _this$state9.width,\n        height = _this$state9.height;\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    };\n    _this.setRef = function (dom) {\n      _this._containerRef = dom;\n    };\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref !== void 0 ? _ref : 14;\n    _this._lastCenter = (_ref2 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref2 !== void 0 ? _ref2 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref3 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref3 !== void 0 ? _ref3 : -1,\n      height: (_ref4 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n  var _proto = Map.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n      this.bindResizeEvent();\n    }\n    this.bindWheelEvent();\n    this.syncToProps();\n    if (typeof window.ResizeObserver !== 'undefined') {\n      this._resizeObserver = new window.ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n      width = _this$state10.width,\n      height = _this$state10.height;\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n    var parent = this._containerRef;\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n  _proto.tileValues = function tileValues(_ref5) {\n    var center = _ref5.center,\n      zoom = _ref5.zoom,\n      pixelDelta = _ref5.pixelDelta,\n      zoomDelta = _ref5.zoomDelta,\n      width = _ref5.width,\n      height = _ref5.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n    var _this$state11 = this.state,\n      oldTiles = _this$state11.oldTiles,\n      width = _this$state11.width,\n      height = _this$state11.height;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || osm;\n    var _this$tileValues = this.tileValues(this.state),\n      tileMinX = _this$tileValues.tileMinX,\n      tileMaxX = _this$tileValues.tileMaxX,\n      tileMinY = _this$tileValues.tileMinY,\n      tileMaxY = _this$tileValues.tileMaxY,\n      tileCenterX = _this$tileValues.tileCenterX,\n      tileCenterY = _this$tileValues.tileCenterY,\n      roundedZoom = _this$tileValues.roundedZoom,\n      scaleWidth = _this$tileValues.scaleWidth,\n      scaleHeight = _this$tileValues.scaleHeight,\n      scale = _this$tileValues.scale;\n    var tiles = [];\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n      var _xMin = Math.max(old.tileMinX, 0);\n      var _yMin = Math.max(old.tileMinY, 0);\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\",\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: tile.key,\n        src: tile.url,\n        srcSet: tile.srcSet,\n        width: tile.width,\n        height: tile.height,\n        loading: 'lazy',\n        onLoad: function onLoad() {\n          return _this3.imageLoaded(tile.key);\n        },\n        alt: '',\n        style: {\n          position: 'absolute',\n          left: tile.left,\n          top: tile.top,\n          willChange: 'transform',\n          transformOrigin: 'top left',\n          opacity: 1\n        }\n      });\n    })));\n  };\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n    var _this$state12 = this.state,\n      width = _this$state12.width,\n      height = _this$state12.height,\n      center = _this$state12.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n      var _child$props = child.props,\n        anchor = _child$props.anchor,\n        position = _child$props.position,\n        offset = _child$props.offset;\n      var c = _this4.latLngToPixel(anchor || position || center);\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        setCenterZoom: _this4.setCenterZoomForChildren,\n        mapProps: _this4.props,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n      attribution = _this$props4.attribution,\n      attributionPrefix = _this$props4.attributionPrefix;\n    if (attribution === false) {\n      return null;\n    }\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, ' © ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n      metaWheelZoom = _this$props5.metaWheelZoom,\n      metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n      twoFingerDrag = _this$props5.twoFingerDrag,\n      twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n      warningZIndex = _this$props5.warningZIndex;\n    var _this$state13 = this.state,\n      showWarning = _this$state13.showWarning,\n      warningType = _this$state13.warningType,\n      width = _this$state13.width,\n      height = _this$state13.height;\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : 'ctrl';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n      touchEvents = _this$props6.touchEvents,\n      twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state14 = this.state,\n      width = _this$state14.width,\n      height = _this$state14.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n  return Map;\n}(Component);\nMap.defaultProps = {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META + wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: []\n};\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n  var _useState = useState(props.hover || false),\n    internalHover = _useState[0],\n    setInternalHover = _useState[1];\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\nfunction isDescendentOf(element, ancestor) {\n  while (element) {\n    if (element === ancestor) {\n      return true;\n    }\n    element = element.parentElement;\n  }\n  return false;\n}\nvar defaultState = {\n  isDragging: false,\n  startX: undefined,\n  startY: undefined,\n  startLeft: undefined,\n  startTop: undefined,\n  deltaX: 0,\n  deltaY: 0\n};\nfunction Draggable(props) {\n  var dragRef = useRef();\n  var propsRef = useRef(props);\n  var stateRef = useRef(_objectSpread2({}, defaultState));\n  var _useState = useState(defaultState),\n    _state = _useState[0],\n    _setState = _useState[1];\n  propsRef.current = props;\n  var setState = function setState(stateUpdate) {\n    var newState = _objectSpread2(_objectSpread2({}, stateRef.current), stateUpdate);\n    stateRef.current = newState;\n    _setState(newState);\n  };\n  var _props$mapProps = props.mapProps,\n    mouseEvents = _props$mapProps.mouseEvents,\n    touchEvents = _props$mapProps.touchEvents;\n  useEffect(function () {\n    var handleDragStart = function handleDragStart(event) {\n      if (isDescendentOf(event.target, dragRef.current)) {\n        event.preventDefault();\n        setState({\n          isDragging: true,\n          startX: ('touches' in event ? event.touches[0] : event).clientX,\n          startY: ('touches' in event ? event.touches[0] : event).clientY,\n          startLeft: propsRef.current.left,\n          startTop: propsRef.current.top,\n          deltaX: 0,\n          deltaY: 0\n        });\n        if (propsRef.current.onDragStart) {\n          var _propsRef$current = propsRef.current,\n            _left = _propsRef$current.left,\n            _top = _propsRef$current.top,\n            offset = _propsRef$current.offset,\n            pixelToLatLng = _propsRef$current.pixelToLatLng;\n          propsRef.current.onDragMove(pixelToLatLng([_left + (offset ? offset[0] : 0), _top + (offset ? offset[1] : 0)]));\n        }\n      }\n    };\n    var handleDragMove = function handleDragMove(event) {\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n      event.preventDefault();\n      var x = ('touches' in event ? event.touches[0] : event).clientX;\n      var y = ('touches' in event ? event.touches[0] : event).clientY;\n      var deltaX = x - stateRef.current.startX;\n      var deltaY = y - stateRef.current.startY;\n      setState({\n        deltaX: deltaX,\n        deltaY: deltaY\n      });\n      if (propsRef.current.onDragMove) {\n        var _propsRef$current2 = propsRef.current,\n          offset = _propsRef$current2.offset,\n          pixelToLatLng = _propsRef$current2.pixelToLatLng;\n        var _stateRef$current = stateRef.current,\n          _startLeft = _stateRef$current.startLeft,\n          _startTop = _stateRef$current.startTop;\n        propsRef.current.onDragMove(pixelToLatLng([_startLeft + deltaX + (offset ? offset[0] : 0), _startTop + deltaY + (offset ? offset[1] : 0)]));\n      }\n    };\n    var handleDragEnd = function handleDragEnd(event) {\n      var _propsRef$current$onD, _propsRef$current4;\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n      event.preventDefault();\n      var _propsRef$current3 = propsRef.current,\n        offset = _propsRef$current3.offset,\n        pixelToLatLng = _propsRef$current3.pixelToLatLng;\n      var _stateRef$current2 = stateRef.current,\n        deltaX = _stateRef$current2.deltaX,\n        deltaY = _stateRef$current2.deltaY,\n        startLeft = _stateRef$current2.startLeft,\n        startTop = _stateRef$current2.startTop;\n      (_propsRef$current$onD = (_propsRef$current4 = propsRef.current).onDragEnd) === null || _propsRef$current$onD === void 0 ? void 0 : _propsRef$current$onD.call(_propsRef$current4, pixelToLatLng([startLeft + deltaX + (offset ? offset[0] : 0), startTop + deltaY + (offset ? offset[1] : 0)]));\n      setState({\n        isDragging: false,\n        startX: undefined,\n        startY: undefined,\n        startLeft: undefined,\n        startTop: undefined,\n        deltaX: 0,\n        deltaY: 0\n      });\n    };\n    var wa = function wa(e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n    var wr = function wr(e, t) {\n      return window.removeEventListener(e, t);\n    };\n    if (mouseEvents) {\n      wa('mousedown', handleDragStart);\n      wa('mousemove', handleDragMove);\n      wa('mouseup', handleDragEnd);\n    }\n    if (touchEvents) {\n      wa('touchstart', handleDragStart, {\n        passive: false\n      });\n      wa('touchmove', handleDragMove, {\n        passive: false\n      });\n      wa('touchend', handleDragEnd, {\n        passive: false\n      });\n    }\n    return function () {\n      if (mouseEvents) {\n        wr('mousedown', handleDragStart);\n        wr('mousemove', handleDragMove);\n        wr('mouseup', handleDragEnd);\n      }\n      if (touchEvents) {\n        wr('touchstart', handleDragStart);\n        wr('touchmove', handleDragMove);\n        wr('touchend', handleDragEnd);\n      }\n    };\n  }, [mouseEvents, touchEvents]);\n  var left = props.left,\n    top = props.top,\n    className = props.className,\n    style = props.style;\n  var deltaX = _state.deltaX,\n    deltaY = _state.deltaY,\n    startLeft = _state.startLeft,\n    startTop = _state.startTop,\n    isDragging = _state.isDragging;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2(_objectSpread2({\n      cursor: isDragging ? 'grabbing' : 'grab'\n    }, style || {}), {}, {\n      position: 'absolute',\n      transform: \"translate(\" + (isDragging ? startLeft + deltaX : left) + \"px, \" + (isDragging ? startTop + deltaY : top) + \"px)\"\n    }),\n    ref: dragRef,\n    className: \"pigeon-drag-block\" + (className ? \" \" + className : '')\n  }, props.children);\n}\nvar commonStyle = {\n  position: 'absolute',\n  top: 10,\n  left: 10\n};\nvar commonButtonStyle = {\n  width: 28,\n  height: 28,\n  borderRadius: 2,\n  boxShadow: '0 1px 4px -1px rgba(0,0,0,.3)',\n  background: 'white',\n  lineHeight: '26px',\n  fontSize: '20px',\n  fontWeight: 700,\n  color: '#666',\n  marginBottom: 1,\n  cursor: 'pointer',\n  border: 'none',\n  display: 'block',\n  outline: 'none'\n};\nfunction ZoomControl(_ref) {\n  var style = _ref.style,\n    buttonStyle = _ref.buttonStyle,\n    setCenterZoom = _ref.setCenterZoom,\n    mapState = _ref.mapState,\n    mapProps = _ref.mapProps;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pigeon-zoom-buttons pigeon-drag-block\",\n    style: style ? _objectSpread2(_objectSpread2({}, commonStyle), style) : commonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-in\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.min(mapState.zoom + 1, mapProps.maxZoom));\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-out\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.max(mapState.zoom - 1, mapProps.minZoom));\n    }\n  }, \"\\u2013\"));\n}\nexport { Draggable, Map, Marker, Overlay, ZoomControl };","map":{"version":3,"names":["React","Component","useState","useRef","useEffect","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_inheritsLoose","subClass","superClass","prototype","create","constructor","__proto__","debounce","func","wait","timeout","_len","args","Array","_key","context","clearTimeout","setTimeout","parentHasClass","element","className","classList","contains","parentElement","parentPosition","rect","getBoundingClientRect","x","left","y","top","osm","z","s","String","fromCharCode","ANIMATION_TIME","DIAGONAL_THROW_TIME","SCROLL_PIXELS_FOR_ZOOM_LEVEL","MIN_DRAG_FOR_THROW","CLICK_TOLERANCE","DOUBLE_CLICK_DELAY","DEBOUNCE_DELAY","PINCH_RELEASE_THROW_DELAY","WARNING_DISPLAY_TIMEOUT","NOOP","lng2tile","lon","zoom","Math","pow","lat2tile","lat","log","tan","PI","cos","tile2lng","tile2lat","n","atan","exp","getMousePixel","dom","event","parent","clientX","clientY","easeOutQuad","t","absoluteMinMax","hasWindow","window","performanceNow","performance","now","timeStart","Date","getTime","requestAnimationFrame","callback","cancelAnimationFrame","animFrame","srcSet","dprs","url","map","dpr","join","Map","_Component","props","_ref","_props$defaultZoom","_ref2","_props$defaultCenter","_ref3","_props$width","_ref4","_props$height","_this","call","_dragStart","_mouseDown","_moveEvents","_lastClick","_lastTap","_lastWheel","_touchStartPixel","_touchStartMidPoint","_touchStartDistance","_secondTouchEnd","_warningClearTimeout","_isAnimating","_animationStart","_animationEnd","_zoomStart","_centerTarget","_zoomTarget","_zoomAround","_animFrame","_boundsSynced","_minMaxCache","_resizeObserver","updateWidthHeight","_containerRef","width","height","setState","wa","_window","addEventListener","wr","_window2","removeEventListener","bindMouseEvents","handleMouseDown","handleMouseUp","handleMouseMove","bindTouchEvents","handleTouchStart","passive","handleTouchMove","handleTouchEnd","unbindMouseEvents","unbindTouchEvents","bindResizeEvent","unbindResizeEvent","bindWheelEvent","handleWheel","unbindWheelEvent","setCenterZoomTarget","center","fromProps","zoomAround","animationDuration","animate","distanceInScreens","state","animateMaxScreens","_this$animationStep","animationStep","centerStep","zoomStep","_centerStart","limitCenterAtZoom","_lastCenter","_lastZoom","onAnimationStart","calculateZoomCenter","stopAnimating","_center","setCenterZoom","setCenterZoomForChildren","centerTarget","zoomTarget","_this$state","l1","latLngToPixel","l2","z1","z2","w","abs","h","sqrt","timestamp","progress","max","percentage","zoomDiff","_centerStep","onAnimationStop","_this$animationStep2","minMax","getBoundsMinMax","min","isNaN","animationEnded","limitedCenter","round","tileValues","nextValues","oldTiles","o","roundedZoom","concat","loadTracker","tileMinX","tileMaxX","tileMinY","tileMaxY","_loadTracker","maybeZoom","maybeCenter","syncToProps","limitBounds","_this$state2","pixelsAtZoom","minLng","minLat","maxLng","maxLat","imageLoaded","unloadedCount","values","v","touches","touch","pixel","coordsInside","twoFingerDrag","preventDefault","latLngNow","pixelToLatLng","minZoom","maxZoom","trackMoveEvents","stopTrackingMoveEvents","pixelDelta","zoomDelta","sendDeltaChange","t1","t2","showWarning","_this$state3","midPoint","midPointDiff","distance","log2","scale","centerDiffDiff","_this$props","zoomSnap","_this$sendDeltaChange","clearWarning","oldTouchPixel","newTouchPixel","changedTouches","throwAfterMoving","latLng","ceil","floor","_zoom","button","_mousePosition","onClick","undefined","_this$sendDeltaChange2","coords","shift","_this$state4","lastEvent","deltaMs","delta","diagonal","throwTime","lng","_this$state5","getBounds","zoomPlusDelta","_this$state6","ne","sw","onBoundsChanged","bounds","initial","_this$props2","mouseEvents","metaWheelZoom","metaKey","ctrlKey","addToZoom","deltaY","stillToAdd","zoomAroundMouse","warningType","_this$props3","_this$state7","pointDiff","tileX","tileY","_this$state8","tileCenterX","tileCenterY","oldZoom","newZoom","_this$state9","pixelBefore","pixelAfter","newCenter","setRef","defaultZoom","defaultCenter","defaultWidth","defaultHeight","_proto","componentDidMount","_this2","touchEvents","ResizeObserver","observe","componentWillUnmount","disconnect","componentDidUpdate","prevProps","_prevProps$center","currentCenter","currentZoom","_this$props$center","_this$props$zoom","nextCenter","nextZoom","_this$state10","pos","document","elementFromPoint","_ref5","scaleWidth","scaleHeight","halfWidth","halfHeight","renderTiles","_this3","_this$state11","mapUrl","provider","_this$tileValues","tiles","old","xDiff","yDiff","_xMin","_yMin","_xMax","_yMax","active","xMin","yMin","xMax","yMax","_x","_y","boxStyle","position","overflow","willChange","transform","transformOrigin","boxClassname","tilesStyle","createElement","style","tile","src","loading","onLoad","alt","opacity","renderOverlays","_this4","_this$state12","mapState","childrenWithProps","Children","children","child","isValidElement","_child$props","anchor","offset","c","cloneElement","mapProps","childrenStyle","renderAttribution","_this$props4","attribution","attributionPrefix","bottom","right","fontSize","padding","background","fontFamily","color","linkStyle","textDecoration","href","rel","renderWarning","_this$props5","metaWheelZoomWarning","twoFingerDragWarning","warningZIndex","_this$state13","pointerEvents","transition","display","justifyContent","alignItems","textAlign","zIndex","meta","navigator","platform","toUpperCase","indexOf","warningText","replace","render","_this$props6","_this$state14","containerStyle","touchAction","hasSize","ref","defaultProps","Marker","_useState","hover","internalHover","setInternalHover","eventParameters","payload","cursor","viewBox","fill","xmlns","onContextMenu","onMouseOver","onMouseOut","d","stroke","strokeWidth","cx","cy","r","Overlay","isDescendentOf","ancestor","defaultState","isDragging","startX","startY","startLeft","startTop","deltaX","Draggable","dragRef","propsRef","stateRef","_state","_setState","current","stateUpdate","newState","_props$mapProps","handleDragStart","onDragStart","_propsRef$current","_left","_top","onDragMove","handleDragMove","_propsRef$current2","_stateRef$current","_startLeft","_startTop","handleDragEnd","_propsRef$current$onD","_propsRef$current4","_propsRef$current3","_stateRef$current2","onDragEnd","e","commonStyle","commonButtonStyle","borderRadius","boxShadow","lineHeight","fontWeight","marginBottom","border","outline","ZoomControl","buttonStyle"],"sources":["/workspace/ant-design-react-template/node_modules/pigeon-maps/lib/index.esm.js"],"sourcesContent":["import React, { Component, useState, useRef, useEffect } from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {\n  return true;\n};\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\n\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n\n  function Map(props) {\n    var _ref, _props$defaultZoom, _ref2, _props$defaultCenter, _ref3, _props$width, _ref4, _props$height;\n\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this._dragStart = null;\n    _this._mouseDown = false;\n    _this._moveEvents = [];\n    _this._lastClick = null;\n    _this._lastTap = null;\n    _this._lastWheel = null;\n    _this._touchStartPixel = null;\n    _this._touchStartMidPoint = null;\n    _this._touchStartDistance = null;\n    _this._secondTouchEnd = null;\n    _this._warningClearTimeout = null;\n    _this._isAnimating = false;\n    _this._animationStart = null;\n    _this._animationEnd = null;\n    _this._zoomStart = null;\n    _this._centerTarget = null;\n    _this._zoomTarget = null;\n    _this._zoomAround = null;\n    _this._animFrame = null;\n    _this._boundsSynced = false;\n    _this._minMaxCache = null;\n    _this._resizeObserver = null;\n\n    _this.updateWidthHeight = function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _this.wa = function () {\n      var _window;\n\n      return (_window = window).addEventListener.apply(_window, arguments);\n    };\n\n    _this.wr = function () {\n      var _window2;\n\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    };\n\n    _this.bindMouseEvents = function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    };\n\n    _this.bindTouchEvents = function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    };\n\n    _this.unbindMouseEvents = function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    };\n\n    _this.unbindTouchEvents = function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    };\n\n    _this.bindResizeEvent = function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    };\n\n    _this.unbindResizeEvent = function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    };\n\n    _this.bindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    };\n\n    _this.unbindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    };\n\n    _this.setCenterZoomTarget = function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    };\n\n    _this.setCenterZoomForChildren = function (center, zoom) {\n      _this.setCenterZoomTarget(center || _this.state.center, zoom || _this.state.zoom, true);\n    };\n\n    _this.distanceInScreens = function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    };\n\n    _this.animationStep = function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    };\n\n    _this.animate = function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    };\n\n    _this.stopAnimating = function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    };\n\n    _this.limitCenterAtZoom = function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    };\n\n    _this.onAnimationStart = function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    };\n\n    _this.onAnimationStop = function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    };\n\n    _this.setCenterZoom = function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    };\n\n    _this.getBoundsMinMax = function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    };\n\n    _this.imageLoaded = function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    };\n\n    _this.handleTouchStart = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    };\n\n    _this.handleTouchMove = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    };\n\n    _this.handleTouchEnd = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          if (!parentHasClass(event.target, 'pigeon-click-block')) {\n            var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n            _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n          }\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    };\n\n    _this.handleMouseMove = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    };\n\n    _this.handleMouseUp = function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    };\n\n    _this.stopTrackingMoveEvents = function () {\n      _this._moveEvents = [];\n    };\n\n    _this.trackMoveEvents = function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    };\n\n    _this.throwAfterMoving = function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    };\n\n    _this.sendDeltaChange = function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    };\n\n    _this.getBounds = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    };\n\n    _this.syncToProps = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey || event.ctrlKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    };\n\n    _this.showWarning = function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    };\n\n    _this.clearWarning = function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    };\n\n    _this.zoomAroundMouse = function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    };\n\n    _this.zoomPlusDelta = function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    };\n\n    _this.pixelToLatLng = function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    };\n\n    _this.latLngToPixel = function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    };\n\n    _this.calculateZoomCenter = function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    };\n\n    _this.setRef = function (dom) {\n      _this._containerRef = dom;\n    };\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref !== void 0 ? _ref : 14;\n    _this._lastCenter = (_ref2 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref2 !== void 0 ? _ref2 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref3 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref3 !== void 0 ? _ref3 : -1,\n      height: (_ref4 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n\n  var _proto = Map.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n    }\n\n    this.bindWheelEvent();\n    this.syncToProps();\n\n    if (typeof window.ResizeObserver !== 'undefined') {\n      this._resizeObserver = new window.ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n        width = _this$state10.width,\n        height = _this$state10.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n\n  _proto.tileValues = function tileValues(_ref5) {\n    var center = _ref5.center,\n        zoom = _ref5.zoom,\n        pixelDelta = _ref5.pixelDelta,\n        zoomDelta = _ref5.zoomDelta,\n        width = _ref5.width,\n        height = _ref5.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n\n    var _this$state11 = this.state,\n        oldTiles = _this$state11.oldTiles,\n        width = _this$state11.width,\n        height = _this$state11.height;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || osm;\n\n    var _this$tileValues = this.tileValues(this.state),\n        tileMinX = _this$tileValues.tileMinX,\n        tileMaxX = _this$tileValues.tileMaxX,\n        tileMinY = _this$tileValues.tileMinY,\n        tileMaxY = _this$tileValues.tileMaxY,\n        tileCenterX = _this$tileValues.tileCenterX,\n        tileCenterY = _this$tileValues.tileCenterY,\n        roundedZoom = _this$tileValues.roundedZoom,\n        scaleWidth = _this$tileValues.scaleWidth,\n        scaleHeight = _this$tileValues.scaleHeight,\n        scale = _this$tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\",\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: tile.key,\n        src: tile.url,\n        srcSet: tile.srcSet,\n        width: tile.width,\n        height: tile.height,\n        loading: 'lazy',\n        onLoad: function onLoad() {\n          return _this3.imageLoaded(tile.key);\n        },\n        alt: '',\n        style: {\n          position: 'absolute',\n          left: tile.left,\n          top: tile.top,\n          willChange: 'transform',\n          transformOrigin: 'top left',\n          opacity: 1\n        }\n      });\n    })));\n  };\n\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n\n    var _this$state12 = this.state,\n        width = _this$state12.width,\n        height = _this$state12.height,\n        center = _this$state12.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this4.latLngToPixel(anchor || position || center);\n\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        setCenterZoom: _this4.setCenterZoomForChildren,\n        mapProps: _this4.props,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n        attribution = _this$props4.attribution,\n        attributionPrefix = _this$props4.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, ' © ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n        metaWheelZoom = _this$props5.metaWheelZoom,\n        metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n        twoFingerDrag = _this$props5.twoFingerDrag,\n        twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n        warningZIndex = _this$props5.warningZIndex;\n    var _this$state13 = this.state,\n        showWarning = _this$state13.showWarning,\n        warningType = _this$state13.warningType,\n        width = _this$state13.width,\n        height = _this$state13.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : 'ctrl';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n        touchEvents = _this$props6.touchEvents,\n        twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state14 = this.state,\n        width = _this$state14.width,\n        height = _this$state14.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(Component);\nMap.defaultProps = {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META + wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: []\n};\n\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\n\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\n\nfunction isDescendentOf(element, ancestor) {\n  while (element) {\n    if (element === ancestor) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\n\nvar defaultState = {\n  isDragging: false,\n  startX: undefined,\n  startY: undefined,\n  startLeft: undefined,\n  startTop: undefined,\n  deltaX: 0,\n  deltaY: 0\n};\nfunction Draggable(props) {\n  var dragRef = useRef();\n  var propsRef = useRef(props);\n  var stateRef = useRef(_objectSpread2({}, defaultState));\n\n  var _useState = useState(defaultState),\n      _state = _useState[0],\n      _setState = _useState[1];\n\n  propsRef.current = props;\n\n  var setState = function setState(stateUpdate) {\n    var newState = _objectSpread2(_objectSpread2({}, stateRef.current), stateUpdate);\n\n    stateRef.current = newState;\n\n    _setState(newState);\n  };\n\n  var _props$mapProps = props.mapProps,\n      mouseEvents = _props$mapProps.mouseEvents,\n      touchEvents = _props$mapProps.touchEvents;\n  useEffect(function () {\n    var handleDragStart = function handleDragStart(event) {\n      if (isDescendentOf(event.target, dragRef.current)) {\n        event.preventDefault();\n        setState({\n          isDragging: true,\n          startX: ('touches' in event ? event.touches[0] : event).clientX,\n          startY: ('touches' in event ? event.touches[0] : event).clientY,\n          startLeft: propsRef.current.left,\n          startTop: propsRef.current.top,\n          deltaX: 0,\n          deltaY: 0\n        });\n\n        if (propsRef.current.onDragStart) {\n          var _propsRef$current = propsRef.current,\n              _left = _propsRef$current.left,\n              _top = _propsRef$current.top,\n              offset = _propsRef$current.offset,\n              pixelToLatLng = _propsRef$current.pixelToLatLng;\n          propsRef.current.onDragMove(pixelToLatLng([_left + (offset ? offset[0] : 0), _top + (offset ? offset[1] : 0)]));\n        }\n      }\n    };\n\n    var handleDragMove = function handleDragMove(event) {\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var x = ('touches' in event ? event.touches[0] : event).clientX;\n      var y = ('touches' in event ? event.touches[0] : event).clientY;\n      var deltaX = x - stateRef.current.startX;\n      var deltaY = y - stateRef.current.startY;\n      setState({\n        deltaX: deltaX,\n        deltaY: deltaY\n      });\n\n      if (propsRef.current.onDragMove) {\n        var _propsRef$current2 = propsRef.current,\n            offset = _propsRef$current2.offset,\n            pixelToLatLng = _propsRef$current2.pixelToLatLng;\n        var _stateRef$current = stateRef.current,\n            _startLeft = _stateRef$current.startLeft,\n            _startTop = _stateRef$current.startTop;\n        propsRef.current.onDragMove(pixelToLatLng([_startLeft + deltaX + (offset ? offset[0] : 0), _startTop + deltaY + (offset ? offset[1] : 0)]));\n      }\n    };\n\n    var handleDragEnd = function handleDragEnd(event) {\n      var _propsRef$current$onD, _propsRef$current4;\n\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var _propsRef$current3 = propsRef.current,\n          offset = _propsRef$current3.offset,\n          pixelToLatLng = _propsRef$current3.pixelToLatLng;\n      var _stateRef$current2 = stateRef.current,\n          deltaX = _stateRef$current2.deltaX,\n          deltaY = _stateRef$current2.deltaY,\n          startLeft = _stateRef$current2.startLeft,\n          startTop = _stateRef$current2.startTop;\n      (_propsRef$current$onD = (_propsRef$current4 = propsRef.current).onDragEnd) === null || _propsRef$current$onD === void 0 ? void 0 : _propsRef$current$onD.call(_propsRef$current4, pixelToLatLng([startLeft + deltaX + (offset ? offset[0] : 0), startTop + deltaY + (offset ? offset[1] : 0)]));\n      setState({\n        isDragging: false,\n        startX: undefined,\n        startY: undefined,\n        startLeft: undefined,\n        startTop: undefined,\n        deltaX: 0,\n        deltaY: 0\n      });\n    };\n\n    var wa = function wa(e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n\n    var wr = function wr(e, t) {\n      return window.removeEventListener(e, t);\n    };\n\n    if (mouseEvents) {\n      wa('mousedown', handleDragStart);\n      wa('mousemove', handleDragMove);\n      wa('mouseup', handleDragEnd);\n    }\n\n    if (touchEvents) {\n      wa('touchstart', handleDragStart, {\n        passive: false\n      });\n      wa('touchmove', handleDragMove, {\n        passive: false\n      });\n      wa('touchend', handleDragEnd, {\n        passive: false\n      });\n    }\n\n    return function () {\n      if (mouseEvents) {\n        wr('mousedown', handleDragStart);\n        wr('mousemove', handleDragMove);\n        wr('mouseup', handleDragEnd);\n      }\n\n      if (touchEvents) {\n        wr('touchstart', handleDragStart);\n        wr('touchmove', handleDragMove);\n        wr('touchend', handleDragEnd);\n      }\n    };\n  }, [mouseEvents, touchEvents]);\n  var left = props.left,\n      top = props.top,\n      className = props.className,\n      style = props.style;\n  var deltaX = _state.deltaX,\n      deltaY = _state.deltaY,\n      startLeft = _state.startLeft,\n      startTop = _state.startTop,\n      isDragging = _state.isDragging;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2(_objectSpread2({\n      cursor: isDragging ? 'grabbing' : 'grab'\n    }, style || {}), {}, {\n      position: 'absolute',\n      transform: \"translate(\" + (isDragging ? startLeft + deltaX : left) + \"px, \" + (isDragging ? startTop + deltaY : top) + \"px)\"\n    }),\n    ref: dragRef,\n    className: \"pigeon-drag-block\" + (className ? \" \" + className : '')\n  }, props.children);\n}\n\nvar commonStyle = {\n  position: 'absolute',\n  top: 10,\n  left: 10\n};\nvar commonButtonStyle = {\n  width: 28,\n  height: 28,\n  borderRadius: 2,\n  boxShadow: '0 1px 4px -1px rgba(0,0,0,.3)',\n  background: 'white',\n  lineHeight: '26px',\n  fontSize: '20px',\n  fontWeight: 700,\n  color: '#666',\n  marginBottom: 1,\n  cursor: 'pointer',\n  border: 'none',\n  display: 'block',\n  outline: 'none'\n};\nfunction ZoomControl(_ref) {\n  var style = _ref.style,\n      buttonStyle = _ref.buttonStyle,\n      setCenterZoom = _ref.setCenterZoom,\n      mapState = _ref.mapState,\n      mapProps = _ref.mapProps;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pigeon-zoom-buttons pigeon-drag-block\",\n    style: style ? _objectSpread2(_objectSpread2({}, commonStyle), style) : commonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-in\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.min(mapState.zoom + 1, mapProps.maxZoom));\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-out\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.max(mapState.zoom - 1, mapProps.minZoom));\n    }\n  }, \"\\u2013\"));\n}\n\nexport { Draggable, Map, Marker, Overlay, ZoomControl };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}