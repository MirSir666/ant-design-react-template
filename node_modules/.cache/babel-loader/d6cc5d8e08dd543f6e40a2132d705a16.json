{"ast":null,"code":"import _slicedToArray from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"onDelete\", \"onArchive\"];\nvar _jsxFileName = \"/workspace/ant-design-react-template/src/components/apps/kanban/Card/Card.tsx\",\n  _this = this,\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { MoreOutlined } from '@ant-design/icons';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\nimport { Button } from '@app/components/common/buttons/Button/Button';\nimport { ParticipantsDropdown } from '@app/components/apps/kanban/newCardForm/ParticipantsDropdown/ParticipantsDropdown';\nimport { TagDropdown } from '@app/components/apps/kanban/newCardForm/TagDropdown/TagDropdown';\nimport * as S from './Card.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar EditPopover = function EditPopover(_ref) {\n  _s();\n  var onDelete = _ref.onDelete,\n    onArchive = _ref.onArchive,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/_jsxDEV(S.CardMenu, _objectSpread(_objectSpread({\n    selectable: false\n  }, props), {}, {\n    children: [/*#__PURE__*/_jsxDEV(S.MenuItem, {\n      onClick: onDelete,\n      children: t('common.delete')\n    }, \"1\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(S.MenuItem, {\n      onClick: onArchive,\n      children: t('kanban.archive')\n    }, \"2\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, _this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, _this);\n};\n_s(EditPopover, \"zlIdU9EjM2llFt74AbE2KsUJXyM=\", false, function () {\n  return [useTranslation];\n});\n_c = EditPopover;\nexport var Card = function Card(_ref2) {\n  _s2();\n  var style = _ref2.style,\n    onClick = _ref2.onClick,\n    onDelete = _ref2.onDelete,\n    onChange = _ref2.onChange,\n    className = _ref2.className,\n    id = _ref2.id,\n    title = _ref2.title,\n    description = _ref2.description,\n    _ref2$tags = _ref2.tags,\n    tags = _ref2$tags === void 0 ? [] : _ref2$tags,\n    _ref2$participants = _ref2.participants,\n    participants = _ref2$participants === void 0 ? [] : _ref2$participants,\n    cardDraggable = _ref2.cardDraggable,\n    editable = _ref2.editable;\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isExpanded = _useState2[0],\n    setIsExpanded = _useState2[1];\n  var onArrowPress = function onArrowPress() {\n    setIsExpanded(!isExpanded);\n  };\n  var updateCard = function updateCard(card) {\n    onChange(_objectSpread(_objectSpread({}, card), {}, {\n      id: id\n    }));\n  };\n  var onDeleteCard = function onDeleteCard() {\n    onDelete();\n  };\n  var updateTags = function updateTags(tags) {\n    updateCard({\n      tags: tags\n    });\n  };\n  var updateParticipants = function updateParticipants(participants) {\n    updateCard({\n      participants: participants\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(S.CardWrapper, {\n    \"data-id\": id,\n    onClick: onClick,\n    style: style,\n    className: className,\n    children: /*#__PURE__*/_jsxDEV(S.CollapseCard, {\n      onChange: onArrowPress,\n      bordered: false,\n      defaultActiveKey: ['1'],\n      children: /*#__PURE__*/_jsxDEV(S.CardContent, {\n        showArrow: false,\n        header: /*#__PURE__*/_jsxDEV(S.CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(S.CardTitle, {\n            draggable: cardDraggable,\n            onClick: function onClick(e) {\n              e.stopPropagation();\n            },\n            children: editable ? /*#__PURE__*/_jsxDEV(S.Input, {\n              name: \"title\",\n              value: title,\n              border: true,\n              placeholder: t('kanban.title'),\n              resize: \"vertical\",\n              onSave: function onSave(value) {\n                return updateCard({\n                  title: value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, _this) : title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(S.CardRightContent, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              noStyle: true,\n              type: \"text\",\n              icon: /*#__PURE__*/_jsxDEV(S.ArrowDownIcon, {\n                $expanded: isExpanded\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 51\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(Dropdown, {\n              overlay: /*#__PURE__*/_jsxDEV(EditPopover, {\n                onDelete: onDeleteCard,\n                onArchive: onDeleteCard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 28\n              }, _this),\n              placement: \"bottomRight\",\n              trigger: ['click'],\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                noStyle: true,\n                type: \"text\",\n                icon: /*#__PURE__*/_jsxDEV(MoreOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 27\n                }, _this),\n                onClick: function onClick(e) {\n                  e.stopPropagation();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, _this),\n        children: [/*#__PURE__*/_jsxDEV(S.CardDetails, {\n          children: editable ? /*#__PURE__*/_jsxDEV(S.Input, {\n            value: description,\n            border: true,\n            placeholder: t('kanban.description'),\n            resize: \"vertical\",\n            onSave: function onSave(value) {\n              return updateCard({\n                description: value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, _this) : description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(S.CardFooter, {\n          children: /*#__PURE__*/_jsxDEV(TagDropdown, {\n            selectedTags: tags,\n            setSelectedTags: updateTags\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(S.ParticipantsWrapper, {\n          children: /*#__PURE__*/_jsxDEV(ParticipantsDropdown, {\n            selectedParticipants: participants,\n            setSelectedParticipants: updateParticipants\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, _this)]\n      }, \"1\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, _this);\n};\n_s2(Card, \"XtQQv01yXmP1xFMBD1BLL9V9s2Y=\", false, function () {\n  return [useTranslation];\n});\n_c2 = Card;\nvar _c, _c2;\n$RefreshReg$(_c, \"EditPopover\");\n$RefreshReg$(_c2, \"Card\");","map":{"version":3,"names":["React","useState","useTranslation","MoreOutlined","Dropdown","Button","ParticipantsDropdown","TagDropdown","S","EditPopover","onDelete","onArchive","props","t","Card","style","onClick","onChange","className","id","title","description","tags","participants","cardDraggable","editable","isExpanded","setIsExpanded","onArrowPress","updateCard","card","onDeleteCard","updateTags","updateParticipants","e","stopPropagation","value"],"sources":["/workspace/ant-design-react-template/src/components/apps/kanban/Card/Card.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { MoreOutlined } from '@ant-design/icons';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\nimport { Button } from '@app/components/common/buttons/Button/Button';\nimport { ParticipantsDropdown } from '@app/components/apps/kanban/newCardForm/ParticipantsDropdown/ParticipantsDropdown';\nimport { TagDropdown } from '@app/components/apps/kanban/newCardForm/TagDropdown/TagDropdown';\nimport { CardState, Tag as ITag, Participant as IParticipant } from '@app/components/apps/kanban/interfaces';\nimport * as S from './Card.styles';\n\ninterface CardProps {\n  style: CSSStyleSheet;\n  onClick: () => void;\n  onDelete: () => void;\n  onChange: (card: CardState) => void;\n  className: string;\n  id: string | number;\n  title: string;\n  description: string;\n  tags: ITag[];\n  participants: IParticipant[];\n  cardDraggable: boolean;\n  editable: boolean;\n}\n\ninterface EditPopoverProps {\n  onDelete: () => void;\n  onArchive: () => void;\n}\n\nconst EditPopover: React.FC<EditPopoverProps> = ({ onDelete, onArchive, ...props }) => {\n  const { t } = useTranslation();\n\n  return (\n    <S.CardMenu selectable={false} {...props}>\n      <S.MenuItem key=\"1\" onClick={onDelete}>\n        {t('common.delete')}\n      </S.MenuItem>\n\n      <S.MenuItem key=\"2\" onClick={onArchive}>\n        {t('kanban.archive')}\n      </S.MenuItem>\n    </S.CardMenu>\n  );\n};\n\nexport const Card: React.FC<CardProps> = ({\n  style,\n  onClick,\n  onDelete,\n  onChange,\n  className,\n  id,\n  title,\n  description,\n  tags = [],\n  participants = [],\n  cardDraggable,\n  editable,\n}) => {\n  const { t } = useTranslation();\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  const onArrowPress = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  const updateCard = (card: CardState) => {\n    onChange({ ...card, id });\n  };\n\n  const onDeleteCard = () => {\n    onDelete();\n  };\n\n  const updateTags = (tags: ITag[]) => {\n    updateCard({ tags });\n  };\n\n  const updateParticipants = (participants: IParticipant[]) => {\n    updateCard({ participants });\n  };\n\n  return (\n    <S.CardWrapper data-id={id} onClick={onClick} style={style} className={className}>\n      <S.CollapseCard onChange={onArrowPress} bordered={false} defaultActiveKey={['1']}>\n        <S.CardContent\n          showArrow={false}\n          key=\"1\"\n          header={\n            <S.CardHeader>\n              <S.CardTitle\n                draggable={cardDraggable}\n                onClick={(e: MouseEvent) => {\n                  e.stopPropagation();\n                }}\n              >\n                {editable ? (\n                  <S.Input\n                    name=\"title\"\n                    value={title}\n                    border\n                    placeholder={t('kanban.title')}\n                    resize=\"vertical\"\n                    onSave={(value: string) => updateCard({ title: value })}\n                  />\n                ) : (\n                  title\n                )}\n              </S.CardTitle>\n              <S.CardRightContent>\n                <Button noStyle type=\"text\" icon={<S.ArrowDownIcon $expanded={isExpanded} />} />\n                <Dropdown\n                  overlay={<EditPopover onDelete={onDeleteCard} onArchive={onDeleteCard} />}\n                  placement=\"bottomRight\"\n                  trigger={['click']}\n                >\n                  <Button\n                    noStyle\n                    type=\"text\"\n                    icon={<MoreOutlined />}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                    }}\n                  />\n                </Dropdown>\n              </S.CardRightContent>\n            </S.CardHeader>\n          }\n        >\n          <S.CardDetails>\n            {editable ? (\n              <S.Input\n                value={description}\n                border\n                placeholder={t('kanban.description')}\n                resize=\"vertical\"\n                onSave={(value: string) => updateCard({ description: value })}\n              />\n            ) : (\n              description\n            )}\n          </S.CardDetails>\n          <S.CardFooter>\n            <TagDropdown selectedTags={tags} setSelectedTags={updateTags} />\n          </S.CardFooter>\n\n          <S.ParticipantsWrapper>\n            <ParticipantsDropdown selectedParticipants={participants} setSelectedParticipants={updateParticipants} />\n          </S.ParticipantsWrapper>\n        </S.CardContent>\n      </S.CollapseCard>\n    </S.CardWrapper>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}