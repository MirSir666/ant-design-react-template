{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';import{ApiError}from'@app/api/ApiError';import{readToken}from'@app/services/localStorage.service';export var httpApi=axios.create({baseURL:process.env.REACT_APP_BASE_URL});httpApi.interceptors.request.use(function(config){config.headers=_objectSpread(_objectSpread({},config.headers),{},{Authorization:\"Bearer \".concat(readToken())});return config;});httpApi.interceptors.response.use(undefined,function(error){var _error$response,_error$response2;throw new ApiError(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data.message)||error.message,(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data);});","map":{"version":3,"names":["axios","ApiError","readToken","httpApi","create","baseURL","process","env","REACT_APP_BASE_URL","interceptors","request","use","config","headers","Authorization","response","undefined","error","data","message"],"sources":["/workspace/ant-design-react-template/src/api/http.api.ts"],"sourcesContent":["import axios from 'axios';\nimport { AxiosError } from 'axios';\nimport { ApiError } from '@app/api/ApiError';\nimport { readToken } from '@app/services/localStorage.service';\n\nexport const httpApi = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n});\n\nhttpApi.interceptors.request.use((config) => {\n  config.headers = { ...config.headers, Authorization: `Bearer ${readToken()}` };\n\n  return config;\n});\n\nhttpApi.interceptors.response.use(undefined, (error: AxiosError) => {\n  throw new ApiError<ApiErrorData>(error.response?.data.message || error.message, error.response?.data);\n});\n\nexport interface ApiErrorData {\n  message: string;\n}\n"],"mappings":"yHAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB,OAASC,QAAQ,KAAQ,mBAAmB,CAC5C,OAASC,SAAS,KAAQ,oCAAoC,CAE9D,MAAO,IAAMC,QAAO,CAAGH,KAAK,CAACI,MAAM,CAAC,CAClCC,OAAO,CAAEC,OAAO,CAACC,GAAG,CAACC,kBACvB,CAAC,CAAC,CAEFL,OAAO,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,SAACC,MAAM,CAAK,CAC3CA,MAAM,CAACC,OAAO,gCAAQD,MAAM,CAACC,OAAO,MAAEC,aAAa,kBAAYZ,SAAS,EAAE,CAAE,EAAE,CAE9E,MAAOU,OAAM,CACf,CAAC,CAAC,CAEFT,OAAO,CAACM,YAAY,CAACM,QAAQ,CAACJ,GAAG,CAACK,SAAS,CAAE,SAACC,KAAiB,CAAK,sCAClE,KAAM,IAAIhB,SAAQ,CAAe,kBAAAgB,KAAK,CAACF,QAAQ,0CAAd,gBAAgBG,IAAI,CAACC,OAAO,GAAIF,KAAK,CAACE,OAAO,mBAAEF,KAAK,CAACF,QAAQ,2CAAd,iBAAgBG,IAAI,CAAC,CACvG,CAAC,CAAC"},"metadata":{},"sourceType":"module"}