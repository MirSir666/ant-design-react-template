{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nexport var useResetFormOnCloseModal = function useResetFormOnCloseModal(_ref) {\n  _s();\n  var form = _ref.form,\n    visible = _ref.visible;\n  var prevVisibleRef = useRef();\n  useEffect(function () {\n    prevVisibleRef.current = visible;\n  }, [visible]);\n  var prevVisible = prevVisibleRef.current;\n  useEffect(function () {\n    if (!visible && prevVisible) {\n      form.resetFields();\n    }\n  }, [visible, form, prevVisible]);\n};\n_s(useResetFormOnCloseModal, \"Eir/24wBpH6wiZ+UUblFXmTRQI0=\");","map":{"version":3,"names":["useEffect","useRef","useResetFormOnCloseModal","form","visible","prevVisibleRef","current","prevVisible","resetFields"],"sources":["/workspace/ant-design-react-template/src/components/forms/ControlForm/useResetFormOnCloseModal.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { FormInstance } from 'antd';\n\nexport const useResetFormOnCloseModal = ({ form, visible }: { form: FormInstance; visible: boolean }): void => {\n  const prevVisibleRef = useRef<boolean>();\n  useEffect(() => {\n    prevVisibleRef.current = visible;\n  }, [visible]);\n  const prevVisible = prevVisibleRef.current;\n\n  useEffect(() => {\n    if (!visible && prevVisible) {\n      form.resetFields();\n    }\n  }, [visible, form, prevVisible]);\n};\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAGzC,OAAO,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwB,OAA0E;EAAA;EAAA,IAApEC,IAAI,QAAJA,IAAI;IAAEC,OAAO,QAAPA,OAAO;EACtD,IAAMC,cAAc,GAAGJ,MAAM,EAAW;EACxCD,SAAS,CAAC,YAAM;IACdK,cAAc,CAACC,OAAO,GAAGF,OAAO;EAClC,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACb,IAAMG,WAAW,GAAGF,cAAc,CAACC,OAAO;EAE1CN,SAAS,CAAC,YAAM;IACd,IAAI,CAACI,OAAO,IAAIG,WAAW,EAAE;MAC3BJ,IAAI,CAACK,WAAW,EAAE;IACpB;EACF,CAAC,EAAE,CAACJ,OAAO,EAAED,IAAI,EAAEI,WAAW,CAAC,CAAC;AAClC,CAAC;AAAC,GAZWL,wBAAwB"},"metadata":{},"sourceType":"module"}