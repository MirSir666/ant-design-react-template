{"ast":null,"code":"import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useMemo,useState}from'react';import{useTranslation}from'react-i18next';import{Col,Row}from'antd';import{BaseForm}from'@app/components/common/forms/BaseForm/BaseForm';import{Card}from'@app/components/common/Card/Card';import{Payment}from'@app/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/Payment/Payment';import{PaymentsTable}from'@app/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/PaymentsTable/PaymentsTable';import{useResponsive}from'@app/hooks/useResponsive';import{getPaymentHistory}from'@app/api/paymentHistory.api';import*as S from'./PaymentHistory.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PaymentHistory=function PaymentHistory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),history=_useState2[0],setHistory=_useState2[1];var _useResponsive=useResponsive(),mobileOnly=_useResponsive.mobileOnly,isTablet=_useResponsive.isTablet;var _useTranslation=useTranslation(),t=_useTranslation.t;var payments=useMemo(function(){return history.map(function(item){return/*#__PURE__*/_jsx(Payment,{src:item.imgUrl,recipient:item.recipient,date:item.date,status:item.status,price:item.amount,currency:item.currency},item.id);});},[history]);useEffect(function(){getPaymentHistory().then(function(res){return setHistory(res);});},[]);var content=useMemo(function(){return/*#__PURE__*/_jsxs(Row,{gutter:[32,32],children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(BaseForm.Title,{children:t('profile.nav.payments.paymentHistory')})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(S.ContentWrapper,{isEmptyHistory:history.length===0,children:[mobileOnly&&(history.length>0?payments:/*#__PURE__*/_jsx(S.Text,{children:t('profile.nav.payments.noHistory')})),isTablet&&/*#__PURE__*/_jsx(PaymentsTable,{payments:history})]})})]});},[isTablet,history,payments,mobileOnly,t]);return isTablet?content:/*#__PURE__*/_jsx(Card,{children:content});};","map":{"version":3,"names":["React","useEffect","useMemo","useState","useTranslation","Col","Row","BaseForm","Card","Payment","PaymentsTable","useResponsive","getPaymentHistory","S","PaymentHistory","history","setHistory","mobileOnly","isTablet","t","payments","map","item","imgUrl","recipient","date","status","amount","currency","id","then","res","content","length"],"sources":["/workspace/ant-design-react-template/src/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/PaymentHistory/PaymentHistory.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Col, Row } from 'antd';\nimport { BaseForm } from '@app/components/common/forms/BaseForm/BaseForm';\nimport { Card } from '@app/components/common/Card/Card';\nimport { Payment } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/Payment/Payment';\nimport { PaymentsTable } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/PaymentsTable/PaymentsTable';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport { getPaymentHistory, Payment as IPayment } from '@app/api/paymentHistory.api';\nimport * as S from './PaymentHistory.styles';\n\nexport const PaymentHistory: React.FC = () => {\n  const [history, setHistory] = useState<IPayment[]>([]);\n\n  const { mobileOnly, isTablet } = useResponsive();\n\n  const { t } = useTranslation();\n\n  const payments = useMemo(\n    () =>\n      history.map((item) => (\n        <Payment\n          key={item.id}\n          src={item.imgUrl}\n          recipient={item.recipient}\n          date={item.date}\n          status={item.status}\n          price={item.amount}\n          currency={item.currency}\n        />\n      )),\n    [history],\n  );\n\n  useEffect(() => {\n    getPaymentHistory().then((res) => setHistory(res));\n  }, []);\n\n  const content = useMemo(\n    () => (\n      <Row gutter={[32, 32]}>\n        <Col span={24}>\n          <BaseForm.Title>{t('profile.nav.payments.paymentHistory')}</BaseForm.Title>\n        </Col>\n\n        <Col span={24}>\n          <S.ContentWrapper isEmptyHistory={history.length === 0}>\n            {mobileOnly && (history.length > 0 ? payments : <S.Text>{t('profile.nav.payments.noHistory')}</S.Text>)}\n\n            {isTablet && <PaymentsTable payments={history} />}\n          </S.ContentWrapper>\n        </Col>\n      </Row>\n    ),\n    [isTablet, history, payments, mobileOnly, t],\n  );\n\n  return isTablet ? content : <Card>{content}</Card>;\n};\n"],"mappings":"0HAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAC3D,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,GAAG,CAAEC,GAAG,KAAQ,MAAM,CAC/B,OAASC,QAAQ,KAAQ,gDAAgD,CACzE,OAASC,IAAI,KAAQ,kCAAkC,CACvD,OAASC,OAAO,KAAQ,gGAAgG,CACxH,OAASC,aAAa,KAAQ,4GAA4G,CAC1I,OAASC,aAAa,KAAQ,0BAA0B,CACxD,OAASC,iBAAiB,KAA6B,6BAA6B,CACpF,MAAO,GAAKC,EAAC,KAAM,yBAAyB,CAAC,wFAE7C,MAAO,IAAMC,eAAwB,CAAG,QAA3BA,eAAwB,EAAS,CAC5C,cAA8BX,QAAQ,CAAa,EAAE,CAAC,wCAA/CY,OAAO,eAAEC,UAAU,eAE1B,mBAAiCL,aAAa,EAAE,CAAxCM,UAAU,gBAAVA,UAAU,CAAEC,QAAQ,gBAARA,QAAQ,CAE5B,oBAAcd,cAAc,EAAE,CAAtBe,CAAC,iBAADA,CAAC,CAET,GAAMC,SAAQ,CAAGlB,OAAO,CACtB,iBACEa,QAAO,CAACM,GAAG,CAAC,SAACC,IAAI,qBACf,KAAC,OAAO,EAEN,GAAG,CAAEA,IAAI,CAACC,MAAO,CACjB,SAAS,CAAED,IAAI,CAACE,SAAU,CAC1B,IAAI,CAAEF,IAAI,CAACG,IAAK,CAChB,MAAM,CAAEH,IAAI,CAACI,MAAO,CACpB,KAAK,CAAEJ,IAAI,CAACK,MAAO,CACnB,QAAQ,CAAEL,IAAI,CAACM,QAAS,EANnBN,IAAI,CAACO,EAAE,CAOZ,EACH,CAAC,GACJ,CAACd,OAAO,CAAC,CACV,CAEDd,SAAS,CAAC,UAAM,CACdW,iBAAiB,EAAE,CAACkB,IAAI,CAAC,SAACC,GAAG,QAAKf,WAAU,CAACe,GAAG,CAAC,GAAC,CACpD,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMC,QAAO,CAAG9B,OAAO,CACrB,8BACE,MAAC,GAAG,EAAC,MAAM,CAAE,CAAC,EAAE,CAAE,EAAE,CAAE,wBACpB,KAAC,GAAG,EAAC,IAAI,CAAE,EAAG,uBACZ,KAAC,QAAQ,CAAC,KAAK,WAAEiB,CAAC,CAAC,qCAAqC,CAAC,EAAkB,EACvE,cAEN,KAAC,GAAG,EAAC,IAAI,CAAE,EAAG,uBACZ,MAAC,CAAC,CAAC,cAAc,EAAC,cAAc,CAAEJ,OAAO,CAACkB,MAAM,GAAK,CAAE,WACpDhB,UAAU,GAAKF,OAAO,CAACkB,MAAM,CAAG,CAAC,CAAGb,QAAQ,cAAG,KAAC,CAAC,CAAC,IAAI,WAAED,CAAC,CAAC,gCAAgC,CAAC,EAAU,CAAC,CAEtGD,QAAQ,eAAI,KAAC,aAAa,EAAC,QAAQ,CAAEH,OAAQ,EAAG,GAChC,EACf,GACF,EACP,CACD,CAACG,QAAQ,CAAEH,OAAO,CAAEK,QAAQ,CAAEH,UAAU,CAAEE,CAAC,CAAC,CAC7C,CAED,MAAOD,SAAQ,CAAGc,OAAO,cAAG,KAAC,IAAI,WAAEA,OAAO,EAAQ,CACpD,CAAC"},"metadata":{},"sourceType":"module"}