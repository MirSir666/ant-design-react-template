{"ast":null,"code":"import _slicedToArray from \"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/workspace/lightence-ant-design-react-template/src/components/nft-dashboard/recentActivity/RecentActivity.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Col, Row } from 'antd';\nimport { RecentActivityHeader } from '@app/components/nft-dashboard/recentActivity/RecentActivityHeader/RecentActivityHeader';\nimport { RecentActivityFeed } from '@app/components/nft-dashboard/recentActivity/recentActivityFeed/RecentActivityFeed';\nimport { RecentActivityFilter } from '@app/components/nft-dashboard/recentActivity/recentActivityFilters/RecentActivityFilter';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport { getActivities } from '@app/api/activity.api';\nimport * as S from './RecentActivity.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var RecentActivity = function RecentActivity() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      activity = _useState2[0],\n      setActivity = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredActivity = _useState4[0],\n      setFilteredActivity = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 1),\n      hasMore = _useState6[0];\n\n  var _useState7 = useState({\n    status: []\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      filters = _useState8[0],\n      setFilters = _useState8[1];\n\n  var _useResponsive = useResponsive(),\n      isDesktop = _useResponsive.isDesktop;\n\n  useEffect(function () {\n    getActivities().then(function (res) {\n      return setActivity(res);\n    });\n  }, []);\n\n  var next = function next() {\n    getActivities().then(function (newActivity) {\n      return setActivity(activity.concat(newActivity));\n    });\n  };\n\n  useEffect(function () {\n    if (filters.status.length > 0) {\n      setFilteredActivity(activity.filter(function (item) {\n        return filters.status.some(function (filter) {\n          return filter === item.status;\n        });\n      }));\n    } else {\n      setFilteredActivity(activity);\n    }\n  }, [filters.status, activity]);\n  return /*#__PURE__*/_jsxDEV(Row, {\n    gutter: [30, 0],\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      span: 24,\n      children: /*#__PURE__*/_jsxDEV(RecentActivityHeader, {\n        filters: filters,\n        setFilters: setFilters\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Col, {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      xl: 16,\n      children: /*#__PURE__*/_jsxDEV(RecentActivityFeed, {\n        activity: filteredActivity,\n        hasMore: hasMore,\n        next: next\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, _this), isDesktop && /*#__PURE__*/_jsxDEV(S.FilterCol, {\n      span: 8,\n      children: /*#__PURE__*/_jsxDEV(RecentActivityFilter, {\n        filters: filters,\n        setFilters: setFilters,\n        withWrapper: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(RecentActivity, \"qgfcf9W5cJmaMS9A9hNBvH0fujQ=\", false, function () {\n  return [useResponsive];\n});\n\n_c = RecentActivity;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecentActivity\");","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/components/nft-dashboard/recentActivity/RecentActivity.tsx"],"names":["React","useEffect","useState","Col","Row","RecentActivityHeader","RecentActivityFeed","RecentActivityFilter","useResponsive","getActivities","S","RecentActivity","activity","setActivity","filteredActivity","setFilteredActivity","hasMore","status","filters","setFilters","isDesktop","then","res","next","newActivity","concat","length","filter","item","some"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Col, Row } from 'antd';\nimport { RecentActivityHeader } from '@app/components/nft-dashboard/recentActivity/RecentActivityHeader/RecentActivityHeader';\nimport { RecentActivityFeed } from '@app/components/nft-dashboard/recentActivity/recentActivityFeed/RecentActivityFeed';\nimport { RecentActivityFilter } from '@app/components/nft-dashboard/recentActivity/recentActivityFilters/RecentActivityFilter';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport { Activity, getActivities } from '@app/api/activity.api';\nimport * as S from './RecentActivity.styles';\n\nexport interface RecentActivityFilterState {\n  status: string[];\n}\n\nexport const RecentActivity: React.FC = () => {\n  const [activity, setActivity] = useState<Activity[]>([]);\n  const [filteredActivity, setFilteredActivity] = useState<Activity[]>([]);\n  const [hasMore] = useState(true);\n\n  const [filters, setFilters] = useState<RecentActivityFilterState>({\n    status: [],\n  });\n\n  const { isDesktop } = useResponsive();\n\n  useEffect(() => {\n    getActivities().then((res) => setActivity(res));\n  }, []);\n\n  const next = () => {\n    getActivities().then((newActivity) => setActivity(activity.concat(newActivity)));\n  };\n\n  useEffect(() => {\n    if (filters.status.length > 0) {\n      setFilteredActivity(activity.filter((item) => filters.status.some((filter) => filter === item.status)));\n    } else {\n      setFilteredActivity(activity);\n    }\n  }, [filters.status, activity]);\n\n  return (\n    <Row gutter={[30, 0]}>\n      <Col span={24}>\n        <RecentActivityHeader filters={filters} setFilters={setFilters} />\n      </Col>\n\n      <Col xs={24} sm={24} md={24} xl={16}>\n        <RecentActivityFeed activity={filteredActivity} hasMore={hasMore} next={next} />\n      </Col>\n\n      {isDesktop && (\n        <S.FilterCol span={8}>\n          <RecentActivityFilter filters={filters} setFilters={setFilters} withWrapper />\n        </S.FilterCol>\n      )}\n    </Row>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}