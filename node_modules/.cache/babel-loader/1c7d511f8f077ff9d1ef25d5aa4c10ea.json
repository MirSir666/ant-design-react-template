{"ast":null,"code":"import _slicedToArray from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useMemo,useState}from'react';import{useTranslation}from'react-i18next';import{Col,Row}from'antd';import{BaseForm}from'@app/components/common/forms/BaseForm/BaseForm';import{Card}from'@app/components/common/Card/Card';import{Payment}from'@app/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/Payment/Payment';import{PaymentsTable}from'@app/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/PaymentsTable/PaymentsTable';import{useResponsive}from'@app/hooks/useResponsive';import{getPaymentHistory}from'@app/api/paymentHistory.api';import*as S from'./PaymentHistory.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PaymentHistory=function PaymentHistory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),history=_useState2[0],setHistory=_useState2[1];var _useResponsive=useResponsive(),mobileOnly=_useResponsive.mobileOnly,isTablet=_useResponsive.isTablet;var _useTranslation=useTranslation(),t=_useTranslation.t;var payments=useMemo(function(){return history.map(function(item){return/*#__PURE__*/_jsx(Payment,{src:item.imgUrl,recipient:item.recipient,date:item.date,status:item.status,price:item.amount,currency:item.currency},item.id);});},[history]);useEffect(function(){getPaymentHistory().then(function(res){return setHistory(res);});},[]);var content=useMemo(function(){return/*#__PURE__*/_jsxs(Row,{gutter:[32,32],children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(BaseForm.Title,{children:t('profile.nav.payments.paymentHistory')})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(S.ContentWrapper,{isEmptyHistory:history.length===0,children:[mobileOnly&&(history.length>0?payments:/*#__PURE__*/_jsx(S.Text,{children:t('profile.nav.payments.noHistory')})),isTablet&&/*#__PURE__*/_jsx(PaymentsTable,{payments:history})]})})]});},[isTablet,history,payments,mobileOnly,t]);return isTablet?content:/*#__PURE__*/_jsx(Card,{children:content});};","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/PaymentHistory/PaymentHistory.tsx"],"names":["React","useEffect","useMemo","useState","useTranslation","Col","Row","BaseForm","Card","Payment","PaymentsTable","useResponsive","getPaymentHistory","S","PaymentHistory","history","setHistory","mobileOnly","isTablet","t","payments","map","item","imgUrl","recipient","date","status","amount","currency","id","then","res","content","length"],"mappings":"wKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,OAA3B,CAAoCC,QAApC,KAAoD,OAApD,CACA,OAASC,cAAT,KAA+B,eAA/B,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,MAAzB,CACA,OAASC,QAAT,KAAyB,gDAAzB,CACA,OAASC,IAAT,KAAqB,kCAArB,CACA,OAASC,OAAT,KAAwB,gGAAxB,CACA,OAASC,aAAT,KAA8B,4GAA9B,CACA,OAASC,aAAT,KAA8B,0BAA9B,CACA,OAASC,iBAAT,KAAuD,6BAAvD,CACA,MAAO,GAAKC,CAAAA,CAAZ,KAAmB,yBAAnB,C,wFAEA,MAAO,IAAMC,CAAAA,cAAwB,CAAG,QAA3BA,CAAAA,cAA2B,EAAM,CAC5C,cAA8BX,QAAQ,CAAa,EAAb,CAAtC,wCAAOY,OAAP,eAAgBC,UAAhB,eAEA,mBAAiCL,aAAa,EAA9C,CAAQM,UAAR,gBAAQA,UAAR,CAAoBC,QAApB,gBAAoBA,QAApB,CAEA,oBAAcd,cAAc,EAA5B,CAAQe,CAAR,iBAAQA,CAAR,CAEA,GAAMC,CAAAA,QAAQ,CAAGlB,OAAO,CACtB,iBACEa,CAAAA,OAAO,CAACM,GAAR,CAAY,SAACC,IAAD,qBACV,KAAC,OAAD,EAEE,GAAG,CAAEA,IAAI,CAACC,MAFZ,CAGE,SAAS,CAAED,IAAI,CAACE,SAHlB,CAIE,IAAI,CAAEF,IAAI,CAACG,IAJb,CAKE,MAAM,CAAEH,IAAI,CAACI,MALf,CAME,KAAK,CAAEJ,IAAI,CAACK,MANd,CAOE,QAAQ,CAAEL,IAAI,CAACM,QAPjB,EACON,IAAI,CAACO,EADZ,CADU,EAAZ,CADF,EADsB,CAatB,CAACd,OAAD,CAbsB,CAAxB,CAgBAd,SAAS,CAAC,UAAM,CACdW,iBAAiB,GAAGkB,IAApB,CAAyB,SAACC,GAAD,QAASf,CAAAA,UAAU,CAACe,GAAD,CAAnB,EAAzB,EACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,CAAAA,OAAO,CAAG9B,OAAO,CACrB,8BACE,MAAC,GAAD,EAAK,MAAM,CAAE,CAAC,EAAD,CAAK,EAAL,CAAb,wBACE,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,uBACE,KAAC,QAAD,CAAU,KAAV,WAAiBiB,CAAC,CAAC,qCAAD,CAAlB,EADF,EADF,cAKE,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,uBACE,MAAC,CAAD,CAAG,cAAH,EAAkB,cAAc,CAAEJ,OAAO,CAACkB,MAAR,GAAmB,CAArD,WACGhB,UAAU,GAAKF,OAAO,CAACkB,MAAR,CAAiB,CAAjB,CAAqBb,QAArB,cAAgC,KAAC,CAAD,CAAG,IAAH,WAASD,CAAC,CAAC,gCAAD,CAAV,EAArC,CADb,CAGGD,QAAQ,eAAI,KAAC,aAAD,EAAe,QAAQ,CAAEH,OAAzB,EAHf,GADF,EALF,GADF,EADqB,CAgBrB,CAACG,QAAD,CAAWH,OAAX,CAAoBK,QAApB,CAA8BH,UAA9B,CAA0CE,CAA1C,CAhBqB,CAAvB,CAmBA,MAAOD,CAAAA,QAAQ,CAAGc,OAAH,cAAa,KAAC,IAAD,WAAOA,OAAP,EAA5B,CACD,CA/CM","sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Col, Row } from 'antd';\nimport { BaseForm } from '@app/components/common/forms/BaseForm/BaseForm';\nimport { Card } from '@app/components/common/Card/Card';\nimport { Payment } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/Payment/Payment';\nimport { PaymentsTable } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentHistory/PaymentsTable/PaymentsTable';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport { getPaymentHistory, Payment as IPayment } from '@app/api/paymentHistory.api';\nimport * as S from './PaymentHistory.styles';\n\nexport const PaymentHistory: React.FC = () => {\n  const [history, setHistory] = useState<IPayment[]>([]);\n\n  const { mobileOnly, isTablet } = useResponsive();\n\n  const { t } = useTranslation();\n\n  const payments = useMemo(\n    () =>\n      history.map((item) => (\n        <Payment\n          key={item.id}\n          src={item.imgUrl}\n          recipient={item.recipient}\n          date={item.date}\n          status={item.status}\n          price={item.amount}\n          currency={item.currency}\n        />\n      )),\n    [history],\n  );\n\n  useEffect(() => {\n    getPaymentHistory().then((res) => setHistory(res));\n  }, []);\n\n  const content = useMemo(\n    () => (\n      <Row gutter={[32, 32]}>\n        <Col span={24}>\n          <BaseForm.Title>{t('profile.nav.payments.paymentHistory')}</BaseForm.Title>\n        </Col>\n\n        <Col span={24}>\n          <S.ContentWrapper isEmptyHistory={history.length === 0}>\n            {mobileOnly && (history.length > 0 ? payments : <S.Text>{t('profile.nav.payments.noHistory')}</S.Text>)}\n\n            {isTablet && <PaymentsTable payments={history} />}\n          </S.ContentWrapper>\n        </Col>\n      </Row>\n    ),\n    [isTablet, history, payments, mobileOnly, t],\n  );\n\n  return isTablet ? content : <Card>{content}</Card>;\n};\n"]},"metadata":{},"sourceType":"module"}