{"ast":null,"code":"import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Empty}from'antd';import{ArticleCard}from'@app/components/common/ArticleCard/ArticleCard';import{Feed}from'@app/components/common/Feed/Feed';import{NewsFilter}from'@app/components/apps/newsFeed/NewsFilter/NewsFilter';import{getNews}from'@app/api/news.api';import{jsx as _jsx}from\"react/jsx-runtime\";export var NewsFeed=function NewsFeed(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),news=_useState2[0],setNews=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,1),hasMore=_useState4[0];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loaded=_useState6[0],setLoaded=_useState6[1];useEffect(function(){getNews().then(function(res){return setNews(res);}).finally(function(){return setLoaded(true);});},[]);var next=function next(){getNews().then(function(newNews){return setNews(news.concat(newNews));});};return/*#__PURE__*/_jsx(NewsFilter,{news:news,children:function children(_ref){var filteredNews=_ref.filteredNews;return filteredNews!==null&&filteredNews!==void 0&&filteredNews.length||!loaded?/*#__PURE__*/_jsx(Feed,{next:next,hasMore:hasMore,children:filteredNews.map(function(post,index){return/*#__PURE__*/_jsx(ArticleCard,{title:post.title,description:post.text,date:post.date,imgUrl:post.img,author:post.author,avatar:post.avatarUrl,tags:post.tags},index);})}):/*#__PURE__*/_jsx(Empty,{});}});};","map":{"version":3,"names":["React","useEffect","useState","Empty","ArticleCard","Feed","NewsFilter","getNews","NewsFeed","news","setNews","hasMore","loaded","setLoaded","then","res","finally","next","newNews","concat","filteredNews","length","map","post","index","title","text","date","img","author","avatarUrl","tags"],"sources":["/workspace/ant-design-react-template/src/components/apps/newsFeed/NewsFeed.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Empty } from 'antd';\nimport { ArticleCard } from '@app/components/common/ArticleCard/ArticleCard';\nimport { Feed } from '@app/components/common/Feed/Feed';\nimport { NewsFilter } from '@app/components/apps/newsFeed/NewsFilter/NewsFilter';\nimport { getNews, Post } from '@app/api/news.api';\n\nexport const NewsFeed: React.FC = () => {\n  const [news, setNews] = useState<Post[]>([]);\n  const [hasMore] = useState<boolean>(true);\n  const [loaded, setLoaded] = useState<boolean>(false);\n\n  useEffect(() => {\n    getNews()\n      .then((res) => setNews(res))\n      .finally(() => setLoaded(true));\n  }, []);\n\n  const next = () => {\n    getNews().then((newNews) => setNews(news.concat(newNews)));\n  };\n\n  return (\n    <NewsFilter news={news}>\n      {({ filteredNews }) =>\n        filteredNews?.length || !loaded ? (\n          <Feed next={next} hasMore={hasMore}>\n            {filteredNews.map((post, index) => (\n              <ArticleCard\n                key={index}\n                title={post.title}\n                description={post.text}\n                date={post.date}\n                imgUrl={post.img}\n                author={post.author}\n                avatar={post.avatarUrl}\n                tags={post.tags}\n              />\n            ))}\n          </Feed>\n        ) : (\n          <Empty />\n        )\n      }\n    </NewsFilter>\n  );\n};\n"],"mappings":"0HAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,KAAK,KAAQ,MAAM,CAC5B,OAASC,WAAW,KAAQ,gDAAgD,CAC5E,OAASC,IAAI,KAAQ,kCAAkC,CACvD,OAASC,UAAU,KAAQ,qDAAqD,CAChF,OAASC,OAAO,KAAc,mBAAmB,CAAC,2CAElD,MAAO,IAAMC,SAAkB,CAAG,QAArBA,SAAkB,EAAS,CACtC,cAAwBN,QAAQ,CAAS,EAAE,CAAC,wCAArCO,IAAI,eAAEC,OAAO,eACpB,eAAkBR,QAAQ,CAAU,IAAI,CAAC,yCAAlCS,OAAO,eACd,eAA4BT,QAAQ,CAAU,KAAK,CAAC,yCAA7CU,MAAM,eAAEC,SAAS,eAExBZ,SAAS,CAAC,UAAM,CACdM,OAAO,EAAE,CACNO,IAAI,CAAC,SAACC,GAAG,QAAKL,QAAO,CAACK,GAAG,CAAC,GAAC,CAC3BC,OAAO,CAAC,iBAAMH,UAAS,CAAC,IAAI,CAAC,GAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMI,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjBV,OAAO,EAAE,CAACO,IAAI,CAAC,SAACI,OAAO,QAAKR,QAAO,CAACD,IAAI,CAACU,MAAM,CAACD,OAAO,CAAC,CAAC,GAAC,CAC5D,CAAC,CAED,mBACE,KAAC,UAAU,EAAC,IAAI,CAAET,IAAK,UACpB,2BAAGW,aAAY,MAAZA,YAAY,OACdA,aAAY,SAAZA,YAAY,WAAZA,YAAY,CAAEC,MAAM,EAAI,CAACT,MAAM,cAC7B,KAAC,IAAI,EAAC,IAAI,CAAEK,IAAK,CAAC,OAAO,CAAEN,OAAQ,UAChCS,YAAY,CAACE,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBAC5B,KAAC,WAAW,EAEV,KAAK,CAAED,IAAI,CAACE,KAAM,CAClB,WAAW,CAAEF,IAAI,CAACG,IAAK,CACvB,IAAI,CAAEH,IAAI,CAACI,IAAK,CAChB,MAAM,CAAEJ,IAAI,CAACK,GAAI,CACjB,MAAM,CAAEL,IAAI,CAACM,MAAO,CACpB,MAAM,CAAEN,IAAI,CAACO,SAAU,CACvB,IAAI,CAAEP,IAAI,CAACQ,IAAK,EAPXP,KAAK,CAQV,EACH,CAAC,EACG,cAEP,KAAC,KAAK,IACP,IAEQ,CAEjB,CAAC"},"metadata":{},"sourceType":"module"}