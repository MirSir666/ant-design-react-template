{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useState}from'react';import{Checkbox}from'antd';import{useTranslation}from'react-i18next';import{BaseButtonsForm}from'@app/components/common/forms/BaseButtonsForm/BaseButtonsForm';import{CheckboxColumn}from'@app/components/profile/profileCard/profileFormNav/nav/notifications/CheckboxColumn/CheckboxColumn';import*as S from'./NotificationsTypes.styles';import{BaseButtonsGroup}from'@app/components/common/forms/components/BaseButtonsGroup/BaseButtonsGroup';import{notificationController}from'@app/controllers/notificationController';import{jsx as _jsx}from\"react/jsx-runtime\";export var NotificationsTypes=function NotificationsTypes(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({1:[],2:[],3:[]}),_useState4=_slicedToArray(_useState3,2),checkedElements=_useState4[0],setCheckedElements=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isTriggered=_useState6[0],setTriggered=_useState6[1];var options=[{id:1,header:t('common.email'),headerRender:function headerRender(text,props){return/*#__PURE__*/_jsx(Checkbox,_objectSpread(_objectSpread({},props),{},{children:text}));},data:['emailMessages','emailMentions','emailReminders','emailAllNews','emailImportantNews','emailActionRequired'],dataRender:function dataRender(text){return/*#__PURE__*/_jsx(Checkbox,{value:text});}},{id:2,header:t('profile.nav.notifications.push'),headerRender:function headerRender(text,props){return/*#__PURE__*/_jsx(Checkbox,_objectSpread(_objectSpread({},props),{},{children:text}));},data:['pushMessages','pushMentions','pushReminders','pushAllNews','pushImportantNews','pushActionRequired'],dataRender:function dataRender(text){return/*#__PURE__*/_jsx(Checkbox,{value:text});}},{id:3,header:t('profile.nav.notifications.SMS'),headerRender:function headerRender(text,props){return/*#__PURE__*/_jsx(Checkbox,_objectSpread(_objectSpread({},props),{},{children:text}));},data:['smsMessages','smsMentions','smsReminders','smsAllNews','smsImportantNews','smsActionRequired'],dataRender:function dataRender(text){return/*#__PURE__*/_jsx(Checkbox,{value:text});}},{id:4,header:t('profile.nav.notifications.activities'),data:[t('profile.nav.notifications.directMessages'),t('profile.nav.notifications.mentions'),t('profile.nav.notifications.reminders'),t('profile.nav.notifications.allNews'),t('profile.nav.notifications.importantNews'),t('profile.nav.notifications.actionRequired')]}];var handleCheck=useCallback(function(mode){return function(list){setCheckedElements(_objectSpread(_objectSpread({},checkedElements),{},_defineProperty({},mode,list)));};},[checkedElements]);var onCancel=useCallback(function(){setTriggered(false);},[setTriggered]);var onFinish=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);setTimeout(function(){setLoading(false);setTriggered(false);notificationController.success({message:t('common.success')});console.log(checkedElements);},1000);case 2:case\"end\":return _context.stop();}}},_callee);})),[setTriggered,checkedElements,t]);return/*#__PURE__*/_jsx(BaseButtonsForm,{name:\"notifications\",onFinish:onFinish,isFieldsChanged:isTriggered,setFieldsChanged:setTriggered,footer:/*#__PURE__*/_jsx(BaseButtonsGroup,{loading:isLoading,onCancel:onCancel}),children:/*#__PURE__*/_jsx(S.Wrapper,{children:options.map(function(item){return/*#__PURE__*/_jsx(CheckboxColumn,{column:item,handleCheck:handleCheck(item.id),setTriggered:setTriggered},item.id);})})});};","map":{"version":3,"names":["React","useCallback","useState","Checkbox","useTranslation","BaseButtonsForm","CheckboxColumn","S","BaseButtonsGroup","notificationController","NotificationsTypes","t","isLoading","setLoading","checkedElements","setCheckedElements","isTriggered","setTriggered","options","id","header","headerRender","text","props","data","dataRender","handleCheck","mode","list","onCancel","onFinish","setTimeout","success","message","console","log","map","item"],"sources":["/workspace/ant-design-react-template/src/components/profile/profileCard/profileFormNav/nav/notifications/NotificationsTypes/NotificationsTypes.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { Checkbox } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { CheckboxValueType } from 'antd/lib/checkbox/Group';\nimport { BaseButtonsForm } from '@app/components/common/forms/BaseButtonsForm/BaseButtonsForm';\nimport { CheckboxColumn } from '@app/components/profile/profileCard/profileFormNav/nav/notifications/CheckboxColumn/CheckboxColumn';\nimport { Option } from '@app/components/profile/profileCard/profileFormNav/nav/notifications/interfaces';\nimport * as S from './NotificationsTypes.styles';\nimport { BaseButtonsGroup } from '@app/components/common/forms/components/BaseButtonsGroup/BaseButtonsGroup';\nimport { notificationController } from '@app/controllers/notificationController';\n\ninterface Notifications {\n  1: string[];\n  2: string[];\n  3: string[];\n}\n\nexport const NotificationsTypes: React.FC = () => {\n  const { t } = useTranslation();\n  const [isLoading, setLoading] = useState(false);\n  const [checkedElements, setCheckedElements] = useState<Notifications>({\n    1: [],\n    2: [],\n    3: [],\n  });\n\n  const [isTriggered, setTriggered] = useState(false);\n\n  const options: Option[] = [\n    {\n      id: 1,\n      header: t('common.email'),\n      headerRender: (text, props) => <Checkbox {...props}>{text}</Checkbox>,\n      data: [\n        'emailMessages',\n        'emailMentions',\n        'emailReminders',\n        'emailAllNews',\n        'emailImportantNews',\n        'emailActionRequired',\n      ],\n      dataRender: (text) => <Checkbox value={text} />,\n    },\n    {\n      id: 2,\n      header: t('profile.nav.notifications.push'),\n      headerRender: (text, props) => <Checkbox {...props}>{text}</Checkbox>,\n      data: ['pushMessages', 'pushMentions', 'pushReminders', 'pushAllNews', 'pushImportantNews', 'pushActionRequired'],\n      dataRender: (text) => <Checkbox value={text} />,\n    },\n    {\n      id: 3,\n      header: t('profile.nav.notifications.SMS'),\n      headerRender: (text, props) => <Checkbox {...props}>{text}</Checkbox>,\n      data: ['smsMessages', 'smsMentions', 'smsReminders', 'smsAllNews', 'smsImportantNews', 'smsActionRequired'],\n      dataRender: (text) => <Checkbox value={text} />,\n    },\n    {\n      id: 4,\n      header: t('profile.nav.notifications.activities'),\n      data: [\n        t('profile.nav.notifications.directMessages'),\n        t('profile.nav.notifications.mentions'),\n        t('profile.nav.notifications.reminders'),\n        t('profile.nav.notifications.allNews'),\n        t('profile.nav.notifications.importantNews'),\n        t('profile.nav.notifications.actionRequired'),\n      ],\n    },\n  ];\n\n  const handleCheck = useCallback(\n    (mode: number) => (list: CheckboxValueType[]) => {\n      setCheckedElements({ ...checkedElements, [mode]: list });\n    },\n    [checkedElements],\n  );\n\n  const onCancel = useCallback(() => {\n    setTriggered(false);\n  }, [setTriggered]);\n\n  const onFinish = useCallback(async () => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n      setTriggered(false);\n      notificationController.success({ message: t('common.success') });\n      console.log(checkedElements);\n    }, 1000);\n  }, [setTriggered, checkedElements, t]);\n\n  return (\n    <BaseButtonsForm\n      name=\"notifications\"\n      onFinish={onFinish}\n      isFieldsChanged={isTriggered}\n      setFieldsChanged={setTriggered}\n      footer={<BaseButtonsGroup loading={isLoading} onCancel={onCancel} />}\n    >\n      <S.Wrapper>\n        {options.map((item) => (\n          <CheckboxColumn key={item.id} column={item} handleCheck={handleCheck(item.id)} setTriggered={setTriggered} />\n        ))}\n      </S.Wrapper>\n    </BaseButtonsForm>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}