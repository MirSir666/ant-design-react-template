{"ast":null,"code":"import _objectSpread from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"onFinishFailed\",\"layout\"];import React from'react';import{Form}from'antd';import{useTranslation}from'react-i18next';import{BaseFormTitle}from'@app/components/common/forms/components/BaseFormTitle/BaseFormTitle';import{BaseFormItem}from'@app/components/common/forms/components/BaseFormItem/BaseFormItem';import{BaseFormList}from'@app/components/common/forms/components/BaseFormList/BaseFormList';import{notificationController}from'@app/controllers/notificationController';// eslint-disable-next-line @typescript-eslint/no-explicit-any\nimport{jsx as _jsx}from\"react/jsx-runtime\";export var BaseForm=function BaseForm(_ref){var onFinishFailed=_ref.onFinishFailed,_ref$layout=_ref.layout,layout=_ref$layout===void 0?'vertical':_ref$layout,props=_objectWithoutProperties(_ref,_excluded);var _useTranslation=useTranslation(),t=_useTranslation.t;var onFinishFailedDefault=function onFinishFailedDefault(error){notificationController.error({message:t('common.error'),description:error.errorFields[0].errors});};return/*#__PURE__*/_jsx(Form,_objectSpread({onFinishFailed:onFinishFailed||onFinishFailedDefault,layout:layout},props));};BaseForm.Title=BaseFormTitle;BaseForm.Item=BaseFormItem;BaseForm.List=BaseFormList;BaseForm.useForm=Form.useForm;BaseForm.Provider=Form.Provider;","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/components/common/forms/BaseForm/BaseForm.tsx"],"names":["React","Form","useTranslation","BaseFormTitle","BaseFormItem","BaseFormList","notificationController","BaseForm","onFinishFailed","layout","props","t","onFinishFailedDefault","error","message","description","errorFields","errors","Title","Item","List","useForm","Provider"],"mappings":"6YAAA,MAAOA,CAAAA,KAAP,KAAsC,OAAtC,CACA,OAASC,IAAT,KAAqB,MAArB,CACA,OAASC,cAAT,KAA+B,eAA/B,CAEA,OAASC,aAAT,KAA8B,qEAA9B,CACA,OAASC,YAAT,KAA6B,mEAA7B,CACA,OAASC,YAAT,KAA6B,mEAA7B,CACA,OAASC,sBAAT,KAAuC,yCAAvC,CAEA;2CAWA,MAAO,IAAMC,CAAAA,QAA0C,CAAG,QAA7CA,CAAAA,QAA6C,MAAuD,IAApDC,CAAAA,cAAoD,MAApDA,cAAoD,kBAApCC,MAAoC,CAApCA,MAAoC,sBAA3B,UAA2B,aAAZC,KAAY,0CAC/G,oBAAcR,cAAc,EAA5B,CAAQS,CAAR,iBAAQA,CAAR,CAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,KAAD,CAAyC,CACrEP,sBAAsB,CAACO,KAAvB,CAA6B,CAC3BC,OAAO,CAAEH,CAAC,CAAC,cAAD,CADiB,CAE3BI,WAAW,CAAEF,KAAK,CAACG,WAAN,CAAkB,CAAlB,EAAqBC,MAFP,CAA7B,EAID,CALD,CAOA,mBAAO,KAAC,IAAD,gBAAM,cAAc,CAAET,cAAc,EAAII,qBAAxC,CAA+D,MAAM,CAAEH,MAAvE,EAAmFC,KAAnF,EAAP,CACD,CAXM,CAaPH,QAAQ,CAACW,KAAT,CAAiBf,aAAjB,CACAI,QAAQ,CAACY,IAAT,CAAgBf,YAAhB,CACAG,QAAQ,CAACa,IAAT,CAAgBf,YAAhB,CACAE,QAAQ,CAACc,OAAT,CAAmBpB,IAAI,CAACoB,OAAxB,CACAd,QAAQ,CAACe,QAAT,CAAoBrB,IAAI,CAACqB,QAAzB","sourcesContent":["import React, { ComponentProps } from 'react';\nimport { Form } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { ValidateErrorEntity } from 'rc-field-form/lib/interface';\nimport { BaseFormTitle } from '@app/components/common/forms/components/BaseFormTitle/BaseFormTitle';\nimport { BaseFormItem } from '@app/components/common/forms/components/BaseFormItem/BaseFormItem';\nimport { BaseFormList } from '@app/components/common/forms/components/BaseFormList/BaseFormList';\nimport { notificationController } from '@app/controllers/notificationController';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type BaseFormProps = Omit<ComponentProps<typeof Form>, 'onFinish'> & { onFinish?: (values: any) => void };\n\nexport interface BaseFormInterface<T> extends React.FC<T> {\n  Title: typeof BaseFormTitle;\n  Item: typeof BaseFormItem;\n  List: typeof BaseFormList;\n  useForm: typeof Form.useForm;\n  Provider: typeof Form.Provider;\n}\n\nexport const BaseForm: BaseFormInterface<BaseFormProps> = ({ onFinishFailed, layout = 'vertical', ...props }) => {\n  const { t } = useTranslation();\n\n  const onFinishFailedDefault = (error: ValidateErrorEntity<unknown>) => {\n    notificationController.error({\n      message: t('common.error'),\n      description: error.errorFields[0].errors,\n    });\n  };\n\n  return <Form onFinishFailed={onFinishFailed || onFinishFailedDefault} layout={layout} {...props} />;\n};\n\nBaseForm.Title = BaseFormTitle;\nBaseForm.Item = BaseFormItem;\nBaseForm.List = BaseFormList;\nBaseForm.useForm = Form.useForm;\nBaseForm.Provider = Form.Provider;\n"]},"metadata":{},"sourceType":"module"}