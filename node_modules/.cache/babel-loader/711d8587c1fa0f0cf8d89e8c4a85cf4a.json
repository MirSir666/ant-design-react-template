{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"option\",\"width\",\"height\",\"onEvents\",\"style\"];import React,{useEffect,useState}from'react';import ReactECharts from'echarts-for-react';import{Loading}from'../Loading';import{useAppSelector}from'@app/hooks/reduxHooks';import{themeObject}from'@app/styles/themes/themeVariables';import{BORDER_RADIUS}from'@app/styles/themes/constants';import{jsx as _jsx}from\"react/jsx-runtime\";export var getChartColors=function getChartColors(theme){return[theme.chartColor1,theme.chartColor2,theme.chartColor3,theme.chartColor4,theme.chartColor5];};export var getDefaultTooltipStyles=function getDefaultTooltipStyles(theme){return{borderColor:theme.chartColor1,borderWidth:2,borderRadius:Number.parseInt(BORDER_RADIUS),textStyle:{fontWeight:600,fontSize:16,color:theme.chartColor1}};};export var BaseChart=function BaseChart(_ref){var option=_ref.option,width=_ref.width,height=_ref.height,onEvents=_ref.onEvents,style=_ref.style,props=_objectWithoutProperties(_ref,_excluded);var theme=useAppSelector(function(state){return state.theme.theme;});var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var chartHeight=height||'400px';var defaultOption={color:getChartColors(themeObject[theme])};useEffect(function(){// TODO FIXME workaround to make sure that parent container is initialized before the chart\nsetTimeout(function(){setLoading(false);},1000/2);},[]);return loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(ReactECharts,_objectSpread(_objectSpread({},props),{},{option:_objectSpread(_objectSpread({},defaultOption),option),style:_objectSpread(_objectSpread({},style),{},{height:chartHeight,minHeight:height==='100%'?400:'unset',width:width,zIndex:0}),onEvents:onEvents}));};","map":{"version":3,"names":["React","useEffect","useState","ReactECharts","Loading","useAppSelector","themeObject","BORDER_RADIUS","getChartColors","theme","chartColor1","chartColor2","chartColor3","chartColor4","chartColor5","getDefaultTooltipStyles","borderColor","borderWidth","borderRadius","Number","parseInt","textStyle","fontWeight","fontSize","color","BaseChart","option","width","height","onEvents","style","props","state","loading","setLoading","chartHeight","defaultOption","setTimeout","minHeight","zIndex"],"sources":["/workspace/ant-design-react-template/src/components/common/charts/BaseChart.tsx"],"sourcesContent":["import React, { CSSProperties, useEffect, useState } from 'react';\nimport { EChartsOption } from 'echarts-for-react';\nimport ReactECharts from 'echarts-for-react';\nimport { Loading } from '../Loading';\nimport { useAppSelector } from '@app/hooks/reduxHooks';\nimport { themeObject } from '@app/styles/themes/themeVariables';\nimport { ITheme } from '@app/styles/themes/types';\nimport { BORDER_RADIUS } from '@app/styles/themes/constants';\n\nexport interface BaseChartProps {\n  option?: EChartsOption;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onEvents?: Record<string, (e: any) => void>;\n  width?: string | number;\n  height?: string | number;\n  style?: CSSProperties;\n  classname?: string;\n}\n\ninterface DefaultTooltipStyles {\n  borderColor: string;\n  borderWidth: number;\n  borderRadius: number;\n  textStyle: {\n    fontWeight: number;\n    fontSize: number;\n    color: string;\n  };\n}\n\nexport const getChartColors = (theme: ITheme): string[] => [\n  theme.chartColor1,\n  theme.chartColor2,\n  theme.chartColor3,\n  theme.chartColor4,\n  theme.chartColor5,\n];\n\nexport const getDefaultTooltipStyles = (theme: ITheme): DefaultTooltipStyles => ({\n  borderColor: theme.chartColor1,\n  borderWidth: 2,\n  borderRadius: Number.parseInt(BORDER_RADIUS),\n  textStyle: {\n    fontWeight: 600,\n    fontSize: 16,\n    color: theme.chartColor1,\n  },\n});\n\nexport const BaseChart: React.FC<BaseChartProps> = ({ option, width, height, onEvents, style, ...props }) => {\n  const theme = useAppSelector((state) => state.theme.theme);\n  const [loading, setLoading] = useState(true);\n\n  const chartHeight = height || '400px';\n\n  const defaultOption = {\n    color: getChartColors(themeObject[theme]),\n  };\n\n  useEffect(() => {\n    // TODO FIXME workaround to make sure that parent container is initialized before the chart\n    setTimeout(() => {\n      setLoading(false);\n    }, 1000 / 2);\n  }, []);\n\n  return loading ? (\n    <Loading />\n  ) : (\n    <ReactECharts\n      {...props}\n      option={{ ...defaultOption, ...option }}\n      style={{ ...style, height: chartHeight, minHeight: height === '100%' ? 400 : 'unset', width, zIndex: 0 }}\n      onEvents={onEvents}\n    />\n  );\n};\n"],"mappings":"8bAAA,MAAOA,MAAK,EAAmBC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAEjE,MAAOC,aAAY,KAAM,mBAAmB,CAC5C,OAASC,OAAO,KAAQ,YAAY,CACpC,OAASC,cAAc,KAAQ,uBAAuB,CACtD,OAASC,WAAW,KAAQ,mCAAmC,CAE/D,OAASC,aAAa,KAAQ,8BAA8B,CAAC,2CAuB7D,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIC,KAAa,QAAe,CACzDA,KAAK,CAACC,WAAW,CACjBD,KAAK,CAACE,WAAW,CACjBF,KAAK,CAACG,WAAW,CACjBH,KAAK,CAACI,WAAW,CACjBJ,KAAK,CAACK,WAAW,CAClB,GAED,MAAO,IAAMC,wBAAuB,CAAG,QAA1BA,wBAAuB,CAAIN,KAAa,QAA4B,CAC/EO,WAAW,CAAEP,KAAK,CAACC,WAAW,CAC9BO,WAAW,CAAE,CAAC,CACdC,YAAY,CAAEC,MAAM,CAACC,QAAQ,CAACb,aAAa,CAAC,CAC5Cc,SAAS,CAAE,CACTC,UAAU,CAAE,GAAG,CACfC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAEf,KAAK,CAACC,WACf,CACF,CAAC,EAAC,CAEF,MAAO,IAAMe,UAAmC,CAAG,QAAtCA,UAAmC,MAA6D,IAAvDC,OAAM,MAANA,MAAM,CAAEC,KAAK,MAALA,KAAK,CAAEC,MAAM,MAANA,MAAM,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,KAAK,MAALA,KAAK,CAAKC,KAAK,0CACpG,GAAMtB,MAAK,CAAGJ,cAAc,CAAC,SAAC2B,KAAK,QAAKA,MAAK,CAACvB,KAAK,CAACA,KAAK,GAAC,CAC1D,cAA8BP,QAAQ,CAAC,IAAI,CAAC,wCAArC+B,OAAO,eAAEC,UAAU,eAE1B,GAAMC,YAAW,CAAGP,MAAM,EAAI,OAAO,CAErC,GAAMQ,cAAa,CAAG,CACpBZ,KAAK,CAAEhB,cAAc,CAACF,WAAW,CAACG,KAAK,CAAC,CAC1C,CAAC,CAEDR,SAAS,CAAC,UAAM,CACd;AACAoC,UAAU,CAAC,UAAM,CACfH,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,IAAI,CAAG,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,MAAOD,QAAO,cACZ,KAAC,OAAO,IAAG,cAEX,KAAC,YAAY,gCACPF,KAAK,MACT,MAAM,gCAAOK,aAAa,EAAKV,MAAM,CAAG,CACxC,KAAK,gCAAOI,KAAK,MAAEF,MAAM,CAAEO,WAAW,CAAEG,SAAS,CAAEV,MAAM,GAAK,MAAM,CAAG,GAAG,CAAG,OAAO,CAAED,KAAK,CAALA,KAAK,CAAEY,MAAM,CAAE,CAAC,EAAG,CACzG,QAAQ,CAAEV,QAAS,GAEtB,CACH,CAAC"},"metadata":{},"sourceType":"module"}