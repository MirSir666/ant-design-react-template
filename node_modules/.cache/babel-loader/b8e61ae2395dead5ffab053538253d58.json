{"ast":null,"code":"import _objectSpread from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nvar _jsxFileName = \"/workspace/ant-design-react-template/src/components/apps/kanban/newCardForm/TagDropdown/TagDropdown.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\nimport { kanbanTags } from 'constants/kanbanTags';\nimport * as S from './TagDropdown.styles';\nimport { Tag } from 'components/common/Tag/Tag';\nimport { PlusCircleFilled } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var TagDropdown = function TagDropdown(_ref) {\n  _s();\n  var selectedTags = _ref.selectedTags,\n    setSelectedTags = _ref.setSelectedTags;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var kanbanTagData = Object.values(kanbanTags);\n  var selectedTagsIds = selectedTags.map(function (item) {\n    return item.id;\n  });\n  var onTagClick = function onTagClick(tag) {\n    var isExist = selectedTagsIds.includes(tag.id);\n    if (isExist) {\n      setSelectedTags(selectedTags.filter(function (item) {\n        return item.id !== tag.id;\n      }));\n    } else {\n      setSelectedTags([].concat(_toConsumableArray(selectedTags), [tag]));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    trigger: ['click'],\n    overlay: /*#__PURE__*/_jsxDEV(S.EditTagPopover, {\n      children: [kanbanTagData.map(function (tag) {\n        return /*#__PURE__*/_jsxDEV(S.EditTagPopoverLine, {\n          onClick: function onClick(e) {\n            onTagClick(tag);\n            e.stopPropagation();\n          },\n          children: [/*#__PURE__*/_jsxDEV(S.PopoverCheckbox, {\n            checked: selectedTagsIds.includes(tag.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(S.TagWrapper, {\n            backgroundColor: tag.bgColor,\n            children: [\"#\", tag.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, _this)]\n        }, tag.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, _this);\n      }), /*#__PURE__*/_jsxDEV(S.RemoveTagWrapper, {\n        children: /*#__PURE__*/_jsxDEV(S.RemoveTag, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, _this),\n    children: selectedTags && selectedTags.length > 0 ? /*#__PURE__*/_jsxDEV(S.TagsWrapper, {\n      children: [selectedTags.map(function (tag) {\n        return /*#__PURE__*/_jsxDEV(Tag, _objectSpread(_objectSpread({}, tag), {}, {\n          removeTag: function removeTag() {\n            return onTagClick(tag);\n          }\n        }), tag.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, _this);\n      }), /*#__PURE__*/_jsxDEV(S.TagPlusWrapper, {\n        children: /*#__PURE__*/_jsxDEV(PlusCircleFilled, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(S.TagsWrapper, {\n      children: /*#__PURE__*/_jsxDEV(S.AddTag, {\n        children: t('kanban.addTag')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, _this);\n};\n_s(TagDropdown, \"zlIdU9EjM2llFt74AbE2KsUJXyM=\", false, function () {\n  return [useTranslation];\n});\n_c = TagDropdown;\nvar _c;\n$RefreshReg$(_c, \"TagDropdown\");","map":{"version":3,"names":["React","useTranslation","Dropdown","kanbanTags","S","Tag","PlusCircleFilled","TagDropdown","selectedTags","setSelectedTags","t","kanbanTagData","Object","values","selectedTagsIds","map","item","id","onTagClick","tag","isExist","includes","filter","e","stopPropagation","bgColor","title","length"],"sources":["/workspace/ant-design-react-template/src/components/apps/kanban/newCardForm/TagDropdown/TagDropdown.tsx"],"sourcesContent":["import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\nimport { Tag as ITag } from '../../interfaces';\nimport { kanbanTags } from 'constants/kanbanTags';\nimport * as S from './TagDropdown.styles';\nimport { Tag } from 'components/common/Tag/Tag';\nimport { PlusCircleFilled } from '@ant-design/icons';\n\ninterface TagDropdownProps {\n  selectedTags: ITag[];\n  setSelectedTags: (state: ITag[]) => void;\n}\n\nexport const TagDropdown: React.FC<TagDropdownProps> = ({ selectedTags, setSelectedTags }) => {\n  const { t } = useTranslation();\n\n  const kanbanTagData = Object.values(kanbanTags);\n  const selectedTagsIds = selectedTags.map((item) => item.id);\n\n  const onTagClick = (tag: ITag) => {\n    const isExist = selectedTagsIds.includes(tag.id);\n\n    if (isExist) {\n      setSelectedTags(selectedTags.filter((item) => item.id !== tag.id));\n    } else {\n      setSelectedTags([...selectedTags, tag]);\n    }\n  };\n\n  return (\n    <Dropdown\n      trigger={['click']}\n      overlay={\n        <S.EditTagPopover>\n          {kanbanTagData.map((tag: ITag) => (\n            <S.EditTagPopoverLine\n              key={tag.id}\n              onClick={(e) => {\n                onTagClick(tag);\n                e.stopPropagation();\n              }}\n            >\n              <S.PopoverCheckbox checked={selectedTagsIds.includes(tag.id)} />\n              <S.TagWrapper backgroundColor={tag.bgColor}>#{tag.title}</S.TagWrapper>\n            </S.EditTagPopoverLine>\n          ))}\n          <S.RemoveTagWrapper>\n            <S.RemoveTag />\n          </S.RemoveTagWrapper>\n        </S.EditTagPopover>\n      }\n    >\n      {selectedTags && selectedTags.length > 0 ? (\n        <S.TagsWrapper>\n          {selectedTags.map((tag) => (\n            <Tag key={tag.id} {...tag} removeTag={() => onTagClick(tag)} />\n          ))}\n          <S.TagPlusWrapper>\n            <PlusCircleFilled />\n          </S.TagPlusWrapper>\n        </S.TagsWrapper>\n      ) : (\n        <S.TagsWrapper>\n          <S.AddTag>{t('kanban.addTag')}</S.AddTag>\n        </S.TagsWrapper>\n      )}\n    </Dropdown>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}