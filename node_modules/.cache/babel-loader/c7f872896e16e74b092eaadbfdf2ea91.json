{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{FilterIcon}from'components/common/icons/FilterIcon';import{SearchOverlay}from'./searchOverlay/SearchOverlay/SearchOverlay';import{HeaderActionWrapper}from'@app/components/header/Header.styles';import{Btn,InputSearch}from'../HeaderSearch/HeaderSearch.styles';import{useTranslation}from'react-i18next';import{Dropdown}from'@app/components/common/Dropdown/Dropdown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var SearchDropdown=function SearchDropdown(_ref){var query=_ref.query,setQuery=_ref.setQuery,data=_ref.data,isOverlayVisible=_ref.isOverlayVisible,setOverlayVisible=_ref.setOverlayVisible;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFilterVisible=_useState2[0],setFilterActive=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;useEffect(function(){setOverlayVisible(!!query||isFilterVisible);},[query,isFilterVisible,setOverlayVisible]);// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar ref=useRef(null);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Dropdown,_objectSpread(_objectSpread({},(!!data||isFilterVisible)&&{trigger:['click'],onVisibleChange:setOverlayVisible}),{},{overlayClassName:\"search-dropdown\",overlay:/*#__PURE__*/_jsx(SearchOverlay,{data:data,isFilterVisible:isFilterVisible}),visible:isOverlayVisible,getPopupContainer:function getPopupContainer(){return ref.current;},children:/*#__PURE__*/_jsxs(HeaderActionWrapper,{children:[/*#__PURE__*/_jsx(InputSearch,{width:\"100%\",value:query,placeholder:t('header.search'),filter:/*#__PURE__*/_jsx(Btn,{size:\"small\",type:isFilterVisible?'ghost':'text',\"aria-label\":\"Filter\",icon:/*#__PURE__*/_jsx(FilterIcon,{}),onClick:function onClick(){return setFilterActive(!isFilterVisible);}}),onChange:function onChange(event){return setQuery(event.target.value);},enterButton:null,addonAfter:null}),/*#__PURE__*/_jsx(\"div\",{ref:ref})]})}))});};","map":{"version":3,"names":["React","useEffect","useRef","useState","FilterIcon","SearchOverlay","HeaderActionWrapper","Btn","InputSearch","useTranslation","Dropdown","SearchDropdown","query","setQuery","data","isOverlayVisible","setOverlayVisible","isFilterVisible","setFilterActive","t","ref","trigger","onVisibleChange","current","event","target","value"],"sources":["/workspace/ant-design-react-template/src/components/header/components/searchDropdown/SearchDropdown.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { FilterIcon } from 'components/common/icons/FilterIcon';\nimport { SearchOverlay } from './searchOverlay/SearchOverlay/SearchOverlay';\nimport { HeaderActionWrapper } from '@app/components/header/Header.styles';\nimport { CategoryComponents } from '@app/components/header/components/HeaderSearch/HeaderSearch';\nimport { Btn, InputSearch } from '../HeaderSearch/HeaderSearch.styles';\nimport { useTranslation } from 'react-i18next';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\n\ninterface SearchOverlayProps {\n  query: string;\n  setQuery: (query: string) => void;\n  data: CategoryComponents[] | null;\n  isOverlayVisible: boolean;\n  setOverlayVisible: (state: boolean) => void;\n}\n\nexport const SearchDropdown: React.FC<SearchOverlayProps> = ({\n  query,\n  setQuery,\n  data,\n  isOverlayVisible,\n  setOverlayVisible,\n}) => {\n  const [isFilterVisible, setFilterActive] = useState(false);\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    setOverlayVisible(!!query || isFilterVisible);\n  }, [query, isFilterVisible, setOverlayVisible]);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ref = useRef<any>(null);\n\n  return (\n    <>\n      <Dropdown\n        {...((!!data || isFilterVisible) && { trigger: ['click'], onVisibleChange: setOverlayVisible })}\n        overlayClassName=\"search-dropdown\"\n        overlay={<SearchOverlay data={data} isFilterVisible={isFilterVisible} />}\n        visible={isOverlayVisible}\n        getPopupContainer={() => ref.current}\n      >\n        <HeaderActionWrapper>\n          <InputSearch\n            width=\"100%\"\n            value={query}\n            placeholder={t('header.search')}\n            filter={\n              <Btn\n                size=\"small\"\n                type={isFilterVisible ? 'ghost' : 'text'}\n                aria-label=\"Filter\"\n                icon={<FilterIcon />}\n                onClick={() => setFilterActive(!isFilterVisible)}\n              />\n            }\n            onChange={(event) => setQuery(event.target.value)}\n            enterButton={null}\n            addonAfter={null}\n          />\n          <div ref={ref} />\n        </HeaderActionWrapper>\n      </Dropdown>\n    </>\n  );\n};\n"],"mappings":"mPAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,UAAU,KAAQ,oCAAoC,CAC/D,OAASC,aAAa,KAAQ,6CAA6C,CAC3E,OAASC,mBAAmB,KAAQ,sCAAsC,CAE1E,OAASC,GAAG,CAAEC,WAAW,KAAQ,qCAAqC,CACtE,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,QAAQ,KAAQ,0CAA0C,CAAC,6IAUpE,MAAO,IAAMC,eAA4C,CAAG,QAA/CA,eAA4C,MAMnD,IALJC,MAAK,MAALA,KAAK,CACLC,QAAQ,MAARA,QAAQ,CACRC,IAAI,MAAJA,IAAI,CACJC,gBAAgB,MAAhBA,gBAAgB,CAChBC,iBAAiB,MAAjBA,iBAAiB,CAEjB,cAA2Cb,QAAQ,CAAC,KAAK,CAAC,wCAAnDc,eAAe,eAAEC,eAAe,eAEvC,oBAAcT,cAAc,EAAE,CAAtBU,CAAC,iBAADA,CAAC,CAETlB,SAAS,CAAC,UAAM,CACde,iBAAiB,CAAC,CAAC,CAACJ,KAAK,EAAIK,eAAe,CAAC,CAC/C,CAAC,CAAE,CAACL,KAAK,CAAEK,eAAe,CAAED,iBAAiB,CAAC,CAAC,CAE/C;AACA,GAAMI,IAAG,CAAGlB,MAAM,CAAM,IAAI,CAAC,CAE7B,mBACE,sCACE,KAAC,QAAQ,gCACF,CAAC,CAAC,CAACY,IAAI,EAAIG,eAAe,GAAK,CAAEI,OAAO,CAAE,CAAC,OAAO,CAAC,CAAEC,eAAe,CAAEN,iBAAkB,CAAC,MAC9F,gBAAgB,CAAC,iBAAiB,CAClC,OAAO,cAAE,KAAC,aAAa,EAAC,IAAI,CAAEF,IAAK,CAAC,eAAe,CAAEG,eAAgB,EAAI,CACzE,OAAO,CAAEF,gBAAiB,CAC1B,iBAAiB,CAAE,mCAAMK,IAAG,CAACG,OAAO,EAAC,uBAErC,MAAC,mBAAmB,yBAClB,KAAC,WAAW,EACV,KAAK,CAAC,MAAM,CACZ,KAAK,CAAEX,KAAM,CACb,WAAW,CAAEO,CAAC,CAAC,eAAe,CAAE,CAChC,MAAM,cACJ,KAAC,GAAG,EACF,IAAI,CAAC,OAAO,CACZ,IAAI,CAAEF,eAAe,CAAG,OAAO,CAAG,MAAO,CACzC,aAAW,QAAQ,CACnB,IAAI,cAAE,KAAC,UAAU,IAAI,CACrB,OAAO,CAAE,yBAAMC,gBAAe,CAAC,CAACD,eAAe,CAAC,EAAC,EAEpD,CACD,QAAQ,CAAE,kBAACO,KAAK,QAAKX,SAAQ,CAACW,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAClD,WAAW,CAAE,IAAK,CAClB,UAAU,CAAE,IAAK,EACjB,cACF,YAAK,GAAG,CAAEN,GAAI,EAAG,GACG,GACb,EACV,CAEP,CAAC"},"metadata":{},"sourceType":"module"}