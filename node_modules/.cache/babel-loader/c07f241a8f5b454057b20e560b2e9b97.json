{"ast":null,"code":"import _objectSpread from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport axios from 'axios';\nimport { ApiError } from '@app/api/ApiError';\nimport { readToken } from '@app/services/localStorage.service';\nexport var httpApi = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL\n});\nhttpApi.interceptors.request.use(function (config) {\n  config.headers = _objectSpread(_objectSpread({}, config.headers), {}, {\n    Authorization: \"Bearer \".concat(readToken())\n  });\n  return config;\n});\nhttpApi.interceptors.response.use(undefined, function (error) {\n  var _error$response, _error$response2;\n  throw new ApiError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data.message) || error.message, (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n});","map":{"version":3,"names":["axios","ApiError","readToken","httpApi","create","baseURL","process","env","REACT_APP_BASE_URL","interceptors","request","use","config","headers","Authorization","response","undefined","error","data","message"],"sources":["/workspace/ant-design-react-template/src/api/http.api.ts"],"sourcesContent":["import axios from 'axios';\nimport { AxiosError } from 'axios';\nimport { ApiError } from '@app/api/ApiError';\nimport { readToken } from '@app/services/localStorage.service';\n\nexport const httpApi = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n});\n\nhttpApi.interceptors.request.use((config) => {\n  config.headers = { ...config.headers, Authorization: `Bearer ${readToken()}` };\n\n  return config;\n});\n\nhttpApi.interceptors.response.use(undefined, (error: AxiosError) => {\n  throw new ApiError<ApiErrorData>(error.response?.data.message || error.message, error.response?.data);\n});\n\nexport interface ApiErrorData {\n  message: string;\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,SAAS,QAAQ,oCAAoC;AAE9D,OAAO,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAM,CAAC;EAClCC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC;AACvB,CAAC,CAAC;AAEFL,OAAO,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAACC,MAAM,EAAK;EAC3CA,MAAM,CAACC,OAAO,mCAAQD,MAAM,CAACC,OAAO;IAAEC,aAAa,mBAAYZ,SAAS,EAAE;EAAE,EAAE;EAE9E,OAAOU,MAAM;AACf,CAAC,CAAC;AAEFT,OAAO,CAACM,YAAY,CAACM,QAAQ,CAACJ,GAAG,CAACK,SAAS,EAAE,UAACC,KAAiB,EAAK;EAAA;EAClE,MAAM,IAAIhB,QAAQ,CAAe,oBAAAgB,KAAK,CAACF,QAAQ,oDAAd,gBAAgBG,IAAI,CAACC,OAAO,KAAIF,KAAK,CAACE,OAAO,sBAAEF,KAAK,CAACF,QAAQ,qDAAd,iBAAgBG,IAAI,CAAC;AACvG,CAAC,CAAC"},"metadata":{},"sourceType":"module"}