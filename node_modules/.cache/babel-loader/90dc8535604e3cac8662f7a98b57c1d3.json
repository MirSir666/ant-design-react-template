{"ast":null,"code":"import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useTranslation}from'react-i18next';import{BaseForm}from'@app/components/common/forms/BaseForm/BaseForm';import*as S from'./ForgotPasswordForm.styles';import*as Auth from'@app/components/layouts/AuthLayout/AuthLayout.styles';import{useAppDispatch}from'@app/hooks/reduxHooks';import{doResetPassword}from'@app/store/slices/authSlice';import{notificationController}from'@app/controllers/notificationController';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initValues={email:'chris.johnson@altence.com'};export var ForgotPasswordForm=function ForgotPasswordForm(){var _useTranslation=useTranslation(),t=_useTranslation.t;var navigate=useNavigate();var dispatch=useAppDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var handleSubmit=function handleSubmit(values){setLoading(true);dispatch(doResetPassword(values)).unwrap().then(function(){navigate('/auth/security-code');}).catch(function(err){notificationController.error({message:err.message});setLoading(false);});};return/*#__PURE__*/_jsx(Auth.FormWrapper,{children:/*#__PURE__*/_jsxs(BaseForm,{layout:\"vertical\",onFinish:handleSubmit,requiredMark:\"optional\",initialValues:initValues,children:[/*#__PURE__*/_jsxs(Auth.BackWrapper,{onClick:function onClick(){return navigate(-1);},children:[/*#__PURE__*/_jsx(Auth.BackIcon,{}),t('common.back')]}),/*#__PURE__*/_jsx(Auth.FormTitle,{children:t('common.resetPassword')}),/*#__PURE__*/_jsx(S.Description,{children:t('forgotPassword.description')}),/*#__PURE__*/_jsx(Auth.FormItem,{name:\"email\",label:t('common.email'),rules:[{required:true,message:t('common.emailError')}],children:/*#__PURE__*/_jsx(Auth.FormInput,{placeholder:t('common.email')})}),/*#__PURE__*/_jsx(BaseForm.Item,{noStyle:true,children:/*#__PURE__*/_jsx(S.SubmitButton,{type:\"primary\",htmlType:\"submit\",loading:isLoading,children:t('forgotPassword.sendInstructions')})})]})});};","map":{"version":3,"names":["React","useState","useNavigate","useTranslation","BaseForm","S","Auth","useAppDispatch","doResetPassword","notificationController","initValues","email","ForgotPasswordForm","t","navigate","dispatch","isLoading","setLoading","handleSubmit","values","unwrap","then","catch","err","error","message","required"],"sources":["/workspace/ant-design-react-template/src/components/auth/ForgotPasswordForm/ForgotPasswordForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { BaseForm } from '@app/components/common/forms/BaseForm/BaseForm';\nimport * as S from './ForgotPasswordForm.styles';\nimport * as Auth from '@app/components/layouts/AuthLayout/AuthLayout.styles';\nimport { useAppDispatch } from '@app/hooks/reduxHooks';\nimport { doResetPassword } from '@app/store/slices/authSlice';\nimport { notificationController } from '@app/controllers/notificationController';\n\ninterface ForgotPasswordFormData {\n  email: string;\n}\n\nconst initValues = {\n  email: 'chris.johnson@altence.com',\n};\n\nexport const ForgotPasswordForm: React.FC = () => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const [isLoading, setLoading] = useState(false);\n\n  const handleSubmit = (values: ForgotPasswordFormData) => {\n    setLoading(true);\n    dispatch(doResetPassword(values))\n      .unwrap()\n      .then(() => {\n        navigate('/auth/security-code');\n      })\n      .catch((err) => {\n        notificationController.error({ message: err.message });\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Auth.FormWrapper>\n      <BaseForm layout=\"vertical\" onFinish={handleSubmit} requiredMark=\"optional\" initialValues={initValues}>\n        <Auth.BackWrapper onClick={() => navigate(-1)}>\n          <Auth.BackIcon />\n          {t('common.back')}\n        </Auth.BackWrapper>\n        <Auth.FormTitle>{t('common.resetPassword')}</Auth.FormTitle>\n        <S.Description>{t('forgotPassword.description')}</S.Description>\n        <Auth.FormItem\n          name=\"email\"\n          label={t('common.email')}\n          rules={[{ required: true, message: t('common.emailError') }]}\n        >\n          <Auth.FormInput placeholder={t('common.email')} />\n        </Auth.FormItem>\n        <BaseForm.Item noStyle>\n          <S.SubmitButton type=\"primary\" htmlType=\"submit\" loading={isLoading}>\n            {t('forgotPassword.sendInstructions')}\n          </S.SubmitButton>\n        </BaseForm.Item>\n      </BaseForm>\n    </Auth.FormWrapper>\n  );\n};\n"],"mappings":"0HAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,QAAQ,KAAQ,gDAAgD,CACzE,MAAO,GAAKC,EAAC,KAAM,6BAA6B,CAChD,MAAO,GAAKC,KAAI,KAAM,sDAAsD,CAC5E,OAASC,cAAc,KAAQ,uBAAuB,CACtD,OAASC,eAAe,KAAQ,6BAA6B,CAC7D,OAASC,sBAAsB,KAAQ,yCAAyC,CAAC,wFAMjF,GAAMC,WAAU,CAAG,CACjBC,KAAK,CAAE,2BACT,CAAC,CAED,MAAO,IAAMC,mBAA4B,CAAG,QAA/BA,mBAA4B,EAAS,CAChD,oBAAcT,cAAc,EAAE,CAAtBU,CAAC,iBAADA,CAAC,CACT,GAAMC,SAAQ,CAAGZ,WAAW,EAAE,CAC9B,GAAMa,SAAQ,CAAGR,cAAc,EAAE,CACjC,cAAgCN,QAAQ,CAAC,KAAK,CAAC,wCAAxCe,SAAS,eAAEC,UAAU,eAE5B,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,MAA8B,CAAK,CACvDF,UAAU,CAAC,IAAI,CAAC,CAChBF,QAAQ,CAACP,eAAe,CAACW,MAAM,CAAC,CAAC,CAC9BC,MAAM,EAAE,CACRC,IAAI,CAAC,UAAM,CACVP,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,CAAC,CACDQ,KAAK,CAAC,SAACC,GAAG,CAAK,CACdd,sBAAsB,CAACe,KAAK,CAAC,CAAEC,OAAO,CAAEF,GAAG,CAACE,OAAQ,CAAC,CAAC,CACtDR,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAED,mBACE,KAAC,IAAI,CAAC,WAAW,wBACf,MAAC,QAAQ,EAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAEC,YAAa,CAAC,YAAY,CAAC,UAAU,CAAC,aAAa,CAAER,UAAW,wBACpG,MAAC,IAAI,CAAC,WAAW,EAAC,OAAO,CAAE,yBAAMI,SAAQ,CAAC,CAAC,CAAC,CAAC,EAAC,wBAC5C,KAAC,IAAI,CAAC,QAAQ,IAAG,CAChBD,CAAC,CAAC,aAAa,CAAC,GACA,cACnB,KAAC,IAAI,CAAC,SAAS,WAAEA,CAAC,CAAC,sBAAsB,CAAC,EAAkB,cAC5D,KAAC,CAAC,CAAC,WAAW,WAAEA,CAAC,CAAC,4BAA4B,CAAC,EAAiB,cAChE,KAAC,IAAI,CAAC,QAAQ,EACZ,IAAI,CAAC,OAAO,CACZ,KAAK,CAAEA,CAAC,CAAC,cAAc,CAAE,CACzB,KAAK,CAAE,CAAC,CAAEa,QAAQ,CAAE,IAAI,CAAED,OAAO,CAAEZ,CAAC,CAAC,mBAAmB,CAAE,CAAC,CAAE,uBAE7D,KAAC,IAAI,CAAC,SAAS,EAAC,WAAW,CAAEA,CAAC,CAAC,cAAc,CAAE,EAAG,EACpC,cAChB,KAAC,QAAQ,CAAC,IAAI,EAAC,OAAO,4BACpB,KAAC,CAAC,CAAC,YAAY,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAEG,SAAU,UACjEH,CAAC,CAAC,iCAAiC,CAAC,EACtB,EACH,GACP,EACM,CAEvB,CAAC"},"metadata":{},"sourceType":"module"}