{"ast":null,"code":"import _defineProperty from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/workspace/ant-design-react-template/src/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/PaymentForm/PaymentForm.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from 'react';\nimport { Col, Form, Row } from 'antd';\nimport { BaseButtonsForm } from '@app/components/common/forms/BaseButtonsForm/BaseButtonsForm';\nimport { BaseButtonsGroup } from '@app/components/common/forms/components/BaseButtonsGroup/BaseButtonsGroup';\nimport { CardNumberItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/CardNumberItem/CardNumberItem';\nimport { CardholderItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/CardholderItem/CardholderItem';\nimport { ExpDateItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/ExpDateItem/ExpDateItem';\nimport { CVVItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/CVVItem/CVVItem';\nimport { CardThemeItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/CardThemeItem/CardThemeItem';\nimport { cardThemes } from '@app/constants/cardThemes';\nimport * as S from './PaymentForm.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var clearCardData = {\n  name: '',\n  cvc: '',\n  expiry: '',\n  number: '',\n  focused: '',\n  background: cardThemes[0].background,\n  isEdit: false\n};\nexport var PaymentForm = function PaymentForm(_ref) {\n  _s();\n  var closeModal = _ref.closeModal,\n    onFormFinish = _ref.onFormFinish;\n  var _useState = useState(clearCardData),\n    _useState2 = _slicedToArray(_useState, 2),\n    cardData = _useState2[0],\n    setCardData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isFieldsChanged = _useState6[0],\n    setFieldsChanged = _useState6[1];\n  var _Form$useForm = Form.useForm(),\n    _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n    form = _Form$useForm2[0];\n  var handleInputFocus = useCallback(function (event) {\n    setCardData(_objectSpread(_objectSpread({}, cardData), {}, {\n      focused: event.target.name\n    }));\n  }, [setCardData, cardData]);\n  var onFinish = useCallback(function (values) {\n    setLoading(true);\n    setTimeout(function () {\n      setLoading(false);\n      setFieldsChanged(false);\n      var card = _objectSpread(_objectSpread({}, values), {}, {\n        background: cardData.background\n      });\n      onFormFinish(card);\n      setCardData(clearCardData);\n      closeModal();\n      form.setFieldsValue(clearCardData);\n    }, 1000);\n  }, [cardData.background, closeModal, form, onFormFinish]);\n  return /*#__PURE__*/_jsxDEV(BaseButtonsForm, {\n    form: form,\n    requiredMark: \"optional\",\n    name: \"paymentCard\",\n    onFinish: onFinish,\n    footer: /*#__PURE__*/_jsxDEV(BaseButtonsGroup, {\n      loading: isLoading,\n      onCancel: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }, _this),\n    initialValues: clearCardData,\n    onValuesChange: function onValuesChange(field) {\n      var values = Object.entries(field)[0];\n      setCardData(_objectSpread(_objectSpread({}, cardData), {}, _defineProperty({}, values[0], values[1])));\n    },\n    isFieldsChanged: isFieldsChanged,\n    onFieldsChange: function onFieldsChange() {\n      return setFieldsChanged(true);\n    },\n    children: [/*#__PURE__*/_jsxDEV(S.PayCard, {\n      cardData: cardData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(S.FormItemsWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(CardNumberItem, {\n        handleInputFocus: handleInputFocus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CardholderItem, {\n        handleInputFocus: handleInputFocus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Row, {\n        gutter: [20, 0],\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          children: /*#__PURE__*/_jsxDEV(ExpDateItem, {\n            handleInputFocus: handleInputFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          children: /*#__PURE__*/_jsxDEV(CVVItem, {\n            handleInputFocus: handleInputFocus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CardThemeItem, {\n        cardData: cardData,\n        setCardData: setCardData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, _this);\n};\n_s(PaymentForm, \"7eDB1K/L7qzci1QUED/QHj1AulQ=\", false, function () {\n  return [Form.useForm];\n});\n_c = PaymentForm;\nvar _c;\n$RefreshReg$(_c, \"PaymentForm\");","map":{"version":3,"names":["React","useCallback","useState","Col","Form","Row","BaseButtonsForm","BaseButtonsGroup","CardNumberItem","CardholderItem","ExpDateItem","CVVItem","CardThemeItem","cardThemes","S","clearCardData","name","cvc","expiry","number","focused","background","isEdit","PaymentForm","closeModal","onFormFinish","cardData","setCardData","isLoading","setLoading","isFieldsChanged","setFieldsChanged","useForm","form","handleInputFocus","event","target","onFinish","values","setTimeout","card","setFieldsValue","field","Object","entries"],"sources":["/workspace/ant-design-react-template/src/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/PaymentForm/PaymentForm.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { Col, Form, Row } from 'antd';\nimport { BaseButtonsForm } from '@app/components/common/forms/BaseButtonsForm/BaseButtonsForm';\nimport { BaseButtonsGroup } from '@app/components/common/forms/components/BaseButtonsGroup/BaseButtonsGroup';\nimport { CardNumberItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/CardNumberItem/CardNumberItem';\nimport { CardholderItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/CardholderItem/CardholderItem';\nimport { ExpDateItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/ExpDateItem/ExpDateItem';\nimport { CVVItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/CVVItem/CVVItem';\nimport { CardThemeItem } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/CardThemeItem/CardThemeItem';\nimport { CreditCard } from '@app/components/profile/profileCard/profileFormNav/nav/payments/paymentMethod/paymentForm/interfaces';\nimport { cardThemes } from '@app/constants/cardThemes';\nimport * as S from './PaymentForm.styles';\n\nexport const clearCardData: CreditCard = {\n  name: '',\n  cvc: '',\n  expiry: '',\n  number: '',\n  focused: '',\n  background: cardThemes[0].background,\n  isEdit: false,\n};\n\ninterface PaymentFormProps {\n  closeModal: () => void;\n  onFormFinish: (card: CreditCard) => void;\n}\n\nexport const PaymentForm: React.FC<PaymentFormProps> = ({ closeModal, onFormFinish }) => {\n  const [cardData, setCardData] = useState<CreditCard>(clearCardData);\n  const [isLoading, setLoading] = useState(false);\n  const [isFieldsChanged, setFieldsChanged] = useState(false);\n\n  const [form] = Form.useForm();\n\n  const handleInputFocus = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      setCardData({\n        ...cardData,\n        focused: event.target.name,\n      });\n    },\n    [setCardData, cardData],\n  );\n\n  const onFinish = useCallback(\n    (values: CreditCard) => {\n      setLoading(true);\n      setTimeout(() => {\n        setLoading(false);\n        setFieldsChanged(false);\n        const card = { ...values, background: cardData.background };\n        onFormFinish(card);\n        setCardData(clearCardData);\n        closeModal();\n        form.setFieldsValue(clearCardData);\n      }, 1000);\n    },\n    [cardData.background, closeModal, form, onFormFinish],\n  );\n\n  return (\n    <BaseButtonsForm\n      form={form}\n      requiredMark=\"optional\"\n      name=\"paymentCard\"\n      onFinish={onFinish}\n      footer={<BaseButtonsGroup loading={isLoading} onCancel={closeModal} />}\n      initialValues={clearCardData}\n      onValuesChange={(field) => {\n        const values = Object.entries(field)[0];\n\n        setCardData({ ...cardData, [values[0]]: values[1] });\n      }}\n      isFieldsChanged={isFieldsChanged}\n      onFieldsChange={() => setFieldsChanged(true)}\n    >\n      <S.PayCard cardData={cardData} />\n      <S.FormItemsWrapper>\n        <CardNumberItem handleInputFocus={handleInputFocus} />\n        <CardholderItem handleInputFocus={handleInputFocus} />\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <ExpDateItem handleInputFocus={handleInputFocus} />\n          </Col>\n          <Col span={12}>\n            <CVVItem handleInputFocus={handleInputFocus} />\n          </Col>\n        </Row>\n        <CardThemeItem cardData={cardData} setCardData={setCardData} />\n      </S.FormItemsWrapper>\n    </BaseButtonsForm>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}