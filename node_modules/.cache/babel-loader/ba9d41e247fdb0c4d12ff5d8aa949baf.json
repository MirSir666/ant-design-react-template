{"ast":null,"code":"import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Col,Row}from'antd';import{RecentActivityHeader}from'@app/components/nft-dashboard/recentActivity/RecentActivityHeader/RecentActivityHeader';import{RecentActivityFeed}from'@app/components/nft-dashboard/recentActivity/recentActivityFeed/RecentActivityFeed';import{RecentActivityFilter}from'@app/components/nft-dashboard/recentActivity/recentActivityFilters/RecentActivityFilter';import{useResponsive}from'@app/hooks/useResponsive';import{getActivities}from'@app/api/activity.api';import*as S from'./RecentActivity.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RecentActivity=function RecentActivity(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),activity=_useState2[0],setActivity=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredActivity=_useState4[0],setFilteredActivity=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,1),hasMore=_useState6[0];var _useState7=useState({status:[]}),_useState8=_slicedToArray(_useState7,2),filters=_useState8[0],setFilters=_useState8[1];var _useResponsive=useResponsive(),isDesktop=_useResponsive.isDesktop;useEffect(function(){getActivities().then(function(res){return setActivity(res);});},[]);var next=function next(){getActivities().then(function(newActivity){return setActivity(activity.concat(newActivity));});};useEffect(function(){if(filters.status.length>0){setFilteredActivity(activity.filter(function(item){return filters.status.some(function(filter){return filter===item.status;});}));}else{setFilteredActivity(activity);}},[filters.status,activity]);return/*#__PURE__*/_jsxs(Row,{gutter:[30,0],children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(RecentActivityHeader,{filters:filters,setFilters:setFilters})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:24,md:24,xl:16,children:/*#__PURE__*/_jsx(RecentActivityFeed,{activity:filteredActivity,hasMore:hasMore,next:next})}),isDesktop&&/*#__PURE__*/_jsx(S.FilterCol,{span:8,children:/*#__PURE__*/_jsx(RecentActivityFilter,{filters:filters,setFilters:setFilters,withWrapper:true})})]});};","map":{"version":3,"names":["React","useEffect","useState","Col","Row","RecentActivityHeader","RecentActivityFeed","RecentActivityFilter","useResponsive","getActivities","S","RecentActivity","activity","setActivity","filteredActivity","setFilteredActivity","hasMore","status","filters","setFilters","isDesktop","then","res","next","newActivity","concat","length","filter","item","some"],"sources":["/workspace/ant-design-react-template/src/components/nft-dashboard/recentActivity/RecentActivity.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Col, Row } from 'antd';\nimport { RecentActivityHeader } from '@app/components/nft-dashboard/recentActivity/RecentActivityHeader/RecentActivityHeader';\nimport { RecentActivityFeed } from '@app/components/nft-dashboard/recentActivity/recentActivityFeed/RecentActivityFeed';\nimport { RecentActivityFilter } from '@app/components/nft-dashboard/recentActivity/recentActivityFilters/RecentActivityFilter';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport { Activity, getActivities } from '@app/api/activity.api';\nimport * as S from './RecentActivity.styles';\n\nexport interface RecentActivityFilterState {\n  status: string[];\n}\n\nexport const RecentActivity: React.FC = () => {\n  const [activity, setActivity] = useState<Activity[]>([]);\n  const [filteredActivity, setFilteredActivity] = useState<Activity[]>([]);\n  const [hasMore] = useState(true);\n\n  const [filters, setFilters] = useState<RecentActivityFilterState>({\n    status: [],\n  });\n\n  const { isDesktop } = useResponsive();\n\n  useEffect(() => {\n    getActivities().then((res) => setActivity(res));\n  }, []);\n\n  const next = () => {\n    getActivities().then((newActivity) => setActivity(activity.concat(newActivity)));\n  };\n\n  useEffect(() => {\n    if (filters.status.length > 0) {\n      setFilteredActivity(activity.filter((item) => filters.status.some((filter) => filter === item.status)));\n    } else {\n      setFilteredActivity(activity);\n    }\n  }, [filters.status, activity]);\n\n  return (\n    <Row gutter={[30, 0]}>\n      <Col span={24}>\n        <RecentActivityHeader filters={filters} setFilters={setFilters} />\n      </Col>\n\n      <Col xs={24} sm={24} md={24} xl={16}>\n        <RecentActivityFeed activity={filteredActivity} hasMore={hasMore} next={next} />\n      </Col>\n\n      {isDesktop && (\n        <S.FilterCol span={8}>\n          <RecentActivityFilter filters={filters} setFilters={setFilters} withWrapper />\n        </S.FilterCol>\n      )}\n    </Row>\n  );\n};\n"],"mappings":"0HAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,GAAG,KAAQ,MAAM,CAC/B,OAASC,oBAAoB,KAAQ,wFAAwF,CAC7H,OAASC,kBAAkB,KAAQ,oFAAoF,CACvH,OAASC,oBAAoB,KAAQ,yFAAyF,CAC9H,OAASC,aAAa,KAAQ,0BAA0B,CACxD,OAAmBC,aAAa,KAAQ,uBAAuB,CAC/D,MAAO,GAAKC,EAAC,KAAM,yBAAyB,CAAC,wFAM7C,MAAO,IAAMC,eAAwB,CAAG,QAA3BA,eAAwB,EAAS,CAC5C,cAAgCT,QAAQ,CAAa,EAAE,CAAC,wCAAjDU,QAAQ,eAAEC,WAAW,eAC5B,eAAgDX,QAAQ,CAAa,EAAE,CAAC,yCAAjEY,gBAAgB,eAAEC,mBAAmB,eAC5C,eAAkBb,QAAQ,CAAC,IAAI,CAAC,yCAAzBc,OAAO,eAEd,eAA8Bd,QAAQ,CAA4B,CAChEe,MAAM,CAAE,EACV,CAAC,CAAC,yCAFKC,OAAO,eAAEC,UAAU,eAI1B,mBAAsBX,aAAa,EAAE,CAA7BY,SAAS,gBAATA,SAAS,CAEjBnB,SAAS,CAAC,UAAM,CACdQ,aAAa,EAAE,CAACY,IAAI,CAAC,SAACC,GAAG,QAAKT,YAAW,CAACS,GAAG,CAAC,GAAC,CACjD,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjBd,aAAa,EAAE,CAACY,IAAI,CAAC,SAACG,WAAW,QAAKX,YAAW,CAACD,QAAQ,CAACa,MAAM,CAACD,WAAW,CAAC,CAAC,GAAC,CAClF,CAAC,CAEDvB,SAAS,CAAC,UAAM,CACd,GAAIiB,OAAO,CAACD,MAAM,CAACS,MAAM,CAAG,CAAC,CAAE,CAC7BX,mBAAmB,CAACH,QAAQ,CAACe,MAAM,CAAC,SAACC,IAAI,QAAKV,QAAO,CAACD,MAAM,CAACY,IAAI,CAAC,SAACF,MAAM,QAAKA,OAAM,GAAKC,IAAI,CAACX,MAAM,GAAC,GAAC,CAAC,CACzG,CAAC,IAAM,CACLF,mBAAmB,CAACH,QAAQ,CAAC,CAC/B,CACF,CAAC,CAAE,CAACM,OAAO,CAACD,MAAM,CAAEL,QAAQ,CAAC,CAAC,CAE9B,mBACE,MAAC,GAAG,EAAC,MAAM,CAAE,CAAC,EAAE,CAAE,CAAC,CAAE,wBACnB,KAAC,GAAG,EAAC,IAAI,CAAE,EAAG,uBACZ,KAAC,oBAAoB,EAAC,OAAO,CAAEM,OAAQ,CAAC,UAAU,CAAEC,UAAW,EAAG,EAC9D,cAEN,KAAC,GAAG,EAAC,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,EAAG,uBAClC,KAAC,kBAAkB,EAAC,QAAQ,CAAEL,gBAAiB,CAAC,OAAO,CAAEE,OAAQ,CAAC,IAAI,CAAEO,IAAK,EAAG,EAC5E,CAELH,SAAS,eACR,KAAC,CAAC,CAAC,SAAS,EAAC,IAAI,CAAE,CAAE,uBACnB,KAAC,oBAAoB,EAAC,OAAO,CAAEF,OAAQ,CAAC,UAAU,CAAEC,UAAW,CAAC,WAAW,OAAG,EAEjF,GACG,CAEV,CAAC"},"metadata":{},"sourceType":"module"}