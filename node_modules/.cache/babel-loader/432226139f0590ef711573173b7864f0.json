{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"notifications\",\"setNotifications\"];import React,{useMemo}from'react';import{Trans}from'react-i18next';import{useTranslation}from'react-i18next';import{Col,Row,Space}from'antd';import{Link}from'react-router-dom';import{Notification}from'components/common/Notification/Notification';import{capitalize}from'utils/utils';import{notificationsSeverities}from'constants/notificationsSeverities';import*as S from'./NotificationsOverlay.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var NotificationsOverlay=function NotificationsOverlay(_ref){var notifications=_ref.notifications,setNotifications=_ref.setNotifications,props=_objectWithoutProperties(_ref,_excluded);var _useTranslation=useTranslation(),t=_useTranslation.t;var noticesList=useMemo(function(){return notifications.map(function(notification,index){var _notificationsSeverit;var type=(_notificationsSeverit=notificationsSeverities.find(function(dbSeverity){return dbSeverity.id===notification.id;}))===null||_notificationsSeverit===void 0?void 0:_notificationsSeverit.name;return/*#__PURE__*/_jsx(Notification,_objectSpread({type:type||'warning',title:capitalize(type||'warning'),description:t(notification.description)},type==='mention'&&{mentionIconSrc:notification.userIcon,title:notification.userName,description:/*#__PURE__*/_jsx(Trans,{i18nKey:notification.description,children:/*#__PURE__*/_jsx(S.LinkBtn,{type:\"link\",href:notification.href,children:{place:t(notification.place)}})})}),index);});},[notifications,t]);return/*#__PURE__*/_jsx(S.NoticesOverlayMenu,_objectSpread(_objectSpread({mode:\"inline\"},props),{},{children:/*#__PURE__*/_jsxs(S.MenuRow,{gutter:[20,20],children:[/*#__PURE__*/_jsx(Col,{span:24,children:notifications.length>0?/*#__PURE__*/_jsx(Space,{direction:\"vertical\",size:10,split:/*#__PURE__*/_jsx(S.SplitDivider,{}),children:noticesList}):/*#__PURE__*/_jsx(S.Text,{children:t('header.notifications.noNotifications')})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Row,{gutter:[10,10],children:[notifications.length>0&&/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(S.Btn,{type:\"ghost\",onClick:function onClick(){return setNotifications([]);},children:t('header.notifications.readAll')})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(S.Btn,{type:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:t('header.notifications.viewAll')})})})]})})]})}));};","map":{"version":3,"names":["React","useMemo","Trans","useTranslation","Col","Row","Space","Link","Notification","capitalize","notificationsSeverities","S","NotificationsOverlay","notifications","setNotifications","props","t","noticesList","map","notification","index","type","find","dbSeverity","id","name","description","mentionIconSrc","userIcon","title","userName","href","place","length"],"sources":["/workspace/ant-design-react-template/src/components/header/components/notificationsDropdown/NotificationsOverlay/NotificationsOverlay.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { Trans } from 'react-i18next';\nimport { useTranslation } from 'react-i18next';\nimport { Col, Row, Space } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { Notification } from 'components/common/Notification/Notification';\nimport { capitalize } from 'utils/utils';\nimport { Mention, Notification as NotificationType } from 'api/notifications.api';\nimport { notificationsSeverities } from 'constants/notificationsSeverities';\nimport * as S from './NotificationsOverlay.styles';\n\ninterface NotificationsOverlayProps {\n  notifications: NotificationType[];\n  setNotifications: (state: NotificationType[]) => void;\n}\n\nexport const NotificationsOverlay: React.FC<NotificationsOverlayProps> = ({\n  notifications,\n  setNotifications,\n  ...props\n}) => {\n  const { t } = useTranslation();\n\n  const noticesList = useMemo(\n    () =>\n      notifications.map((notification, index) => {\n        const type = notificationsSeverities.find((dbSeverity) => dbSeverity.id === notification.id)?.name;\n\n        return (\n          <Notification\n            key={index}\n            type={type || 'warning'}\n            title={capitalize(type || 'warning')}\n            description={t(notification.description)}\n            {...(type === 'mention' && {\n              mentionIconSrc: (notification as Mention).userIcon,\n              title: (notification as Mention).userName,\n              description: (\n                <Trans i18nKey={(notification as Mention).description}>\n                  <S.LinkBtn type=\"link\" href={(notification as Mention).href}>\n                    {{ place: t((notification as Mention).place) }}\n                  </S.LinkBtn>\n                </Trans>\n              ),\n            })}\n          />\n        );\n      }),\n    [notifications, t],\n  );\n\n  return (\n    <S.NoticesOverlayMenu mode=\"inline\" {...props}>\n      <S.MenuRow gutter={[20, 20]}>\n        <Col span={24}>\n          {notifications.length > 0 ? (\n            <Space direction=\"vertical\" size={10} split={<S.SplitDivider />}>\n              {noticesList}\n            </Space>\n          ) : (\n            <S.Text>{t('header.notifications.noNotifications')}</S.Text>\n          )}\n        </Col>\n        <Col span={24}>\n          <Row gutter={[10, 10]}>\n            {notifications.length > 0 && (\n              <Col span={24}>\n                <S.Btn type=\"ghost\" onClick={() => setNotifications([])}>\n                  {t('header.notifications.readAll')}\n                </S.Btn>\n              </Col>\n            )}\n            <Col span={24}>\n              <S.Btn type=\"link\">\n                <Link to=\"/\">{t('header.notifications.viewAll')}</Link>\n              </S.Btn>\n            </Col>\n          </Row>\n        </Col>\n      </S.MenuRow>\n    </S.NoticesOverlayMenu>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}