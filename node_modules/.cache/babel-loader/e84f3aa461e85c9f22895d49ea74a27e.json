{"ast":null,"code":"import _slicedToArray from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{Link}from'react-router-dom';import{useTranslation}from'react-i18next';import{BaseForm}from'@app/components/common/forms/BaseForm/BaseForm';import{useAppDispatch}from'@app/hooks/reduxHooks';import{doSignUp}from'@app/store/slices/authSlice';import{notificationController}from'@app/controllers/notificationController';import{ReactComponent as GoogleIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!@app/assets/icons/google.svg\";import{ReactComponent as FacebookIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!@app/assets/icons/facebook.svg\";import*as Auth from'@app/components/layouts/AuthLayout/AuthLayout.styles';import*as S from'./SignUpForm.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initValues={firstName:'Chris',lastName:'Johnson',email:'chris.johnson@altence.com',password:'test-pass',confirmPassword:'test-pass',termOfUse:true};export var SignUpForm=function SignUpForm(){var navigate=useNavigate();var dispatch=useAppDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var handleSubmit=function handleSubmit(values){setLoading(true);dispatch(doSignUp(values)).unwrap().then(function(){notificationController.success({message:t('auth.signUpSuccessMessage'),description:t('auth.signUpSuccessDescription')});navigate('/auth/login');}).catch(function(err){notificationController.error({message:err.message});setLoading(false);});};return/*#__PURE__*/_jsx(Auth.FormWrapper,{children:/*#__PURE__*/_jsxs(BaseForm,{layout:\"vertical\",onFinish:handleSubmit,requiredMark:\"optional\",initialValues:initValues,children:[/*#__PURE__*/_jsx(S.Title,{children:t('common.signUp')}),/*#__PURE__*/_jsx(Auth.FormItem,{name:\"firstName\",label:t('common.firstName'),rules:[{required:true,message:t('common.requiredField')}],children:/*#__PURE__*/_jsx(Auth.FormInput,{placeholder:t('common.firstName')})}),/*#__PURE__*/_jsx(Auth.FormItem,{name:\"lastName\",label:t('common.lastName'),rules:[{required:true,message:t('common.requiredField')}],children:/*#__PURE__*/_jsx(Auth.FormInput,{placeholder:t('common.lastName')})}),/*#__PURE__*/_jsx(Auth.FormItem,{name:\"email\",label:t('common.email'),rules:[{required:true,message:t('common.requiredField')},{type:'email',message:t('common.notValidEmail')}],children:/*#__PURE__*/_jsx(Auth.FormInput,{placeholder:t('common.email')})}),/*#__PURE__*/_jsx(Auth.FormItem,{label:t('common.password'),name:\"password\",rules:[{required:true,message:t('common.requiredField')}],children:/*#__PURE__*/_jsx(Auth.FormInputPassword,{placeholder:t('common.password')})}),/*#__PURE__*/_jsx(Auth.FormItem,{label:t('common.confirmPassword'),name:\"confirmPassword\",dependencies:['password'],rules:[{required:true,message:t('common.requiredField')},function(_ref){var getFieldValue=_ref.getFieldValue;return{validator:function validator(_,value){if(!value||getFieldValue('password')===value){return Promise.resolve();}return Promise.reject(new Error(t('common.confirmPasswordError')));}};}],children:/*#__PURE__*/_jsx(Auth.FormInputPassword,{placeholder:t('common.confirmPassword')})}),/*#__PURE__*/_jsx(Auth.ActionsWrapper,{children:/*#__PURE__*/_jsx(BaseForm.Item,{name:\"termOfUse\",valuePropName:\"checked\",noStyle:true,children:/*#__PURE__*/_jsx(Auth.FormCheckbox,{children:/*#__PURE__*/_jsxs(Auth.Text,{children:[t('signup.agree'),' ',/*#__PURE__*/_jsx(Link,{to:\"/\",target:'_blank',children:/*#__PURE__*/_jsx(Auth.LinkText,{children:t('signup.termOfUse')})}),' ',\"and\",' ',/*#__PURE__*/_jsx(Link,{to:\"/\",target:'_blank',children:/*#__PURE__*/_jsx(Auth.LinkText,{children:t('signup.privacyOPolicy')})})]})})})}),/*#__PURE__*/_jsx(BaseForm.Item,{noStyle:true,children:/*#__PURE__*/_jsx(Auth.SubmitButton,{type:\"primary\",htmlType:\"submit\",loading:isLoading,children:t('common.signUp')})}),/*#__PURE__*/_jsx(BaseForm.Item,{noStyle:true,children:/*#__PURE__*/_jsxs(Auth.SocialButton,{type:\"default\",htmlType:\"submit\",children:[/*#__PURE__*/_jsx(Auth.SocialIconWrapper,{children:/*#__PURE__*/_jsx(GoogleIcon,{})}),t('signup.googleLink')]})}),/*#__PURE__*/_jsx(BaseForm.Item,{noStyle:true,children:/*#__PURE__*/_jsxs(Auth.SocialButton,{type:\"default\",htmlType:\"submit\",children:[/*#__PURE__*/_jsx(Auth.SocialIconWrapper,{children:/*#__PURE__*/_jsx(FacebookIcon,{})}),t('signup.facebookLink')]})}),/*#__PURE__*/_jsx(Auth.FooterWrapper,{children:/*#__PURE__*/_jsxs(Auth.Text,{children:[t('signup.alreadyHaveAccount'),' ',/*#__PURE__*/_jsx(Link,{to:\"/auth/login\",children:/*#__PURE__*/_jsx(Auth.LinkText,{children:t('common.here')})})]})})]})});};","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/components/auth/SignUpForm/SignUpForm.tsx"],"names":["React","useState","useNavigate","Link","useTranslation","BaseForm","useAppDispatch","doSignUp","notificationController","Auth","S","initValues","firstName","lastName","email","password","confirmPassword","termOfUse","SignUpForm","navigate","dispatch","isLoading","setLoading","t","handleSubmit","values","unwrap","then","success","message","description","catch","err","error","required","type","getFieldValue","validator","_","value","Promise","resolve","reject","Error"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { BaseForm } from '@app/components/common/forms/BaseForm/BaseForm';\nimport { useAppDispatch } from '@app/hooks/reduxHooks';\nimport { doSignUp } from '@app/store/slices/authSlice';\nimport { notificationController } from '@app/controllers/notificationController';\nimport { ReactComponent as GoogleIcon } from '@app/assets/icons/google.svg';\nimport { ReactComponent as FacebookIcon } from '@app/assets/icons/facebook.svg';\nimport * as Auth from '@app/components/layouts/AuthLayout/AuthLayout.styles';\nimport * as S from './SignUpForm.styles';\n\ninterface SignUpFormData {\n  firstName: string;\n  lastName: string;\n  email: string;\n  password: string;\n}\n\nconst initValues = {\n  firstName: 'Chris',\n  lastName: 'Johnson',\n  email: 'chris.johnson@altence.com',\n  password: 'test-pass',\n  confirmPassword: 'test-pass',\n  termOfUse: true,\n};\n\nexport const SignUpForm: React.FC = () => {\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const [isLoading, setLoading] = useState(false);\n\n  const { t } = useTranslation();\n\n  const handleSubmit = (values: SignUpFormData) => {\n    setLoading(true);\n    dispatch(doSignUp(values))\n      .unwrap()\n      .then(() => {\n        notificationController.success({\n          message: t('auth.signUpSuccessMessage'),\n          description: t('auth.signUpSuccessDescription'),\n        });\n        navigate('/auth/login');\n      })\n      .catch((err) => {\n        notificationController.error({ message: err.message });\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Auth.FormWrapper>\n      <BaseForm layout=\"vertical\" onFinish={handleSubmit} requiredMark=\"optional\" initialValues={initValues}>\n        <S.Title>{t('common.signUp')}</S.Title>\n        <Auth.FormItem\n          name=\"firstName\"\n          label={t('common.firstName')}\n          rules={[{ required: true, message: t('common.requiredField') }]}\n        >\n          <Auth.FormInput placeholder={t('common.firstName')} />\n        </Auth.FormItem>\n        <Auth.FormItem\n          name=\"lastName\"\n          label={t('common.lastName')}\n          rules={[{ required: true, message: t('common.requiredField') }]}\n        >\n          <Auth.FormInput placeholder={t('common.lastName')} />\n        </Auth.FormItem>\n        <Auth.FormItem\n          name=\"email\"\n          label={t('common.email')}\n          rules={[\n            { required: true, message: t('common.requiredField') },\n            {\n              type: 'email',\n              message: t('common.notValidEmail'),\n            },\n          ]}\n        >\n          <Auth.FormInput placeholder={t('common.email')} />\n        </Auth.FormItem>\n        <Auth.FormItem\n          label={t('common.password')}\n          name=\"password\"\n          rules={[{ required: true, message: t('common.requiredField') }]}\n        >\n          <Auth.FormInputPassword placeholder={t('common.password')} />\n        </Auth.FormItem>\n        <Auth.FormItem\n          label={t('common.confirmPassword')}\n          name=\"confirmPassword\"\n          dependencies={['password']}\n          rules={[\n            { required: true, message: t('common.requiredField') },\n            ({ getFieldValue }) => ({\n              validator(_, value) {\n                if (!value || getFieldValue('password') === value) {\n                  return Promise.resolve();\n                }\n                return Promise.reject(new Error(t('common.confirmPasswordError')));\n              },\n            }),\n          ]}\n        >\n          <Auth.FormInputPassword placeholder={t('common.confirmPassword')} />\n        </Auth.FormItem>\n        <Auth.ActionsWrapper>\n          <BaseForm.Item name=\"termOfUse\" valuePropName=\"checked\" noStyle>\n            <Auth.FormCheckbox>\n              <Auth.Text>\n                {t('signup.agree')}{' '}\n                <Link to=\"/\" target={'_blank'}>\n                  <Auth.LinkText>{t('signup.termOfUse')}</Auth.LinkText>\n                </Link>{' '}\n                and{' '}\n                <Link to=\"/\" target={'_blank'}>\n                  <Auth.LinkText>{t('signup.privacyOPolicy')}</Auth.LinkText>\n                </Link>\n              </Auth.Text>\n            </Auth.FormCheckbox>\n          </BaseForm.Item>\n        </Auth.ActionsWrapper>\n        <BaseForm.Item noStyle>\n          <Auth.SubmitButton type=\"primary\" htmlType=\"submit\" loading={isLoading}>\n            {t('common.signUp')}\n          </Auth.SubmitButton>\n        </BaseForm.Item>\n        <BaseForm.Item noStyle>\n          <Auth.SocialButton type=\"default\" htmlType=\"submit\">\n            <Auth.SocialIconWrapper>\n              <GoogleIcon />\n            </Auth.SocialIconWrapper>\n            {t('signup.googleLink')}\n          </Auth.SocialButton>\n        </BaseForm.Item>\n        <BaseForm.Item noStyle>\n          <Auth.SocialButton type=\"default\" htmlType=\"submit\">\n            <Auth.SocialIconWrapper>\n              <FacebookIcon />\n            </Auth.SocialIconWrapper>\n            {t('signup.facebookLink')}\n          </Auth.SocialButton>\n        </BaseForm.Item>\n        <Auth.FooterWrapper>\n          <Auth.Text>\n            {t('signup.alreadyHaveAccount')}{' '}\n            <Link to=\"/auth/login\">\n              <Auth.LinkText>{t('common.here')}</Auth.LinkText>\n            </Link>\n          </Auth.Text>\n        </Auth.FooterWrapper>\n      </BaseForm>\n    </Auth.FormWrapper>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}