{"ast":null,"code":"import{createAction,createSlice}from'@reduxjs/toolkit';var DEFAULT_NIGHT_MODE_INTERVAL=[20*3600*1000,8*3600*1000];var currentNightTimeJSON=localStorage.getItem('nightTime');var currentNightTime=currentNightTimeJSON?JSON.parse(currentNightTimeJSON):DEFAULT_NIGHT_MODE_INTERVAL;var isNightMode=localStorage.getItem('nightMode')==='true';localStorage.setItem('nightTime',JSON.stringify(currentNightTime));localStorage.setItem('nightMode',JSON.stringify(isNightMode));var initialState={isNightMode:isNightMode,nightTime:currentNightTime};export var setNightMode=createAction('nightMode/setNightMode',function(isNightMode){localStorage.setItem('nightMode',JSON.stringify(isNightMode));return{payload:isNightMode};});export var setNightTime=createAction('nightMode/setNightTime',function(nightTime){localStorage.setItem('nightTime',JSON.stringify(nightTime));return{payload:nightTime};});export var nightModeSlice=createSlice({name:'nightMode',initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(setNightMode,function(state,action){state.isNightMode=action.payload;});builder.addCase(setNightTime,function(state,action){state.nightTime=action.payload;});}});export default nightModeSlice.reducer;","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/store/slices/nightModeSlice.ts"],"names":["createAction","createSlice","DEFAULT_NIGHT_MODE_INTERVAL","currentNightTimeJSON","localStorage","getItem","currentNightTime","JSON","parse","isNightMode","setItem","stringify","initialState","nightTime","setNightMode","payload","setNightTime","nightModeSlice","name","reducers","extraReducers","builder","addCase","state","action","reducer"],"mappings":"AAAA,OAASA,YAAT,CAAuBC,WAAvB,KAAyD,kBAAzD,CAEA,GAAMC,CAAAA,2BAA2B,CAAG,CAAC,GAAK,IAAL,CAAY,IAAb,CAAmB,EAAI,IAAJ,CAAW,IAA9B,CAApC,CAOA,GAAMC,CAAAA,oBAAoB,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAA7B,CACA,GAAMC,CAAAA,gBAA0B,CAAGH,oBAAoB,CAClDI,IAAI,CAACC,KAAL,CAAWL,oBAAX,CADkD,CAEnDD,2BAFJ,CAIA,GAAMO,CAAAA,WAAW,CAAGL,YAAY,CAACC,OAAb,CAAqB,WAArB,IAAsC,MAA1D,CAEAD,YAAY,CAACM,OAAb,CAAqB,WAArB,CAAkCH,IAAI,CAACI,SAAL,CAAeL,gBAAf,CAAlC,EACAF,YAAY,CAACM,OAAb,CAAqB,WAArB,CAAkCH,IAAI,CAACI,SAAL,CAAeF,WAAf,CAAlC,EAEA,GAAMG,CAAAA,YAA4B,CAAG,CACnCH,WAAW,CAAXA,WADmC,CAEnCI,SAAS,CAAEP,gBAFwB,CAArC,CAKA,MAAO,IAAMQ,CAAAA,YAAY,CAAGd,YAAY,CAAyB,wBAAzB,CAAmD,SAACS,WAAD,CAAiB,CAC1GL,YAAY,CAACM,OAAb,CAAqB,WAArB,CAAkCH,IAAI,CAACI,SAAL,CAAeF,WAAf,CAAlC,EAEA,MAAO,CACLM,OAAO,CAAEN,WADJ,CAAP,CAGD,CANuC,CAAjC,CAQP,MAAO,IAAMO,CAAAA,YAAY,CAAGhB,YAAY,CAA0B,wBAA1B,CAAoD,SAACa,SAAD,CAAe,CACzGT,YAAY,CAACM,OAAb,CAAqB,WAArB,CAAkCH,IAAI,CAACI,SAAL,CAAeE,SAAf,CAAlC,EAEA,MAAO,CACLE,OAAO,CAAEF,SADJ,CAAP,CAGD,CANuC,CAAjC,CAQP,MAAO,IAAMI,CAAAA,cAAc,CAAGhB,WAAW,CAAC,CACxCiB,IAAI,CAAE,WADkC,CAExCN,YAAY,CAAZA,YAFwC,CAGxCO,QAAQ,CAAE,EAH8B,CAIxCC,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CAACC,OAAR,CAAgBR,YAAhB,CAA8B,SAACS,KAAD,CAAQC,MAAR,CAAmB,CAC/CD,KAAK,CAACd,WAAN,CAAoBe,MAAM,CAACT,OAA3B,CACD,CAFD,EAGAM,OAAO,CAACC,OAAR,CAAgBN,YAAhB,CAA8B,SAACO,KAAD,CAAQC,MAAR,CAAmB,CAC/CD,KAAK,CAACV,SAAN,CAAkBW,MAAM,CAACT,OAAzB,CACD,CAFD,EAGD,CAXuC,CAAD,CAAlC,CAcP,cAAeE,CAAAA,cAAc,CAACQ,OAA9B","sourcesContent":["import { createAction, createSlice, PrepareAction } from '@reduxjs/toolkit';\n\nconst DEFAULT_NIGHT_MODE_INTERVAL = [20 * 3600 * 1000, 8 * 3600 * 1000];\n\ninterface NightModeState {\n  isNightMode: boolean;\n  nightTime: number[];\n}\n\nconst currentNightTimeJSON = localStorage.getItem('nightTime');\nconst currentNightTime: number[] = currentNightTimeJSON\n  ? (JSON.parse(currentNightTimeJSON) as number[])\n  : DEFAULT_NIGHT_MODE_INTERVAL;\n\nconst isNightMode = localStorage.getItem('nightMode') === 'true';\n\nlocalStorage.setItem('nightTime', JSON.stringify(currentNightTime));\nlocalStorage.setItem('nightMode', JSON.stringify(isNightMode));\n\nconst initialState: NightModeState = {\n  isNightMode,\n  nightTime: currentNightTime,\n};\n\nexport const setNightMode = createAction<PrepareAction<boolean>>('nightMode/setNightMode', (isNightMode) => {\n  localStorage.setItem('nightMode', JSON.stringify(isNightMode));\n\n  return {\n    payload: isNightMode,\n  };\n});\n\nexport const setNightTime = createAction<PrepareAction<number[]>>('nightMode/setNightTime', (nightTime) => {\n  localStorage.setItem('nightTime', JSON.stringify(nightTime));\n\n  return {\n    payload: nightTime,\n  };\n});\n\nexport const nightModeSlice = createSlice({\n  name: 'nightMode',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(setNightMode, (state, action) => {\n      state.isNightMode = action.payload;\n    });\n    builder.addCase(setNightTime, (state, action) => {\n      state.nightTime = action.payload;\n    });\n  },\n});\n\nexport default nightModeSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}