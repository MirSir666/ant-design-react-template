{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _createClass from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _inherits from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import L from'leaflet';import{Marker,Popup}from'react-leaflet';import{ReactComponent as MapBackgroundIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!assets/icons/map-background.svg\";import*as S from'./DoctorsMap.styles';import{useResponsive}from'hooks/useResponsive';import{DoctorProfile}from'components/common/DoctorProfile/DoctorProfile';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LARGE_MARKER_SIZE=[50,50];var MARKER_SIZE=[30,30];var defineIconSize=function defineIconSize(isDesktop){return isDesktop&&LARGE_MARKER_SIZE||MARKER_SIZE;};var MarkerDoctor=/*#__PURE__*/function(_L$Icon){_inherits(MarkerDoctor,_L$Icon);var _super=_createSuper(MarkerDoctor);function MarkerDoctor(props,isDesktop){_classCallCheck(this,MarkerDoctor);var iconSIze=defineIconSize(isDesktop);return _super.call(this,_objectSpread({popupAnchor:iconSIze,iconSize:iconSIze},props));}return _createClass(MarkerDoctor);}(L.Icon);export var DoctorsMap=function DoctorsMap(_ref){var doctors=_ref.doctors;var _useResponsive=useResponsive(),isDesktop=_useResponsive.isDesktop;var mapDoctors=doctors.filter(function(_ref2){var gps=_ref2.gps;return gps;});return/*#__PURE__*/_jsxs(S.DoctorsMap,{children:[/*#__PURE__*/_jsx(MapBackgroundIcon,{}),mapDoctors.map(function(marker){var _marker$gps,_marker$gps2;return/*#__PURE__*/_jsx(Marker,{icon:new MarkerDoctor({iconUrl:marker.imgUrl,iconRetinaUrl:marker.imgUrl},isDesktop),position:[((_marker$gps=marker.gps)===null||_marker$gps===void 0?void 0:_marker$gps.latitude)||0,((_marker$gps2=marker.gps)===null||_marker$gps2===void 0?void 0:_marker$gps2.longitude)||0],children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsx(DoctorProfile,{avatar:marker.imgUrl,name:marker.name,speciality:marker.specifity,rating:marker.rating})})},marker.id);})]});};","map":{"version":3,"names":["React","L","Marker","Popup","S","useResponsive","DoctorProfile","LARGE_MARKER_SIZE","MARKER_SIZE","defineIconSize","isDesktop","MarkerDoctor","props","iconSIze","popupAnchor","iconSize","Icon","DoctorsMap","doctors","mapDoctors","filter","gps","map","marker","iconUrl","imgUrl","iconRetinaUrl","latitude","longitude","name","specifity","rating","id"],"sources":["/workspace/ant-design-react-template/src/components/medical-dashboard/mapCard/DoctorsMap/DoctorsMap.tsx"],"sourcesContent":["import React from 'react';\nimport L, { IconOptions, PointExpression } from 'leaflet';\nimport { Marker, Popup } from 'react-leaflet';\n\nimport { ReactComponent as MapBackgroundIcon } from 'assets/icons/map-background.svg';\n\nimport * as S from './DoctorsMap.styles';\nimport { useResponsive } from 'hooks/useResponsive';\n\nimport { Doctor } from 'api/doctors.api';\nimport { DoctorProfile } from 'components/common/DoctorProfile/DoctorProfile';\n\nconst LARGE_MARKER_SIZE: PointExpression = [50, 50];\nconst MARKER_SIZE: PointExpression = [30, 30];\n\nconst defineIconSize = (isDesktop: boolean): PointExpression => {\n  return (isDesktop && LARGE_MARKER_SIZE) || MARKER_SIZE;\n};\n\nclass MarkerDoctor extends L.Icon {\n  constructor(props: IconOptions, isDesktop: boolean) {\n    const iconSIze = defineIconSize(isDesktop);\n    super({\n      popupAnchor: iconSIze,\n      iconSize: iconSIze,\n      ...props,\n    });\n  }\n}\n\ninterface DoctorsMapProps {\n  doctors: Doctor[];\n}\n\nexport const DoctorsMap: React.FC<DoctorsMapProps> = ({ doctors }) => {\n  const { isDesktop } = useResponsive();\n\n  const mapDoctors = doctors.filter(({ gps }) => gps);\n\n  return (\n    <S.DoctorsMap>\n      <MapBackgroundIcon />\n      {mapDoctors.map((marker) => (\n        <Marker\n          key={marker.id}\n          icon={\n            new MarkerDoctor(\n              {\n                iconUrl: marker.imgUrl,\n                iconRetinaUrl: marker.imgUrl,\n              },\n              isDesktop,\n            )\n          }\n          position={[marker.gps?.latitude || 0, marker.gps?.longitude || 0]}\n        >\n          <Popup>\n            <DoctorProfile\n              avatar={marker.imgUrl}\n              name={marker.name}\n              speciality={marker.specifity}\n              rating={marker.rating}\n            />\n          </Popup>\n        </Marker>\n      ))}\n    </S.DoctorsMap>\n  );\n};\n"],"mappings":"ilBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,EAAC,KAAwC,SAAS,CACzD,OAASC,MAAM,CAAEC,KAAK,KAAQ,eAAe,CAAC,qHAI9C,MAAO,GAAKC,EAAC,KAAM,qBAAqB,CACxC,OAASC,aAAa,KAAQ,qBAAqB,CAGnD,OAASC,aAAa,KAAQ,+CAA+C,CAAC,wFAE9E,GAAMC,kBAAkC,CAAG,CAAC,EAAE,CAAE,EAAE,CAAC,CACnD,GAAMC,YAA4B,CAAG,CAAC,EAAE,CAAE,EAAE,CAAC,CAE7C,GAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIC,SAAkB,CAAsB,CAC9D,MAAQA,UAAS,EAAIH,iBAAiB,EAAKC,WAAW,CACxD,CAAC,CAAC,GAEIG,aAAY,sGAChB,sBAAYC,KAAkB,CAAEF,SAAkB,CAAE,oCAClD,GAAMG,SAAQ,CAAGJ,cAAc,CAACC,SAAS,CAAC,CAAC,uCAEzCI,WAAW,CAAED,QAAQ,CACrBE,QAAQ,CAAEF,QAAQ,EACfD,KAAK,GAEZ,CAAC,oCARwBX,CAAC,CAACe,IAAI,EAejC,MAAO,IAAMC,WAAqC,CAAG,QAAxCA,WAAqC,MAAoB,IAAdC,QAAO,MAAPA,OAAO,CAC7D,mBAAsBb,aAAa,EAAE,CAA7BK,SAAS,gBAATA,SAAS,CAEjB,GAAMS,WAAU,CAAGD,OAAO,CAACE,MAAM,CAAC,mBAAGC,IAAG,OAAHA,GAAG,OAAOA,IAAG,GAAC,CAEnD,mBACE,MAAC,CAAC,CAAC,UAAU,yBACX,KAAC,iBAAiB,IAAG,CACpBF,UAAU,CAACG,GAAG,CAAC,SAACC,MAAM,kDACrB,KAAC,MAAM,EAEL,IAAI,CACF,GAAIZ,aAAY,CACd,CACEa,OAAO,CAAED,MAAM,CAACE,MAAM,CACtBC,aAAa,CAAEH,MAAM,CAACE,MACxB,CAAC,CACDf,SAAS,CAEZ,CACD,QAAQ,CAAE,CAAC,cAAAa,MAAM,CAACF,GAAG,sCAAV,YAAYM,QAAQ,GAAI,CAAC,CAAE,eAAAJ,MAAM,CAACF,GAAG,uCAAV,aAAYO,SAAS,GAAI,CAAC,CAAE,uBAElE,KAAC,KAAK,wBACJ,KAAC,aAAa,EACZ,MAAM,CAAEL,MAAM,CAACE,MAAO,CACtB,IAAI,CAAEF,MAAM,CAACM,IAAK,CAClB,UAAU,CAAEN,MAAM,CAACO,SAAU,CAC7B,MAAM,CAAEP,MAAM,CAACQ,MAAO,EACtB,EACI,EAnBHR,MAAM,CAACS,EAAE,CAoBP,EACV,CAAC,GACW,CAEnB,CAAC"},"metadata":{},"sourceType":"module"}