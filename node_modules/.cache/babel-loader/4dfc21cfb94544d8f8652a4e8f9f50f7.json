{"ast":null,"code":"import _objectSpread from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import Stories from'react-insta-stories';import{Col,Row}from'antd';import{LeftOutlined,RightOutlined}from'@ant-design/icons';import{useTranslation}from'react-i18next';import{Carousel}from'@app/components/common/Carousel/Carousel';import{NFTCardHeader}from'@app/components/nft-dashboard/common/NFTCardHeader/NFTCardHeader';import{ViewAll}from'@app/components/nft-dashboard/common/ViewAll/ViewAll';import{TrendingCreatorsStory}from'@app/components/nft-dashboard/trending-creators/story/TrendingCreatorsStory';import{useResponsive}from'@app/hooks/useResponsive';import{getTrendingCreators}from'@app/api/trendingCreators';import*as S from'./TrendingCreators.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var TrendingCreators=function TrendingCreators(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isStoryOpened=_useState2[0],setStoryOpened=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),storyIndex=_useState4[0],setStoryIndex=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),stories=_useState6[0],setStories=_useState6[1];var _useState7=useState(Math.random()),_useState8=_slicedToArray(_useState7,2),key=_useState8[0],setKey=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),dragging=_useState10[0],setDragging=_useState10[1];var _useResponsive=useResponsive(),isTabletOrHigher=_useResponsive.isTablet;var _useTranslation=useTranslation(),t=_useTranslation.t;var sliderRef=useRef(null);useEffect(function(){getTrendingCreators().then(function(res){return setStories(res);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NFTCardHeader,{title:t('nft.trendingCreators'),children:/*#__PURE__*/_jsxs(Row,{align:\"middle\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(ViewAll,{bordered:false})}),isTabletOrHigher&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(S.ArrowBtn,{type:\"text\",size:\"small\",onClick:function onClick(){return sliderRef.current&&sliderRef.current.slickPrev();},children:/*#__PURE__*/_jsx(LeftOutlined,{})})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(S.ArrowBtn,{type:\"text\",size:\"small\",onClick:function onClick(){return sliderRef.current&&sliderRef.current.slickNext();},children:/*#__PURE__*/_jsx(RightOutlined,{})})})]})]})}),stories.length>0&&/*#__PURE__*/_jsx(Carousel,{beforeChange:function beforeChange(){return setDragging(true);},afterChange:function afterChange(){return setDragging(false);},slidesToShow:11,ref:sliderRef,centerMode:false,infinite:false,responsive:[{breakpoint:1920,settings:{slidesToShow:10}},{breakpoint:1870,settings:{slidesToShow:9}},{breakpoint:1700,settings:{slidesToShow:8}},{breakpoint:1530,settings:{slidesToShow:7}},{breakpoint:1370,settings:{slidesToShow:6}},{breakpoint:1279,settings:{slidesToShow:13}},{breakpoint:1200,settings:{slidesToShow:12}},{breakpoint:1120,settings:{slidesToShow:11}},{breakpoint:1020,settings:{slidesToShow:10}},{breakpoint:920,settings:{slidesToShow:9}},{breakpoint:820,settings:{slidesToShow:8}},{breakpoint:767,settings:{slidesToShow:9}},{breakpoint:650,settings:{slidesToShow:8}},{breakpoint:550,settings:{slidesToShow:7}},{breakpoint:500,settings:{slidesToShow:6}},{breakpoint:450,settings:{slidesToShow:5}}],children:stories.map(function(story,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(S.CardWrapper,{children:/*#__PURE__*/_jsx(TrendingCreatorsStory,{img:story.header.profileImage,viewed:story.viewed,onStoryOpen:function onStoryOpen(){if(!dragging){setStoryIndex(index);setStoryOpened(true);}}})})},index);})}),isStoryOpened&&/*#__PURE__*/_jsx(S.StoriesModal,{visible:isStoryOpened,onCancel:function onCancel(){setStories(function(prevStories){return prevStories.sort(function(a,b){return Number(a.viewed)-Number(b.viewed);});});setStoryOpened(false);setKey(Math.random());},footer:null,destroyOnClose:true,maskStyle:{background:'rgba(0, 0, 0, 0.85)'},children:/*#__PURE__*/_jsx(Stories,{currentIndex:storyIndex,stories:stories,defaultInterval:2000,keyboardNavigation:true,width:\"100%\",height:isTabletOrHigher?500:'100vh',onStoryStart:function onStoryStart(storyNumber){setStories(function(prevStories){var storiesCopy=_toConsumableArray(prevStories);storiesCopy.splice(storyNumber,1,_objectSpread(_objectSpread({},prevStories[storyNumber]),{},{viewed:true}));return storiesCopy;});},onAllStoriesEnd:function onAllStoriesEnd(){setStoryOpened(false);}},key)})]});};","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/components/nft-dashboard/trending-creators/TrendingCreators.tsx"],"names":["React","useEffect","useRef","useState","Stories","Col","Row","LeftOutlined","RightOutlined","useTranslation","Carousel","NFTCardHeader","ViewAll","TrendingCreatorsStory","useResponsive","getTrendingCreators","S","TrendingCreators","isStoryOpened","setStoryOpened","storyIndex","setStoryIndex","stories","setStories","Math","random","key","setKey","dragging","setDragging","isTabletOrHigher","isTablet","t","sliderRef","then","res","current","slickPrev","slickNext","length","breakpoint","settings","slidesToShow","map","story","index","header","profileImage","viewed","prevStories","sort","a","b","Number","background","storyNumber","storiesCopy","splice"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport Stories from 'react-insta-stories';\nimport Slider from 'react-slick';\nimport { Col, Row } from 'antd';\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\nimport { useTranslation } from 'react-i18next';\nimport { Carousel } from '@app/components/common/Carousel/Carousel';\nimport { NFTCardHeader } from '@app/components/nft-dashboard/common/NFTCardHeader/NFTCardHeader';\nimport { ViewAll } from '@app/components/nft-dashboard/common/ViewAll/ViewAll';\nimport { TrendingCreatorsStory } from '@app/components/nft-dashboard/trending-creators/story/TrendingCreatorsStory';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport { getTrendingCreators, TrendingCreator } from '@app/api/trendingCreators';\nimport * as S from './TrendingCreators.styles';\n\nexport const TrendingCreators: React.FC = () => {\n  const [isStoryOpened, setStoryOpened] = useState(false);\n  const [storyIndex, setStoryIndex] = useState(0);\n  const [stories, setStories] = useState<TrendingCreator[]>([]);\n  const [key, setKey] = useState(Math.random());\n  const [dragging, setDragging] = useState(false);\n\n  const { isTablet: isTabletOrHigher } = useResponsive();\n  const { t } = useTranslation();\n  const sliderRef = useRef<Slider>(null);\n\n  useEffect(() => {\n    getTrendingCreators().then((res) => setStories(res));\n  }, []);\n\n  return (\n    <>\n      <NFTCardHeader title={t('nft.trendingCreators')}>\n        <Row align=\"middle\">\n          <Col>\n            <ViewAll bordered={false} />\n          </Col>\n\n          {isTabletOrHigher && (\n            <>\n              <Col>\n                <S.ArrowBtn type=\"text\" size=\"small\" onClick={() => sliderRef.current && sliderRef.current.slickPrev()}>\n                  <LeftOutlined />\n                </S.ArrowBtn>\n              </Col>\n\n              <Col>\n                <S.ArrowBtn type=\"text\" size=\"small\" onClick={() => sliderRef.current && sliderRef.current.slickNext()}>\n                  <RightOutlined />\n                </S.ArrowBtn>\n              </Col>\n            </>\n          )}\n        </Row>\n      </NFTCardHeader>\n\n      {stories.length > 0 && (\n        <Carousel\n          beforeChange={() => setDragging(true)}\n          afterChange={() => setDragging(false)}\n          slidesToShow={11}\n          ref={sliderRef}\n          centerMode={false}\n          infinite={false}\n          responsive={[\n            {\n              breakpoint: 1920,\n              settings: {\n                slidesToShow: 10,\n              },\n            },\n            {\n              breakpoint: 1870,\n              settings: {\n                slidesToShow: 9,\n              },\n            },\n            {\n              breakpoint: 1700,\n              settings: {\n                slidesToShow: 8,\n              },\n            },\n            {\n              breakpoint: 1530,\n              settings: {\n                slidesToShow: 7,\n              },\n            },\n            {\n              breakpoint: 1370,\n              settings: {\n                slidesToShow: 6,\n              },\n            },\n            {\n              breakpoint: 1279,\n              settings: {\n                slidesToShow: 13,\n              },\n            },\n            {\n              breakpoint: 1200,\n              settings: {\n                slidesToShow: 12,\n              },\n            },\n            {\n              breakpoint: 1120,\n              settings: {\n                slidesToShow: 11,\n              },\n            },\n            {\n              breakpoint: 1020,\n              settings: {\n                slidesToShow: 10,\n              },\n            },\n            {\n              breakpoint: 920,\n              settings: {\n                slidesToShow: 9,\n              },\n            },\n            {\n              breakpoint: 820,\n              settings: {\n                slidesToShow: 8,\n              },\n            },\n            {\n              breakpoint: 767,\n              settings: {\n                slidesToShow: 9,\n              },\n            },\n            {\n              breakpoint: 650,\n              settings: {\n                slidesToShow: 8,\n              },\n            },\n            {\n              breakpoint: 550,\n              settings: {\n                slidesToShow: 7,\n              },\n            },\n            {\n              breakpoint: 500,\n              settings: {\n                slidesToShow: 6,\n              },\n            },\n            {\n              breakpoint: 450,\n              settings: {\n                slidesToShow: 5,\n              },\n            },\n          ]}\n        >\n          {stories.map((story, index) => (\n            <div key={index}>\n              <S.CardWrapper>\n                <TrendingCreatorsStory\n                  img={story.header.profileImage}\n                  viewed={story.viewed}\n                  onStoryOpen={() => {\n                    if (!dragging) {\n                      setStoryIndex(index);\n                      setStoryOpened(true);\n                    }\n                  }}\n                />\n              </S.CardWrapper>\n            </div>\n          ))}\n        </Carousel>\n      )}\n\n      {isStoryOpened && (\n        <S.StoriesModal\n          visible={isStoryOpened}\n          onCancel={() => {\n            setStories((prevStories) =>\n              prevStories.sort((a, b) => {\n                return Number(a.viewed) - Number(b.viewed);\n              }),\n            );\n            setStoryOpened(false);\n            setKey(Math.random());\n          }}\n          footer={null}\n          destroyOnClose\n          maskStyle={{\n            background: 'rgba(0, 0, 0, 0.85)',\n          }}\n        >\n          <Stories\n            key={key}\n            currentIndex={storyIndex}\n            stories={stories}\n            defaultInterval={2000}\n            keyboardNavigation\n            width=\"100%\"\n            height={isTabletOrHigher ? 500 : '100vh'}\n            onStoryStart={(storyNumber: number) => {\n              setStories((prevStories) => {\n                const storiesCopy = [...prevStories];\n                storiesCopy.splice(storyNumber, 1, { ...prevStories[storyNumber], viewed: true });\n\n                return storiesCopy;\n              });\n            }}\n            onAllStoriesEnd={() => {\n              setStoryOpened(false);\n            }}\n          />\n        </S.StoriesModal>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}