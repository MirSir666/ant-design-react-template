{"ast":null,"code":"import{useEffect,useRef}from'react';export var useResetFormOnCloseModal=function useResetFormOnCloseModal(_ref){var form=_ref.form,visible=_ref.visible;var prevVisibleRef=useRef();useEffect(function(){prevVisibleRef.current=visible;},[visible]);var prevVisible=prevVisibleRef.current;useEffect(function(){if(!visible&&prevVisible){form.resetFields();}},[visible,form,prevVisible]);};","map":{"version":3,"names":["useEffect","useRef","useResetFormOnCloseModal","form","visible","prevVisibleRef","current","prevVisible","resetFields"],"sources":["/workspace/ant-design-react-template/src/components/forms/ControlForm/useResetFormOnCloseModal.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { FormInstance } from 'antd';\n\nexport const useResetFormOnCloseModal = ({ form, visible }: { form: FormInstance; visible: boolean }): void => {\n  const prevVisibleRef = useRef<boolean>();\n  useEffect(() => {\n    prevVisibleRef.current = visible;\n  }, [visible]);\n  const prevVisible = prevVisibleRef.current;\n\n  useEffect(() => {\n    if (!visible && prevVisible) {\n      form.resetFields();\n    }\n  }, [visible, form, prevVisible]);\n};\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAGzC,MAAO,IAAMC,yBAAwB,CAAG,QAA3BA,yBAAwB,MAA0E,IAApEC,KAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CACtD,GAAMC,eAAc,CAAGJ,MAAM,EAAW,CACxCD,SAAS,CAAC,UAAM,CACdK,cAAc,CAACC,OAAO,CAAGF,OAAO,CAClC,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CACb,GAAMG,YAAW,CAAGF,cAAc,CAACC,OAAO,CAE1CN,SAAS,CAAC,UAAM,CACd,GAAI,CAACI,OAAO,EAAIG,WAAW,CAAE,CAC3BJ,IAAI,CAACK,WAAW,EAAE,CACpB,CACF,CAAC,CAAE,CAACJ,OAAO,CAAED,IAAI,CAAEI,WAAW,CAAC,CAAC,CAClC,CAAC"},"metadata":{},"sourceType":"module"}