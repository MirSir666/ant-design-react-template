{"ast":null,"code":"import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import{useTranslation}from'react-i18next';import{DashboardCard}from'@app/components/medical-dashboard/DashboardCard/DashboardCard';import{Carousel}from'@app/components/common/Carousel/Carousel';import{DoctorCard}from'../DoctorCard/DoctorCard';import{Dates}from'@app/constants/Dates';import{getUserCalendar}from'@app/api/calendar.api';import{getDoctorsData}from'@app/api/doctors.api';import{useAppSelector}from'@app/hooks/reduxHooks';import*as S from'./FavoritesDoctorsCard.styles';import{BREAKPOINTS}from'@app/styles/themes/constants';/* eslint-disable @typescript-eslint/no-explicit-any */import{jsx as _jsx}from\"react/jsx-runtime\";var NextArrow=function NextArrow(props){var className=props.className,style=props.style,onClick=props.onClick;return/*#__PURE__*/_jsx(S.SliderArrow,{className:className,style:_objectSpread(_objectSpread({},style),{},{display:'block'}),onClick:onClick});};var PrevArrow=function PrevArrow(props){var className=props.className,style=props.style,onClick=props.onClick;return/*#__PURE__*/_jsx(S.SliderArrow,{className:className,style:_objectSpread(_objectSpread({},style),{},{display:'block'}),onClick:onClick});};export var FavoritesDoctorsCard=function FavoritesDoctorsCard(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),doctors=_useState2[0],setDoctors=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),calendar=_useState4[0],setCalendar=_useState4[1];var user=useAppSelector(function(state){return state.user.user;});var today=Dates.getToday();useEffect(function(){getDoctorsData().then(function(res){return setDoctors(res);});},[]);useEffect(function(){user&&getUserCalendar(user.id).then(function(res){return setCalendar(res);});},[user]);var pastEvents=useMemo(function(){return calendar.filter(function(event){return Dates.getDate(event.date).isBefore(today);});},[calendar,today]);return/*#__PURE__*/_jsx(DashboardCard,{title:t('medical-dashboard.favoriteDoctors.title'),padding:\"0 20px\",children:doctors.length>0&&calendar.length>0&&/*#__PURE__*/_jsx(S.CarouselWrapper,{children:/*#__PURE__*/_jsx(Carousel,{arrows:true,nextArrow:/*#__PURE__*/_jsx(NextArrow,{}),prevArrow:/*#__PURE__*/_jsx(PrevArrow,{}),slidesToShow:4,responsive:[{breakpoint:1931,settings:{slidesToShow:3}},{breakpoint:1530,settings:{slidesToShow:2}},{breakpoint:BREAKPOINTS.xl-1,settings:{slidesToShow:4}},{breakpoint:1140,settings:{slidesToShow:3}},{breakpoint:920,settings:{slidesToShow:2}},{breakpoint:BREAKPOINTS.md-1,settings:{slidesToShow:3}},{breakpoint:720,settings:{slidesToShow:2}},{breakpoint:520,settings:{slidesToShow:1}}],children:pastEvents.map(function(event){var currentDoctor=doctors.find(function(doctor){return doctor.id===event.doctor;});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DoctorCard,{imgUrl:currentDoctor===null||currentDoctor===void 0?void 0:currentDoctor.imgUrl,name:currentDoctor===null||currentDoctor===void 0?void 0:currentDoctor.name,speciality:currentDoctor===null||currentDoctor===void 0?void 0:currentDoctor.specifity,rating:currentDoctor===null||currentDoctor===void 0?void 0:currentDoctor.rating,date:event.date})},currentDoctor===null||currentDoctor===void 0?void 0:currentDoctor.id);})})})});};","map":{"version":3,"names":["React","useEffect","useMemo","useState","useTranslation","DashboardCard","Carousel","DoctorCard","Dates","getUserCalendar","getDoctorsData","useAppSelector","S","BREAKPOINTS","NextArrow","props","className","style","onClick","display","PrevArrow","FavoritesDoctorsCard","t","doctors","setDoctors","calendar","setCalendar","user","state","today","getToday","then","res","id","pastEvents","filter","event","getDate","date","isBefore","length","breakpoint","settings","slidesToShow","xl","md","map","currentDoctor","find","doctor","imgUrl","name","specifity","rating"],"sources":["/workspace/ant-design-react-template/src/components/medical-dashboard/favoriteDoctors/FavoriteDoctorsCard/FavoritesDoctorsCard.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { DashboardCard } from '@app/components/medical-dashboard/DashboardCard/DashboardCard';\nimport { Carousel } from '@app/components/common/Carousel/Carousel';\nimport { DoctorCard } from '../DoctorCard/DoctorCard';\nimport { Dates } from '@app/constants/Dates';\nimport { CalendarEvent, getUserCalendar } from '@app/api/calendar.api';\nimport { Doctor, getDoctorsData } from '@app/api/doctors.api';\nimport { useAppSelector } from '@app/hooks/reduxHooks';\nimport * as S from './FavoritesDoctorsCard.styles';\nimport { BREAKPOINTS } from '@app/styles/themes/constants';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst NextArrow = (props: any) => {\n  const { className, style, onClick } = props;\n  return <S.SliderArrow className={className} style={{ ...style, display: 'block' }} onClick={onClick} />;\n};\n\nconst PrevArrow = (props: any) => {\n  const { className, style, onClick } = props;\n  return <S.SliderArrow className={className} style={{ ...style, display: 'block' }} onClick={onClick} />;\n};\n\nexport const FavoritesDoctorsCard: React.FC = () => {\n  const { t } = useTranslation();\n  const [doctors, setDoctors] = useState<Doctor[]>([]);\n  const [calendar, setCalendar] = useState<CalendarEvent[]>([]);\n\n  const user = useAppSelector((state) => state.user.user);\n\n  const today = Dates.getToday();\n\n  useEffect(() => {\n    getDoctorsData().then((res) => setDoctors(res));\n  }, []);\n\n  useEffect(() => {\n    user && getUserCalendar(user.id).then((res) => setCalendar(res));\n  }, [user]);\n\n  const pastEvents = useMemo(\n    () => calendar.filter((event) => Dates.getDate(event.date).isBefore(today)),\n    [calendar, today],\n  );\n\n  return (\n    <DashboardCard title={t('medical-dashboard.favoriteDoctors.title')} padding=\"0 20px\">\n      {doctors.length > 0 && calendar.length > 0 && (\n        <S.CarouselWrapper>\n          <Carousel\n            arrows={true}\n            nextArrow={<NextArrow />}\n            prevArrow={<PrevArrow />}\n            slidesToShow={4}\n            responsive={[\n              {\n                breakpoint: 1931,\n                settings: {\n                  slidesToShow: 3,\n                },\n              },\n              {\n                breakpoint: 1530,\n                settings: {\n                  slidesToShow: 2,\n                },\n              },\n              {\n                breakpoint: BREAKPOINTS.xl - 1,\n                settings: {\n                  slidesToShow: 4,\n                },\n              },\n              {\n                breakpoint: 1140,\n                settings: {\n                  slidesToShow: 3,\n                },\n              },\n              {\n                breakpoint: 920,\n                settings: {\n                  slidesToShow: 2,\n                },\n              },\n              {\n                breakpoint: BREAKPOINTS.md - 1,\n                settings: {\n                  slidesToShow: 3,\n                },\n              },\n              {\n                breakpoint: 720,\n                settings: {\n                  slidesToShow: 2,\n                },\n              },\n              {\n                breakpoint: 520,\n                settings: {\n                  slidesToShow: 1,\n                },\n              },\n            ]}\n          >\n            {pastEvents.map((event) => {\n              const currentDoctor = doctors.find((doctor) => doctor.id === event.doctor);\n\n              return (\n                <div key={currentDoctor?.id}>\n                  <DoctorCard\n                    imgUrl={currentDoctor?.imgUrl}\n                    name={currentDoctor?.name}\n                    speciality={currentDoctor?.specifity}\n                    rating={currentDoctor?.rating}\n                    date={event.date}\n                  />\n                </div>\n              );\n            })}\n          </Carousel>\n        </S.CarouselWrapper>\n      )}\n    </DashboardCard>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}