{"ast":null,"code":"import _slicedToArray from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/workspace/ant-design-react-template/src/components/nft-dashboard/totalEarning/TotalEarning.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Col, Row } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { CaretDownOutlined, CaretUpOutlined } from '@ant-design/icons';\nimport { NFTCard } from '@app/components/nft-dashboard/common/NFTCard/NFTCard';\nimport { TotalEarningChart } from '@app/components/nft-dashboard/totalEarning/TotalEarningChart/TotalEarningChart';\nimport { useAppSelector } from '@app/hooks/reduxHooks';\nimport { getTotalEarning } from '@app/api/earnings.api';\nimport { Dates } from '@app/constants/Dates';\nimport { formatNumberWithCommas, getCurrencyPrice, getDifference } from '@app/utils/utils';\nimport * as S from './TotalEarning.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var TotalEarning = function TotalEarning() {\n  _s();\n  var _totalEarning$total;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    totalEarning = _useState2[0],\n    setTotalEarning = _useState2[1];\n  var userId = useAppSelector(function (state) {\n    var _state$user$user;\n    return (_state$user$user = state.user.user) === null || _state$user$user === void 0 ? void 0 : _state$user$user.id;\n  });\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  useEffect(function () {\n    userId && getTotalEarning(userId, 'USD').then(function (res) {\n      return setTotalEarning(res);\n    });\n  }, [userId]);\n  var _useMemo = useMemo(function () {\n      return {\n        totalEarningData: {\n          data: totalEarning ? totalEarning.timeline.map(function (item) {\n            return item.usd_value;\n          }) : []\n        },\n        days: totalEarning ? totalEarning.timeline.map(function (item) {\n          return Dates.getDate(item.date).format('L');\n        }) : []\n      };\n    }, [totalEarning]),\n    totalEarningData = _useMemo.totalEarningData,\n    days = _useMemo.days;\n  var isIncreased = Number(totalEarning === null || totalEarning === void 0 ? void 0 : totalEarning.total) > Number(totalEarning === null || totalEarning === void 0 ? void 0 : totalEarning.prevTotal);\n  return /*#__PURE__*/_jsxDEV(NFTCard, {\n    isSider: true,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [14, 14],\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          wrap: false,\n          justify: \"space-between\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(S.Title, {\n              level: 2,\n              children: t('nft.totalEarning')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(S.ValueText, {\n              $color: isIncreased ? 'success' : 'error',\n              children: [isIncreased ? /*#__PURE__*/_jsxDEV(CaretUpOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 32\n              }, _this) : /*#__PURE__*/_jsxDEV(CaretDownOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 54\n              }, _this), ' ', totalEarning && getDifference(totalEarning === null || totalEarning === void 0 ? void 0 : totalEarning.total, totalEarning === null || totalEarning === void 0 ? void 0 : totalEarning.prevTotal)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          wrap: false,\n          justify: \"space-between\",\n          gutter: [20, 20],\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(S.Text, {\n              children: getCurrencyPrice(formatNumberWithCommas((_totalEarning$total = totalEarning === null || totalEarning === void 0 ? void 0 : totalEarning.total) !== null && _totalEarning$total !== void 0 ? _totalEarning$total : 0), 'USD')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            flex: 1,\n            children: /*#__PURE__*/_jsxDEV(TotalEarningChart, {\n              xAxisData: days,\n              earningData: totalEarningData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, _this);\n};\n_s(TotalEarning, \"jAkPuVUp4HHuAMtdv6ZQ0vcCvlQ=\", false, function () {\n  return [useAppSelector, useTranslation];\n});\n_c = TotalEarning;\nvar _c;\n$RefreshReg$(_c, \"TotalEarning\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Col","Row","useTranslation","CaretDownOutlined","CaretUpOutlined","NFTCard","TotalEarningChart","useAppSelector","getTotalEarning","Dates","formatNumberWithCommas","getCurrencyPrice","getDifference","S","TotalEarning","totalEarning","setTotalEarning","userId","state","user","id","t","then","res","totalEarningData","data","timeline","map","item","usd_value","days","getDate","date","format","isIncreased","Number","total","prevTotal"],"sources":["/workspace/ant-design-react-template/src/components/nft-dashboard/totalEarning/TotalEarning.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { Col, Row } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { CaretDownOutlined, CaretUpOutlined } from '@ant-design/icons';\nimport { NFTCard } from '@app/components/nft-dashboard/common/NFTCard/NFTCard';\nimport { TotalEarningChart } from '@app/components/nft-dashboard/totalEarning/TotalEarningChart/TotalEarningChart';\nimport { useAppSelector } from '@app/hooks/reduxHooks';\nimport { getTotalEarning, TotalEarning as ITotalEarning } from '@app/api/earnings.api';\nimport { Dates } from '@app/constants/Dates';\nimport { formatNumberWithCommas, getCurrencyPrice, getDifference } from '@app/utils/utils';\nimport * as S from './TotalEarning.styles';\n\nexport const TotalEarning: React.FC = () => {\n  const [totalEarning, setTotalEarning] = useState<ITotalEarning | null>(null);\n\n  const userId = useAppSelector((state) => state.user.user?.id);\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    userId && getTotalEarning(userId, 'USD').then((res) => setTotalEarning(res));\n  }, [userId]);\n\n  const { totalEarningData, days } = useMemo(\n    () => ({\n      totalEarningData: {\n        data: totalEarning ? totalEarning.timeline.map((item) => item.usd_value) : [],\n      },\n      days: totalEarning ? totalEarning.timeline.map((item) => Dates.getDate(item.date).format('L')) : [],\n    }),\n    [totalEarning],\n  );\n\n  const isIncreased = Number(totalEarning?.total) > Number(totalEarning?.prevTotal);\n\n  return (\n    <NFTCard isSider>\n      <Row gutter={[14, 14]}>\n        <Col span={24}>\n          <Row wrap={false} justify=\"space-between\">\n            <Col>\n              <S.Title level={2}>{t('nft.totalEarning')}</S.Title>\n            </Col>\n\n            <Col>\n              <S.ValueText $color={isIncreased ? 'success' : 'error'}>\n                {isIncreased ? <CaretUpOutlined /> : <CaretDownOutlined />}{' '}\n                {totalEarning && getDifference(totalEarning?.total, totalEarning?.prevTotal)}\n              </S.ValueText>\n            </Col>\n          </Row>\n        </Col>\n\n        <Col span={24}>\n          <Row wrap={false} justify=\"space-between\" gutter={[20, 20]}>\n            <Col>\n              <S.Text>{getCurrencyPrice(formatNumberWithCommas(totalEarning?.total ?? 0), 'USD')}</S.Text>\n            </Col>\n\n            <Col flex={1}>\n              <TotalEarningChart xAxisData={days} earningData={totalEarningData} />\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </NFTCard>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}