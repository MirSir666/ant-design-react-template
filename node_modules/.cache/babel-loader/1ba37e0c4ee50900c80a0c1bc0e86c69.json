{"ast":null,"code":"import _objectSpread from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/workspace/ant-design-react-template/src/components/header/components/searchDropdown/SearchDropdown.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { FilterIcon } from 'components/common/icons/FilterIcon';\nimport { SearchOverlay } from './searchOverlay/SearchOverlay/SearchOverlay';\nimport { HeaderActionWrapper } from '@app/components/header/Header.styles';\nimport { Btn, InputSearch } from '../HeaderSearch/HeaderSearch.styles';\nimport { useTranslation } from 'react-i18next';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var SearchDropdown = function SearchDropdown(_ref) {\n  _s();\n  var query = _ref.query,\n    setQuery = _ref.setQuery,\n    data = _ref.data,\n    isOverlayVisible = _ref.isOverlayVisible,\n    setOverlayVisible = _ref.setOverlayVisible;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFilterVisible = _useState2[0],\n    setFilterActive = _useState2[1];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  useEffect(function () {\n    setOverlayVisible(!!query || isFilterVisible);\n  }, [query, isFilterVisible, setOverlayVisible]);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var ref = useRef(null);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Dropdown, _objectSpread(_objectSpread({}, (!!data || isFilterVisible) && {\n      trigger: ['click'],\n      onVisibleChange: setOverlayVisible\n    }), {}, {\n      overlayClassName: \"search-dropdown\",\n      overlay: /*#__PURE__*/_jsxDEV(SearchOverlay, {\n        data: data,\n        isFilterVisible: isFilterVisible\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 18\n      }, _this),\n      visible: isOverlayVisible,\n      getPopupContainer: function getPopupContainer() {\n        return ref.current;\n      },\n      children: /*#__PURE__*/_jsxDEV(HeaderActionWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(InputSearch, {\n          width: \"100%\",\n          value: query,\n          placeholder: t('header.search'),\n          filter: /*#__PURE__*/_jsxDEV(Btn, {\n            size: \"small\",\n            type: isFilterVisible ? 'ghost' : 'text',\n            \"aria-label\": \"Filter\",\n            icon: /*#__PURE__*/_jsxDEV(FilterIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 23\n            }, _this),\n            onClick: function onClick() {\n              return setFilterActive(!isFilterVisible);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, _this),\n          onChange: function onChange(event) {\n            return setQuery(event.target.value);\n          },\n          enterButton: null,\n          addonAfter: null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: ref\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, _this)\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n_s(SearchDropdown, \"tD1qNjc7+uPCBo4ax+Yd5ZoEARQ=\", false, function () {\n  return [useTranslation];\n});\n_c = SearchDropdown;\nvar _c;\n$RefreshReg$(_c, \"SearchDropdown\");","map":{"version":3,"names":["React","useEffect","useRef","useState","FilterIcon","SearchOverlay","HeaderActionWrapper","Btn","InputSearch","useTranslation","Dropdown","SearchDropdown","query","setQuery","data","isOverlayVisible","setOverlayVisible","isFilterVisible","setFilterActive","t","ref","trigger","onVisibleChange","current","event","target","value"],"sources":["/workspace/ant-design-react-template/src/components/header/components/searchDropdown/SearchDropdown.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { FilterIcon } from 'components/common/icons/FilterIcon';\nimport { SearchOverlay } from './searchOverlay/SearchOverlay/SearchOverlay';\nimport { HeaderActionWrapper } from '@app/components/header/Header.styles';\nimport { CategoryComponents } from '@app/components/header/components/HeaderSearch/HeaderSearch';\nimport { Btn, InputSearch } from '../HeaderSearch/HeaderSearch.styles';\nimport { useTranslation } from 'react-i18next';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\n\ninterface SearchOverlayProps {\n  query: string;\n  setQuery: (query: string) => void;\n  data: CategoryComponents[] | null;\n  isOverlayVisible: boolean;\n  setOverlayVisible: (state: boolean) => void;\n}\n\nexport const SearchDropdown: React.FC<SearchOverlayProps> = ({\n  query,\n  setQuery,\n  data,\n  isOverlayVisible,\n  setOverlayVisible,\n}) => {\n  const [isFilterVisible, setFilterActive] = useState(false);\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    setOverlayVisible(!!query || isFilterVisible);\n  }, [query, isFilterVisible, setOverlayVisible]);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ref = useRef<any>(null);\n\n  return (\n    <>\n      <Dropdown\n        {...((!!data || isFilterVisible) && { trigger: ['click'], onVisibleChange: setOverlayVisible })}\n        overlayClassName=\"search-dropdown\"\n        overlay={<SearchOverlay data={data} isFilterVisible={isFilterVisible} />}\n        visible={isOverlayVisible}\n        getPopupContainer={() => ref.current}\n      >\n        <HeaderActionWrapper>\n          <InputSearch\n            width=\"100%\"\n            value={query}\n            placeholder={t('header.search')}\n            filter={\n              <Btn\n                size=\"small\"\n                type={isFilterVisible ? 'ghost' : 'text'}\n                aria-label=\"Filter\"\n                icon={<FilterIcon />}\n                onClick={() => setFilterActive(!isFilterVisible)}\n              />\n            }\n            onChange={(event) => setQuery(event.target.value)}\n            enterButton={null}\n            addonAfter={null}\n          />\n          <div ref={ref} />\n        </HeaderActionWrapper>\n      </Dropdown>\n    </>\n  );\n};\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,UAAU,QAAQ,oCAAoC;AAC/D,SAASC,aAAa,QAAQ,6CAA6C;AAC3E,SAASC,mBAAmB,QAAQ,sCAAsC;AAE1E,SAASC,GAAG,EAAEC,WAAW,QAAQ,qCAAqC;AACtE,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,QAAQ,QAAQ,0CAA0C;AAAC;AAAA;AAUpE,OAAO,IAAMC,cAA4C,GAAG,SAA/CA,cAA4C,OAMnD;EAAA;EAAA,IALJC,KAAK,QAALA,KAAK;IACLC,QAAQ,QAARA,QAAQ;IACRC,IAAI,QAAJA,IAAI;IACJC,gBAAgB,QAAhBA,gBAAgB;IAChBC,iBAAiB,QAAjBA,iBAAiB;EAEjB,gBAA2Cb,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAnDc,eAAe;IAAEC,eAAe;EAEvC,sBAAcT,cAAc,EAAE;IAAtBU,CAAC,mBAADA,CAAC;EAETlB,SAAS,CAAC,YAAM;IACde,iBAAiB,CAAC,CAAC,CAACJ,KAAK,IAAIK,eAAe,CAAC;EAC/C,CAAC,EAAE,CAACL,KAAK,EAAEK,eAAe,EAAED,iBAAiB,CAAC,CAAC;;EAE/C;EACA,IAAMI,GAAG,GAAGlB,MAAM,CAAM,IAAI,CAAC;EAE7B,oBACE;IAAA,uBACE,QAAC,QAAQ,kCACF,CAAC,CAAC,CAACY,IAAI,IAAIG,eAAe,KAAK;MAAEI,OAAO,EAAE,CAAC,OAAO,CAAC;MAAEC,eAAe,EAAEN;IAAkB,CAAC;MAC9F,gBAAgB,EAAC,iBAAiB;MAClC,OAAO,eAAE,QAAC,aAAa;QAAC,IAAI,EAAEF,IAAK;QAAC,eAAe,EAAEG;MAAgB;QAAA;QAAA;QAAA;MAAA,SAAI;MACzE,OAAO,EAAEF,gBAAiB;MAC1B,iBAAiB,EAAE;QAAA,OAAMK,GAAG,CAACG,OAAO;MAAA,CAAC;MAAA,uBAErC,QAAC,mBAAmB;QAAA,wBAClB,QAAC,WAAW;UACV,KAAK,EAAC,MAAM;UACZ,KAAK,EAAEX,KAAM;UACb,WAAW,EAAEO,CAAC,CAAC,eAAe,CAAE;UAChC,MAAM,eACJ,QAAC,GAAG;YACF,IAAI,EAAC,OAAO;YACZ,IAAI,EAAEF,eAAe,GAAG,OAAO,GAAG,MAAO;YACzC,cAAW,QAAQ;YACnB,IAAI,eAAE,QAAC,UAAU;cAAA;cAAA;cAAA;YAAA,SAAI;YACrB,OAAO,EAAE;cAAA,OAAMC,eAAe,CAAC,CAACD,eAAe,CAAC;YAAA;UAAC;YAAA;YAAA;YAAA;UAAA,SAEpD;UACD,QAAQ,EAAE,kBAACO,KAAK;YAAA,OAAKX,QAAQ,CAACW,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;UAAA,CAAC;UAClD,WAAW,EAAE,IAAK;UAClB,UAAU,EAAE;QAAK;UAAA;UAAA;UAAA;QAAA,SACjB,eACF;UAAK,GAAG,EAAEN;QAAI;UAAA;UAAA;UAAA;QAAA,SAAG;MAAA;QAAA;QAAA;QAAA;MAAA;IACG;MAAA;MAAA;MAAA;IAAA;EACb,iBACV;AAEP,CAAC;AAAC,GAlDWT,cAA4C;EAAA,QASzCF,cAAc;AAAA;AAAA,KATjBE,cAA4C;AAAA;AAAA"},"metadata":{},"sourceType":"module"}