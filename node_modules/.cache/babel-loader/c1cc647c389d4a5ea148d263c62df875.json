{"ast":null,"code":"import _asyncToGenerator from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";import{Dates}from'@app/constants/Dates';import{useCallback,useEffect,useMemo}from'react';import{useTranslation}from'react-i18next';var localLanguage=localStorage.getItem('lng')||'en';export var useLanguage=function useLanguage(){var _useTranslation=useTranslation(),i18n=_useTranslation.i18n;var handleChangeLanguage=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(locale){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Dates.setLocale(locale);localStorage.setItem('lng',locale);_context.next=4;return i18n.changeLanguage(locale);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),[i18n]);useEffect(function(){localLanguage&&handleChangeLanguage(localLanguage);},[handleChangeLanguage]);return useMemo(function(){return{language:i18n.language,setLanguage:handleChangeLanguage};},[handleChangeLanguage,i18n.language]);};","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/hooks/useLanguage.ts"],"names":["Dates","useCallback","useEffect","useMemo","useTranslation","localLanguage","localStorage","getItem","useLanguage","i18n","handleChangeLanguage","locale","setLocale","setItem","changeLanguage","language","setLanguage"],"mappings":"mVAAA,OAASA,KAAT,KAAsB,sBAAtB,CAEA,OAASC,WAAT,CAAsBC,SAAtB,CAAiCC,OAAjC,KAAgD,OAAhD,CACA,OAASC,cAAT,KAA+B,eAA/B,CAEA,GAAMC,CAAAA,aAAa,CAAIC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAD,EAAiD,IAAvE,CAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAwF,CACjH,oBAAiBJ,cAAc,EAA/B,CAAQK,IAAR,iBAAQA,IAAR,CAEA,GAAMC,CAAAA,oBAAoB,CAAGT,WAAW,0FACtC,iBAAOU,MAAP,kHACEX,KAAK,CAACY,SAAN,CAAgBD,MAAhB,EACAL,YAAY,CAACO,OAAb,CAAqB,KAArB,CAA4BF,MAA5B,EAFF,sBAGQF,CAAAA,IAAI,CAACK,cAAL,CAAoBH,MAApB,CAHR,uDADsC,+DAMtC,CAACF,IAAD,CANsC,CAAxC,CASAP,SAAS,CAAC,UAAM,CACdG,aAAa,EAAIK,oBAAoB,CAACL,aAAD,CAArC,CACD,CAFQ,CAEN,CAACK,oBAAD,CAFM,CAAT,CAIA,MAAOP,CAAAA,OAAO,CACZ,iBAAO,CAAEY,QAAQ,CAAEN,IAAI,CAACM,QAAjB,CAA2CC,WAAW,CAAEN,oBAAxD,CAAP,EADY,CAEZ,CAACA,oBAAD,CAAuBD,IAAI,CAACM,QAA5B,CAFY,CAAd,CAID,CApBM","sourcesContent":["import { Dates } from '@app/constants/Dates';\nimport { LanguageType } from '@app/interfaces/interfaces';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst localLanguage = (localStorage.getItem('lng') as LanguageType) || 'en';\n\nexport const useLanguage = (): { language: LanguageType; setLanguage: (locale: LanguageType) => Promise<void> } => {\n  const { i18n } = useTranslation();\n\n  const handleChangeLanguage = useCallback(\n    async (locale: LanguageType) => {\n      Dates.setLocale(locale);\n      localStorage.setItem('lng', locale);\n      await i18n.changeLanguage(locale);\n    },\n    [i18n],\n  );\n\n  useEffect(() => {\n    localLanguage && handleChangeLanguage(localLanguage);\n  }, [handleChangeLanguage]);\n\n  return useMemo(\n    () => ({ language: i18n.language as LanguageType, setLanguage: handleChangeLanguage }),\n    [handleChangeLanguage, i18n.language],\n  );\n};\n"]},"metadata":{},"sourceType":"module"}