{"ast":null,"code":"import _defineProperty from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/workspace/ant-design-react-template/src/components/apps/newsFeed/NewsFilter/NewsFilter.tsx\",\n  _this = this,\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Tag } from '@app/components/common/Tag/Tag';\nimport { AuthorValidator, TitleValidator, DatesValidator, TagsValidator } from '../Validator';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport { newsTags as defaultTags } from '@app/constants/newsTags';\nimport { Dates } from '@app/constants/Dates';\nimport * as S from './NewsFilter.styles';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar Filter = function Filter(_ref) {\n  _s();\n  var author = _ref.author,\n    title = _ref.title,\n    newsTagData = _ref.newsTagData,\n    onTagClick = _ref.onTagClick,\n    selectedTagsIds = _ref.selectedTagsIds,\n    selectedTags = _ref.selectedTags,\n    dates = _ref.dates,\n    onApply = _ref.onApply,\n    onReset = _ref.onReset,\n    updateFilteredField = _ref.updateFilteredField;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useResponsive = useResponsive(),\n    mobileOnly = _useResponsive.mobileOnly;\n  var applyFilter = function applyFilter() {\n    onApply();\n  };\n  var resetFilter = function resetFilter() {\n    onReset();\n  };\n  return /*#__PURE__*/_jsxDEV(S.FilterWrapper, {\n    children: [!mobileOnly && /*#__PURE__*/_jsxDEV(S.FilterTitle, {\n      children: t('newsFeed.filter')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 23\n    }, _this), /*#__PURE__*/_jsxDEV(S.InputWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(S.SearchIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(S.Input, {\n        placeholder: t('newsFeed.authorSearch'),\n        value: author,\n        onChange: function onChange(event) {\n          return updateFilteredField('author', event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(S.InputWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(S.SearchIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(S.Input, {\n        placeholder: t('newsFeed.titleSearch'),\n        value: title,\n        onChange: function onChange(event) {\n          return updateFilteredField('title', event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Dropdown, {\n      placement: \"bottomCenter\",\n      trigger: ['click'],\n      overlay: /*#__PURE__*/_jsxDEV(S.TagPopover, {\n        children: [newsTagData.map(function (tag) {\n          return /*#__PURE__*/_jsxDEV(S.TagPopoverLine, {\n            onClick: function onClick(e) {\n              onTagClick(tag);\n              e.stopPropagation();\n            },\n            children: [/*#__PURE__*/_jsxDEV(S.PopoverCheckbox, {\n              checked: selectedTagsIds.includes(tag.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(Tag, {\n              title: tag.title,\n              bgColor: tag.bgColor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, _this)]\n          }, tag.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, _this);\n        }), /*#__PURE__*/_jsxDEV(S.ClosePopoverWrapper, {\n          children: /*#__PURE__*/_jsxDEV(S.ClosePopover, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, _this),\n      children: /*#__PURE__*/_jsxDEV(S.AddTagWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(S.PlusIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(S.AddTagText, {\n          children: t('newsFeed.tag')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, _this), !!selectedTags.length && /*#__PURE__*/_jsxDEV(S.TagsWrapper, {\n      children: selectedTags.map(function (tag) {\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          title: tag.title,\n          bgColor: tag.bgColor,\n          removeTag: function removeTag() {\n            return onTagClick(tag);\n          }\n        }, tag.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(S.DateLabels, {\n      children: [/*#__PURE__*/_jsxDEV(S.DateLabel, {\n        children: t('newsFeed.from')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(S.DateLabel, {\n        children: t('newsFeed.to')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(S.RangePicker, {\n      dropdownClassName: \"range-picker\",\n      value: dates,\n      onChange: function onChange(dates) {\n        return updateFilteredField('dates', [dates !== null && dates !== void 0 && dates.length ? dates[0] : null, dates !== null && dates !== void 0 && dates.length ? dates[1] : null]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(S.BtnWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(S.Btn, {\n        onClick: function onClick() {\n          return resetFilter();\n        },\n        children: t('newsFeed.reset')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(S.Btn, {\n        onClick: function onClick() {\n          return applyFilter();\n        },\n        type: \"primary\",\n        children: t('newsFeed.apply')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, _this);\n};\n_s(Filter, \"UcyvVDUGV+5gWYNQY+uUK18V3vQ=\", false, function () {\n  return [useTranslation, useResponsive];\n});\n_c = Filter;\nexport var NewsFilter = function NewsFilter(_ref2) {\n  _s2();\n  var news = _ref2.news,\n    newsTags = _ref2.newsTags,\n    children = _ref2.children;\n  var _useState = useState({\n      author: '',\n      title: '',\n      selectedTags: [],\n      dates: [null, null]\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    filterFields = _useState2[0],\n    setFilterFields = _useState2[1];\n  var author = filterFields.author,\n    title = filterFields.title,\n    selectedTags = filterFields.selectedTags,\n    dates = filterFields.dates;\n  var _useState3 = useState(news),\n    _useState4 = _slicedToArray(_useState3, 2),\n    filteredNews = _useState4[0],\n    setFilteredNews = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    overlayVisible = _useState6[0],\n    setOverlayVisible = _useState6[1];\n  var _useResponsive2 = useResponsive(),\n    mobileOnly = _useResponsive2.mobileOnly;\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var newsTagData = Object.values(newsTags || defaultTags);\n  var selectedTagsIds = useMemo(function () {\n    return selectedTags.map(function (item) {\n      return item.id;\n    });\n  }, [selectedTags]);\n  var onTagClick = useCallback(function (tag) {\n    var isExist = selectedTagsIds.includes(tag.id);\n    if (isExist) {\n      setFilterFields(_objectSpread(_objectSpread({}, filterFields), {}, {\n        selectedTags: selectedTags.filter(function (item) {\n          return item.id !== tag.id;\n        })\n      }));\n    } else {\n      setFilterFields(_objectSpread(_objectSpread({}, filterFields), {}, {\n        selectedTags: [].concat(_toConsumableArray(selectedTags), [tag])\n      }));\n    }\n  }, [selectedTags, selectedTagsIds, filterFields]);\n  var filterNews = useCallback(function () {\n    var isReset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var updatedNews = _toConsumableArray(news);\n    if ((author || title || dates[0] || selectedTags.length) && !isReset) {\n      updatedNews = news.filter(function (post) {\n        var postAuthor = post.author.toLowerCase();\n        var enteredAuthor = author.toLowerCase();\n        var postTitle = post.title.toLowerCase();\n        var enteredTitle = title.toLowerCase();\n        var postTags = post.tags;\n        var postDate = Dates.getDate(post.date);\n        var fieldsValidators = [new AuthorValidator(postAuthor, enteredAuthor), new TitleValidator(postTitle, enteredTitle), new DatesValidator(postDate, dates), new TagsValidator(postTags, selectedTags)];\n        return fieldsValidators.map(function (validator) {\n          return validator.validate();\n        }).every(function (i) {\n          return i;\n        });\n      });\n    }\n    setFilteredNews(updatedNews.sort(function (a, b) {\n      return b.date - a.date;\n    }));\n  }, [news, author, title, dates, selectedTags]);\n  useEffect(function () {\n    setFilteredNews(news);\n    filterNews(false);\n    // TODO AT-183\n    // eslint-disable-next-line\n  }, [news]);\n  var handleClickApply = useCallback(function () {\n    filterNews(false);\n    if (mobileOnly) {\n      setOverlayVisible(false);\n    }\n  }, [mobileOnly, filterNews]);\n  var handleClickReset = useCallback(function () {\n    setFilterFields({\n      author: '',\n      title: '',\n      dates: [null, null],\n      selectedTags: []\n    });\n    filterNews(true);\n    if (mobileOnly) {\n      setOverlayVisible(false);\n    }\n  }, [filterNews, setFilterFields, mobileOnly]);\n  var updateFilteredField = function updateFilteredField(field, value) {\n    setFilterFields(_objectSpread(_objectSpread({}, filterFields), {}, _defineProperty({}, field, value)));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(S.TitleWrapper, {\n      children: mobileOnly && /*#__PURE__*/_jsxDEV(Dropdown, {\n        placement: \"bottomLeft\",\n        trigger: ['click'],\n        visible: overlayVisible,\n        onVisibleChange: function onVisibleChange(visible) {\n          return setOverlayVisible(visible);\n        },\n        overlay: /*#__PURE__*/_jsxDEV(Filter, {\n          author: author,\n          title: title,\n          newsTagData: newsTagData,\n          onTagClick: onTagClick,\n          selectedTagsIds: selectedTagsIds,\n          selectedTags: selectedTags,\n          dates: dates,\n          onApply: handleClickApply,\n          onReset: handleClickReset,\n          updateFilteredField: updateFilteredField\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 15\n        }, _this),\n        children: /*#__PURE__*/_jsxDEV(S.FilterButton, {\n          children: t('newsFeed.filter')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(S.ContentWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(S.NewsWrapper, {\n        children: children({\n          filteredNews: filteredNews || news\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, _this), !mobileOnly && /*#__PURE__*/_jsxDEV(Filter, {\n        author: author,\n        title: title,\n        newsTagData: newsTagData,\n        onTagClick: onTagClick,\n        selectedTagsIds: selectedTagsIds,\n        selectedTags: selectedTags,\n        dates: dates,\n        onApply: handleClickApply,\n        onReset: handleClickReset,\n        updateFilteredField: updateFilteredField\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n_s2(NewsFilter, \"MJnkGXRht/tcWEEfATlFax6FoNU=\", false, function () {\n  return [useResponsive, useTranslation];\n});\n_c2 = NewsFilter;\nvar _c, _c2;\n$RefreshReg$(_c, \"Filter\");\n$RefreshReg$(_c2, \"NewsFilter\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useTranslation","Tag","AuthorValidator","TitleValidator","DatesValidator","TagsValidator","useResponsive","newsTags","defaultTags","Dates","S","Dropdown","Filter","author","title","newsTagData","onTagClick","selectedTagsIds","selectedTags","dates","onApply","onReset","updateFilteredField","t","mobileOnly","applyFilter","resetFilter","event","target","value","map","tag","e","stopPropagation","includes","id","bgColor","length","NewsFilter","news","children","filterFields","setFilterFields","filteredNews","setFilteredNews","overlayVisible","setOverlayVisible","Object","values","item","isExist","filter","filterNews","isReset","updatedNews","post","postAuthor","toLowerCase","enteredAuthor","postTitle","enteredTitle","postTags","tags","postDate","getDate","date","fieldsValidators","validator","validate","every","i","sort","a","b","handleClickApply","handleClickReset","field","visible"],"sources":["/workspace/ant-design-react-template/src/components/apps/newsFeed/NewsFilter/NewsFilter.tsx"],"sourcesContent":["import React, { ReactNode, useState, useEffect, useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { RangeValue } from 'rc-picker/lib/interface.d';\nimport { Tag, ITag } from '@app/components/common/Tag/Tag';\nimport { AuthorValidator, TitleValidator, DatesValidator, TagsValidator } from '../Validator';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport { newsTags as defaultTags } from '@app/constants/newsTags';\nimport { AppDate, Dates } from '@app/constants/Dates';\nimport { Post } from '@app/api/news.api';\nimport * as S from './NewsFilter.styles';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\n\ninterface NewsFilterProps {\n  news: Post[];\n  newsTags?: ITag[];\n  children: ({ filteredNews }: { filteredNews: Post[] }) => ReactNode;\n}\n\ninterface Filter {\n  author: string;\n  title: string;\n  newsTagData: ITag[];\n  onTagClick: (tag: ITag) => void;\n  selectedTagsIds: Array<string>;\n  selectedTags: ITag[];\n  dates: [AppDate | null, AppDate | null];\n  updateFilteredField: (field: string, value: [AppDate | null, AppDate | null] | string) => void;\n  onApply: () => void;\n  onReset: () => void;\n}\n\nconst Filter: React.FC<Filter> = ({\n  author,\n  title,\n  newsTagData,\n  onTagClick,\n  selectedTagsIds,\n  selectedTags,\n  dates,\n  onApply,\n  onReset,\n  updateFilteredField,\n}) => {\n  const { t } = useTranslation();\n  const { mobileOnly } = useResponsive();\n\n  const applyFilter = () => {\n    onApply();\n  };\n\n  const resetFilter = () => {\n    onReset();\n  };\n\n  return (\n    <S.FilterWrapper>\n      {!mobileOnly && <S.FilterTitle>{t('newsFeed.filter')}</S.FilterTitle>}\n\n      <S.InputWrapper>\n        <S.SearchIcon />\n        <S.Input\n          placeholder={t('newsFeed.authorSearch')}\n          value={author}\n          onChange={(event) => updateFilteredField('author', event.target.value)}\n        />\n      </S.InputWrapper>\n\n      <S.InputWrapper>\n        <S.SearchIcon />\n        <S.Input\n          placeholder={t('newsFeed.titleSearch')}\n          value={title}\n          onChange={(event) => updateFilteredField('title', event.target.value)}\n        />\n      </S.InputWrapper>\n\n      <Dropdown\n        placement=\"bottomCenter\"\n        trigger={['click']}\n        overlay={\n          <S.TagPopover>\n            {newsTagData.map((tag: ITag) => (\n              <S.TagPopoverLine\n                key={tag.id}\n                onClick={(e) => {\n                  onTagClick(tag);\n                  e.stopPropagation();\n                }}\n              >\n                <S.PopoverCheckbox checked={selectedTagsIds.includes(tag.id)} />\n                <Tag title={tag.title} bgColor={tag.bgColor} />\n              </S.TagPopoverLine>\n            ))}\n            <S.ClosePopoverWrapper>\n              <S.ClosePopover />\n            </S.ClosePopoverWrapper>\n          </S.TagPopover>\n        }\n      >\n        <S.AddTagWrapper>\n          <S.PlusIcon />\n          <S.AddTagText>{t('newsFeed.tag')}</S.AddTagText>\n        </S.AddTagWrapper>\n      </Dropdown>\n\n      {!!selectedTags.length && (\n        <S.TagsWrapper>\n          {selectedTags.map((tag) => (\n            <Tag key={tag.id} title={tag.title} bgColor={tag.bgColor} removeTag={() => onTagClick(tag)} />\n          ))}\n        </S.TagsWrapper>\n      )}\n\n      <S.DateLabels>\n        <S.DateLabel>{t('newsFeed.from')}</S.DateLabel>\n        <S.DateLabel>{t('newsFeed.to')}</S.DateLabel>\n      </S.DateLabels>\n\n      <S.RangePicker\n        dropdownClassName=\"range-picker\"\n        value={dates}\n        onChange={(dates: RangeValue<AppDate>) =>\n          updateFilteredField('dates', [dates?.length ? dates[0] : null, dates?.length ? dates[1] : null])\n        }\n      />\n\n      <S.BtnWrapper>\n        <S.Btn onClick={() => resetFilter()}>{t('newsFeed.reset')}</S.Btn>\n        <S.Btn onClick={() => applyFilter()} type=\"primary\">\n          {t('newsFeed.apply')}\n        </S.Btn>\n      </S.BtnWrapper>\n    </S.FilterWrapper>\n  );\n};\n\nexport const NewsFilter: React.FC<NewsFilterProps> = ({ news, newsTags, children }) => {\n  const [filterFields, setFilterFields] = useState<{\n    author: string;\n    title: string;\n    selectedTags: ITag[];\n    dates: [AppDate | null, AppDate | null];\n  }>({\n    author: '',\n    title: '',\n    selectedTags: [],\n    dates: [null, null],\n  });\n  const { author, title, selectedTags, dates } = filterFields;\n  const [filteredNews, setFilteredNews] = useState<Post[]>(news);\n  const [overlayVisible, setOverlayVisible] = useState<boolean>(false);\n  const { mobileOnly } = useResponsive();\n  const { t } = useTranslation();\n\n  const newsTagData = Object.values(newsTags || defaultTags);\n  const selectedTagsIds = useMemo(() => selectedTags.map((item) => item.id), [selectedTags]);\n\n  const onTagClick = useCallback(\n    (tag: ITag) => {\n      const isExist = selectedTagsIds.includes(tag.id);\n\n      if (isExist) {\n        setFilterFields({\n          ...filterFields,\n          selectedTags: selectedTags.filter((item) => item.id !== tag.id),\n        });\n      } else {\n        setFilterFields({\n          ...filterFields,\n          selectedTags: [...selectedTags, tag],\n        });\n      }\n    },\n    [selectedTags, selectedTagsIds, filterFields],\n  );\n\n  const filterNews = useCallback(\n    (isReset = false) => {\n      let updatedNews = [...news];\n      if ((author || title || dates[0] || selectedTags.length) && !isReset) {\n        updatedNews = news.filter((post) => {\n          const postAuthor = post.author.toLowerCase();\n          const enteredAuthor = author.toLowerCase();\n          const postTitle = post.title.toLowerCase();\n          const enteredTitle = title.toLowerCase();\n          const postTags = post.tags;\n          const postDate = Dates.getDate(post.date);\n\n          const fieldsValidators = [\n            new AuthorValidator(postAuthor, enteredAuthor),\n            new TitleValidator(postTitle, enteredTitle),\n            new DatesValidator(postDate, dates),\n            new TagsValidator(postTags, selectedTags),\n          ];\n\n          return fieldsValidators.map((validator) => validator.validate()).every((i) => i);\n        });\n      }\n      setFilteredNews(\n        updatedNews.sort((a, b) => {\n          return b.date - a.date;\n        }),\n      );\n    },\n    [news, author, title, dates, selectedTags],\n  );\n\n  useEffect(() => {\n    setFilteredNews(news);\n    filterNews(false);\n    // TODO AT-183\n    // eslint-disable-next-line\n  }, [news]);\n\n  const handleClickApply = useCallback(() => {\n    filterNews(false);\n\n    if (mobileOnly) {\n      setOverlayVisible(false);\n    }\n  }, [mobileOnly, filterNews]);\n\n  const handleClickReset = useCallback(() => {\n    setFilterFields({ author: '', title: '', dates: [null, null], selectedTags: [] });\n    filterNews(true);\n\n    if (mobileOnly) {\n      setOverlayVisible(false);\n    }\n  }, [filterNews, setFilterFields, mobileOnly]);\n\n  const updateFilteredField = (field: string, value: string | [AppDate | null, AppDate | null]) => {\n    setFilterFields({ ...filterFields, [field]: value });\n  };\n\n  return (\n    <>\n      <S.TitleWrapper>\n        {mobileOnly && (\n          <Dropdown\n            placement=\"bottomLeft\"\n            trigger={['click']}\n            visible={overlayVisible}\n            onVisibleChange={(visible) => setOverlayVisible(visible)}\n            overlay={\n              <Filter\n                author={author}\n                title={title}\n                newsTagData={newsTagData}\n                onTagClick={onTagClick}\n                selectedTagsIds={selectedTagsIds}\n                selectedTags={selectedTags}\n                dates={dates}\n                onApply={handleClickApply}\n                onReset={handleClickReset}\n                updateFilteredField={updateFilteredField}\n              />\n            }\n          >\n            <S.FilterButton>{t('newsFeed.filter')}</S.FilterButton>\n          </Dropdown>\n        )}\n      </S.TitleWrapper>\n\n      <S.ContentWrapper>\n        <S.NewsWrapper>{children({ filteredNews: filteredNews || news })}</S.NewsWrapper>\n\n        {!mobileOnly && (\n          <Filter\n            author={author}\n            title={title}\n            newsTagData={newsTagData}\n            onTagClick={onTagClick}\n            selectedTagsIds={selectedTagsIds}\n            selectedTags={selectedTags}\n            dates={dates}\n            onApply={handleClickApply}\n            onReset={handleClickReset}\n            updateFilteredField={updateFilteredField}\n          />\n        )}\n      </S.ContentWrapper>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}