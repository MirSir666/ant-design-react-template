{"ast":null,"code":"import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useMemo,useState}from'react';import{useTranslation}from'react-i18next';import{Col,Row}from'antd';import{categoriesList}from'constants/categoriesList';import*as S from'./SearchFilter.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SearchFilter=function SearchFilter(_ref){var data=_ref.data,isVisible=_ref.isVisible,children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedFilter=_useState2[0],setSelectedFilter=_useState2[1];var _useState3=useState(data),_useState4=_slicedToArray(_useState3,2),filteredResults=_useState4[0],setFilteredResults=_useState4[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var filterElements=useMemo(function(){return categoriesList.map(function(filter,index){return/*#__PURE__*/_jsx(Col,{xs:12,sm:8,md:12,xl:8,children:/*#__PURE__*/_jsx(S.CheckBox,{value:filter.name,children:t(filter.title)},index)},index);});},[t]);useEffect(function(){if(data){if(selectedFilter.length>0){setFilteredResults(data.filter(function(component){return selectedFilter.some(function(filter){return filter===component.category;});}));}else{setFilteredResults(data);}}else{setFilteredResults(null);}},[data,selectedFilter]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(S.FilterWrapper,{isVisible:isVisible,children:/*#__PURE__*/_jsx(S.CheckboxGroup,{onChange:function onChange(checkedValues){return setSelectedFilter(checkedValues);},children:/*#__PURE__*/_jsx(Row,{children:filterElements})})}),filteredResults&&children(filteredResults)]});};","map":{"version":3,"names":["React","useEffect","useMemo","useState","useTranslation","Col","Row","categoriesList","S","SearchFilter","data","isVisible","children","selectedFilter","setSelectedFilter","filteredResults","setFilteredResults","t","filterElements","map","filter","index","name","title","length","component","some","category","checkedValues"],"sources":["/workspace/ant-design-react-template/src/components/header/components/searchDropdown/searchOverlay/SearchFilter/SearchFilter.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Col, Row } from 'antd';\nimport { categoriesList, CategoryType } from 'constants/categoriesList';\nimport { CategoryComponents } from '@app/components/header/components/HeaderSearch/HeaderSearch';\nimport * as S from './SearchFilter.styles';\n\ninterface SearchFilterProps {\n  data: CategoryComponents[] | null;\n  isVisible: boolean;\n  children: (filteredResults: CategoryComponents[]) => React.ReactNode;\n}\n\nexport const SearchFilter: React.FC<SearchFilterProps> = ({ data, isVisible, children }) => {\n  const [selectedFilter, setSelectedFilter] = useState<CategoryType[]>([]);\n  const [filteredResults, setFilteredResults] = useState<CategoryComponents[] | null>(data);\n\n  const { t } = useTranslation();\n\n  const filterElements = useMemo(\n    () =>\n      categoriesList.map((filter, index) => (\n        <Col key={index} xs={12} sm={8} md={12} xl={8}>\n          <S.CheckBox key={index} value={filter.name}>\n            {t(filter.title)}\n          </S.CheckBox>\n        </Col>\n      )),\n    [t],\n  );\n\n  useEffect(() => {\n    if (data) {\n      if (selectedFilter.length > 0) {\n        setFilteredResults(data.filter((component) => selectedFilter.some((filter) => filter === component.category)));\n      } else {\n        setFilteredResults(data);\n      }\n    } else {\n      setFilteredResults(null);\n    }\n  }, [data, selectedFilter]);\n\n  return (\n    <>\n      <S.FilterWrapper isVisible={isVisible}>\n        <S.CheckboxGroup onChange={(checkedValues) => setSelectedFilter(checkedValues as CategoryType[])}>\n          <Row>{filterElements}</Row>\n        </S.CheckboxGroup>\n      </S.FilterWrapper>\n\n      {filteredResults && children(filteredResults)}\n    </>\n  );\n};\n"],"mappings":"0HAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAC3D,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,GAAG,CAAEC,GAAG,KAAQ,MAAM,CAC/B,OAASC,cAAc,KAAsB,0BAA0B,CAEvE,MAAO,GAAKC,EAAC,KAAM,uBAAuB,CAAC,6IAQ3C,MAAO,IAAMC,aAAyC,CAAG,QAA5CA,aAAyC,MAAsC,IAAhCC,KAAI,MAAJA,IAAI,CAAEC,SAAS,MAATA,SAAS,CAAEC,QAAQ,MAARA,QAAQ,CACnF,cAA4CT,QAAQ,CAAiB,EAAE,CAAC,wCAAjEU,cAAc,eAAEC,iBAAiB,eACxC,eAA8CX,QAAQ,CAA8BO,IAAI,CAAC,yCAAlFK,eAAe,eAAEC,kBAAkB,eAE1C,oBAAcZ,cAAc,EAAE,CAAtBa,CAAC,iBAADA,CAAC,CAET,GAAMC,eAAc,CAAGhB,OAAO,CAC5B,iBACEK,eAAc,CAACY,GAAG,CAAC,SAACC,MAAM,CAAEC,KAAK,qBAC/B,KAAC,GAAG,EAAa,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,CAAE,uBAC5C,KAAC,CAAC,CAAC,QAAQ,EAAa,KAAK,CAAED,MAAM,CAACE,IAAK,UACxCL,CAAC,CAACG,MAAM,CAACG,KAAK,CAAC,EADDF,KAAK,CAET,EAHLA,KAAK,CAIT,EACP,CAAC,GACJ,CAACJ,CAAC,CAAC,CACJ,CAEDhB,SAAS,CAAC,UAAM,CACd,GAAIS,IAAI,CAAE,CACR,GAAIG,cAAc,CAACW,MAAM,CAAG,CAAC,CAAE,CAC7BR,kBAAkB,CAACN,IAAI,CAACU,MAAM,CAAC,SAACK,SAAS,QAAKZ,eAAc,CAACa,IAAI,CAAC,SAACN,MAAM,QAAKA,OAAM,GAAKK,SAAS,CAACE,QAAQ,GAAC,GAAC,CAAC,CAChH,CAAC,IAAM,CACLX,kBAAkB,CAACN,IAAI,CAAC,CAC1B,CACF,CAAC,IAAM,CACLM,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACF,CAAC,CAAE,CAACN,IAAI,CAAEG,cAAc,CAAC,CAAC,CAE1B,mBACE,wCACE,KAAC,CAAC,CAAC,aAAa,EAAC,SAAS,CAAEF,SAAU,uBACpC,KAAC,CAAC,CAAC,aAAa,EAAC,QAAQ,CAAE,kBAACiB,aAAa,QAAKd,kBAAiB,CAACc,aAAa,CAAmB,EAAC,uBAC/F,KAAC,GAAG,WAAEV,cAAc,EAAO,EACX,EACF,CAEjBH,eAAe,EAAIH,QAAQ,CAACG,eAAe,CAAC,GAC5C,CAEP,CAAC"},"metadata":{},"sourceType":"module"}