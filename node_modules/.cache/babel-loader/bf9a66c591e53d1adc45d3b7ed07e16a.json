{"ast":null,"code":"import{useEffect,useRef}from'react';export var useResetFormOnCloseModal=function useResetFormOnCloseModal(_ref){var form=_ref.form,visible=_ref.visible;var prevVisibleRef=useRef();useEffect(function(){prevVisibleRef.current=visible;},[visible]);var prevVisible=prevVisibleRef.current;useEffect(function(){if(!visible&&prevVisible){form.resetFields();}},[visible,form,prevVisible]);};","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/components/forms/ControlForm/useResetFormOnCloseModal.ts"],"names":["useEffect","useRef","useResetFormOnCloseModal","form","visible","prevVisibleRef","current","prevVisible","resetFields"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,MAApB,KAAkC,OAAlC,CAGA,MAAO,IAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,MAAuE,IAApEC,CAAAA,IAAoE,MAApEA,IAAoE,CAA9DC,OAA8D,MAA9DA,OAA8D,CAC7G,GAAMC,CAAAA,cAAc,CAAGJ,MAAM,EAA7B,CACAD,SAAS,CAAC,UAAM,CACdK,cAAc,CAACC,OAAf,CAAyBF,OAAzB,CACD,CAFQ,CAEN,CAACA,OAAD,CAFM,CAAT,CAGA,GAAMG,CAAAA,WAAW,CAAGF,cAAc,CAACC,OAAnC,CAEAN,SAAS,CAAC,UAAM,CACd,GAAI,CAACI,OAAD,EAAYG,WAAhB,CAA6B,CAC3BJ,IAAI,CAACK,WAAL,GACD,CACF,CAJQ,CAIN,CAACJ,OAAD,CAAUD,IAAV,CAAgBI,WAAhB,CAJM,CAAT,CAKD,CAZM","sourcesContent":["import { useEffect, useRef } from 'react';\nimport { FormInstance } from 'antd';\n\nexport const useResetFormOnCloseModal = ({ form, visible }: { form: FormInstance; visible: boolean }): void => {\n  const prevVisibleRef = useRef<boolean>();\n  useEffect(() => {\n    prevVisibleRef.current = visible;\n  }, [visible]);\n  const prevVisible = prevVisibleRef.current;\n\n  useEffect(() => {\n    if (!visible && prevVisible) {\n      form.resetFields();\n    }\n  }, [visible, form, prevVisible]);\n};\n"]},"metadata":{},"sourceType":"module"}