{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useMemo,useState}from'react';import{ScreeningsFriend}from'../ScreeningsFriend/ScreeningsFriend';import{MobileScreenings}from'../MobileScreenings/MobileScreenings';import{DesktopScreenings}from'../DesktopScreenings/DesktopScreenings';import{useResponsive}from'@app/hooks/useResponsive';import*as S from'./ScreeningsFriends.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ScreeningsFriends=function ScreeningsFriends(_ref){var screenings=_ref.screenings,currentStatistics=_ref.currentStatistics,setCurrentStatistics=_ref.setCurrentStatistics,isFirstClick=_ref.isFirstClick,setFirstClick=_ref.setFirstClick;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isVisibleMenu=_useState2[0],setVisibleMenu=_useState2[1];var _useResponsive=useResponsive(),mobileOnly=_useResponsive.mobileOnly,isTablet=_useResponsive.isTablet;var handleClickItem=useCallback(function(mode){return function(){setCurrentStatistics(function(prev){if(isFirstClick&&prev.firstUser!==mode){setFirstClick(!isFirstClick);return _objectSpread(_objectSpread({},prev),{},{secondUser:mode});}else if(prev.secondUser!==mode){setFirstClick(!isFirstClick);return _objectSpread(_objectSpread({},prev),{},{firstUser:mode});}else{return _objectSpread({},prev);}});};},[isFirstClick,setFirstClick,setCurrentStatistics]);var screeningsItems=useMemo(function(){return screenings.map(function(screening,index){return/*#__PURE__*/_jsx(ScreeningsFriend,{name:screening.name,value:screening.value,prevValue:screening.prevValue,src:screening.imgUrl,isPrimary:index===currentStatistics.firstUser,isSecondary:index===currentStatistics.secondUser,onClick:handleClickItem(index),isVisibleMenu:isVisibleMenu},screening.name);});},[screenings,currentStatistics,isVisibleMenu,handleClickItem]);return/*#__PURE__*/_jsxs(S.Wrapper,{$isVisible:isVisibleMenu,children:[mobileOnly&&screeningsItems.length>0&&/*#__PURE__*/_jsx(MobileScreenings,{screeningsItems:screeningsItems}),isTablet&&/*#__PURE__*/_jsx(DesktopScreenings,{screeningsItems:screeningsItems,isVisibleMenu:isVisibleMenu,setVisibleMenu:setVisibleMenu})]});};","map":{"version":3,"names":["React","useCallback","useMemo","useState","ScreeningsFriend","MobileScreenings","DesktopScreenings","useResponsive","S","ScreeningsFriends","screenings","currentStatistics","setCurrentStatistics","isFirstClick","setFirstClick","isVisibleMenu","setVisibleMenu","mobileOnly","isTablet","handleClickItem","mode","prev","firstUser","secondUser","screeningsItems","map","screening","index","name","value","prevValue","imgUrl","length"],"sources":["/workspace/ant-design-react-template/src/components/medical-dashboard/screeningsCard/screeningsFriends/ScreeningsFriends/ScreeningsFriends.tsx"],"sourcesContent":["import React, { useCallback, useMemo, useState } from 'react';\nimport { ScreeningsFriend } from '../ScreeningsFriend/ScreeningsFriend';\nimport { CurrentStatisticsState, ScreeningWithDoctors } from '../../ScreeningsCard/ScreeningsCard';\nimport { MobileScreenings } from '../MobileScreenings/MobileScreenings';\nimport { DesktopScreenings } from '../DesktopScreenings/DesktopScreenings';\nimport { useResponsive } from '@app/hooks/useResponsive';\nimport * as S from './ScreeningsFriends.styles';\n\ninterface ScreeningsFriendsProps {\n  screenings: ScreeningWithDoctors[];\n  currentStatistics: CurrentStatisticsState;\n  setCurrentStatistics: (func: (state: CurrentStatisticsState) => CurrentStatisticsState) => void;\n  isFirstClick: boolean;\n  setFirstClick: (state: boolean) => void;\n}\n\nexport const ScreeningsFriends: React.FC<ScreeningsFriendsProps> = ({\n  screenings,\n  currentStatistics,\n  setCurrentStatistics,\n  isFirstClick,\n  setFirstClick,\n}) => {\n  const [isVisibleMenu, setVisibleMenu] = useState(true);\n\n  const { mobileOnly, isTablet } = useResponsive();\n\n  const handleClickItem = useCallback(\n    (mode: number) => () => {\n      setCurrentStatistics((prev) => {\n        if (isFirstClick && prev.firstUser !== mode) {\n          setFirstClick(!isFirstClick);\n\n          return {\n            ...prev,\n            secondUser: mode,\n          };\n        } else if (prev.secondUser !== mode) {\n          setFirstClick(!isFirstClick);\n\n          return {\n            ...prev,\n            firstUser: mode,\n          };\n        } else {\n          return {\n            ...prev,\n          };\n        }\n      });\n    },\n    [isFirstClick, setFirstClick, setCurrentStatistics],\n  );\n\n  const screeningsItems = useMemo(\n    () =>\n      screenings.map((screening, index) => (\n        <ScreeningsFriend\n          key={screening.name}\n          name={screening.name}\n          value={screening.value}\n          prevValue={screening.prevValue}\n          src={screening.imgUrl}\n          isPrimary={index === currentStatistics.firstUser}\n          isSecondary={index === currentStatistics.secondUser}\n          onClick={handleClickItem(index)}\n          isVisibleMenu={isVisibleMenu}\n        />\n      )),\n    [screenings, currentStatistics, isVisibleMenu, handleClickItem],\n  );\n\n  return (\n    <S.Wrapper $isVisible={isVisibleMenu}>\n      {mobileOnly && screeningsItems.length > 0 && <MobileScreenings screeningsItems={screeningsItems} />}\n\n      {isTablet && (\n        <DesktopScreenings\n          screeningsItems={screeningsItems}\n          isVisibleMenu={isVisibleMenu}\n          setVisibleMenu={setVisibleMenu}\n        />\n      )}\n    </S.Wrapper>\n  );\n};\n"],"mappings":"mPAAA,MAAOA,MAAK,EAAIC,WAAW,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAC7D,OAASC,gBAAgB,KAAQ,sCAAsC,CAEvE,OAASC,gBAAgB,KAAQ,sCAAsC,CACvE,OAASC,iBAAiB,KAAQ,wCAAwC,CAC1E,OAASC,aAAa,KAAQ,0BAA0B,CACxD,MAAO,GAAKC,EAAC,KAAM,4BAA4B,CAAC,wFAUhD,MAAO,IAAMC,kBAAmD,CAAG,QAAtDA,kBAAmD,MAM1D,IALJC,WAAU,MAAVA,UAAU,CACVC,iBAAiB,MAAjBA,iBAAiB,CACjBC,oBAAoB,MAApBA,oBAAoB,CACpBC,YAAY,MAAZA,YAAY,CACZC,aAAa,MAAbA,aAAa,CAEb,cAAwCX,QAAQ,CAAC,IAAI,CAAC,wCAA/CY,aAAa,eAAEC,cAAc,eAEpC,mBAAiCT,aAAa,EAAE,CAAxCU,UAAU,gBAAVA,UAAU,CAAEC,QAAQ,gBAARA,QAAQ,CAE5B,GAAMC,gBAAe,CAAGlB,WAAW,CACjC,SAACmB,IAAY,QAAK,WAAM,CACtBR,oBAAoB,CAAC,SAACS,IAAI,CAAK,CAC7B,GAAIR,YAAY,EAAIQ,IAAI,CAACC,SAAS,GAAKF,IAAI,CAAE,CAC3CN,aAAa,CAAC,CAACD,YAAY,CAAC,CAE5B,sCACKQ,IAAI,MACPE,UAAU,CAAEH,IAAI,GAEpB,CAAC,IAAM,IAAIC,IAAI,CAACE,UAAU,GAAKH,IAAI,CAAE,CACnCN,aAAa,CAAC,CAACD,YAAY,CAAC,CAE5B,sCACKQ,IAAI,MACPC,SAAS,CAAEF,IAAI,GAEnB,CAAC,IAAM,CACL,wBACKC,IAAI,EAEX,CACF,CAAC,CAAC,CACJ,CAAC,GACD,CAACR,YAAY,CAAEC,aAAa,CAAEF,oBAAoB,CAAC,CACpD,CAED,GAAMY,gBAAe,CAAGtB,OAAO,CAC7B,iBACEQ,WAAU,CAACe,GAAG,CAAC,SAACC,SAAS,CAAEC,KAAK,qBAC9B,KAAC,gBAAgB,EAEf,IAAI,CAAED,SAAS,CAACE,IAAK,CACrB,KAAK,CAAEF,SAAS,CAACG,KAAM,CACvB,SAAS,CAAEH,SAAS,CAACI,SAAU,CAC/B,GAAG,CAAEJ,SAAS,CAACK,MAAO,CACtB,SAAS,CAAEJ,KAAK,GAAKhB,iBAAiB,CAACW,SAAU,CACjD,WAAW,CAAEK,KAAK,GAAKhB,iBAAiB,CAACY,UAAW,CACpD,OAAO,CAAEJ,eAAe,CAACQ,KAAK,CAAE,CAChC,aAAa,CAAEZ,aAAc,EARxBW,SAAS,CAACE,IAAI,CASnB,EACH,CAAC,GACJ,CAAClB,UAAU,CAAEC,iBAAiB,CAAEI,aAAa,CAAEI,eAAe,CAAC,CAChE,CAED,mBACE,MAAC,CAAC,CAAC,OAAO,EAAC,UAAU,CAAEJ,aAAc,WAClCE,UAAU,EAAIO,eAAe,CAACQ,MAAM,CAAG,CAAC,eAAI,KAAC,gBAAgB,EAAC,eAAe,CAAER,eAAgB,EAAG,CAElGN,QAAQ,eACP,KAAC,iBAAiB,EAChB,eAAe,CAAEM,eAAgB,CACjC,aAAa,CAAET,aAAc,CAC7B,cAAc,CAAEC,cAAe,EAElC,GACS,CAEhB,CAAC"},"metadata":{},"sourceType":"module"}