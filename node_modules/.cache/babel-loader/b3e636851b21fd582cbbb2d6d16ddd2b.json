{"ast":null,"code":"import _objectSpread from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createClass from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/workspace/ant-design-react-template/src/components/medical-dashboard/mapCard/DoctorsMap/DoctorsMap.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React from 'react';\nimport L from 'leaflet';\nimport { Marker, Popup } from 'react-leaflet';\nimport { ReactComponent as MapBackgroundIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!assets/icons/map-background.svg\";\nimport * as S from './DoctorsMap.styles';\nimport { useResponsive } from 'hooks/useResponsive';\nimport { DoctorProfile } from 'components/common/DoctorProfile/DoctorProfile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar LARGE_MARKER_SIZE = [50, 50];\nvar MARKER_SIZE = [30, 30];\nvar defineIconSize = function defineIconSize(isDesktop) {\n  return isDesktop && LARGE_MARKER_SIZE || MARKER_SIZE;\n};\nvar MarkerDoctor = /*#__PURE__*/function (_L$Icon) {\n  _inherits(MarkerDoctor, _L$Icon);\n  var _super = _createSuper(MarkerDoctor);\n  function MarkerDoctor(props, isDesktop) {\n    _classCallCheck(this, MarkerDoctor);\n    var iconSIze = defineIconSize(isDesktop);\n    return _super.call(this, _objectSpread({\n      popupAnchor: iconSIze,\n      iconSize: iconSIze\n    }, props));\n  }\n  return _createClass(MarkerDoctor);\n}(L.Icon);\nexport var DoctorsMap = function DoctorsMap(_ref) {\n  _s();\n  var doctors = _ref.doctors;\n  var _useResponsive = useResponsive(),\n    isDesktop = _useResponsive.isDesktop;\n  var mapDoctors = doctors.filter(function (_ref2) {\n    var gps = _ref2.gps;\n    return gps;\n  });\n  return /*#__PURE__*/_jsxDEV(S.DoctorsMap, {\n    children: [/*#__PURE__*/_jsxDEV(MapBackgroundIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, _this), mapDoctors.map(function (marker) {\n      var _marker$gps, _marker$gps2;\n      return /*#__PURE__*/_jsxDEV(Marker, {\n        icon: new MarkerDoctor({\n          iconUrl: marker.imgUrl,\n          iconRetinaUrl: marker.imgUrl\n        }, isDesktop),\n        position: [((_marker$gps = marker.gps) === null || _marker$gps === void 0 ? void 0 : _marker$gps.latitude) || 0, ((_marker$gps2 = marker.gps) === null || _marker$gps2 === void 0 ? void 0 : _marker$gps2.longitude) || 0],\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(DoctorProfile, {\n            avatar: marker.imgUrl,\n            name: marker.name,\n            speciality: marker.specifity,\n            rating: marker.rating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, _this)\n      }, marker.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, _this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, _this);\n};\n_s(DoctorsMap, \"j+XpU9kj1aHp/PHUJYJ+jJKmxBw=\", false, function () {\n  return [useResponsive];\n});\n_c = DoctorsMap;\nvar _c;\n$RefreshReg$(_c, \"DoctorsMap\");","map":{"version":3,"names":["React","L","Marker","Popup","S","useResponsive","DoctorProfile","LARGE_MARKER_SIZE","MARKER_SIZE","defineIconSize","isDesktop","MarkerDoctor","props","iconSIze","popupAnchor","iconSize","Icon","DoctorsMap","doctors","mapDoctors","filter","gps","map","marker","iconUrl","imgUrl","iconRetinaUrl","latitude","longitude","name","specifity","rating","id"],"sources":["/workspace/ant-design-react-template/src/components/medical-dashboard/mapCard/DoctorsMap/DoctorsMap.tsx"],"sourcesContent":["import React from 'react';\nimport L, { IconOptions, PointExpression } from 'leaflet';\nimport { Marker, Popup } from 'react-leaflet';\n\nimport { ReactComponent as MapBackgroundIcon } from 'assets/icons/map-background.svg';\n\nimport * as S from './DoctorsMap.styles';\nimport { useResponsive } from 'hooks/useResponsive';\n\nimport { Doctor } from 'api/doctors.api';\nimport { DoctorProfile } from 'components/common/DoctorProfile/DoctorProfile';\n\nconst LARGE_MARKER_SIZE: PointExpression = [50, 50];\nconst MARKER_SIZE: PointExpression = [30, 30];\n\nconst defineIconSize = (isDesktop: boolean): PointExpression => {\n  return (isDesktop && LARGE_MARKER_SIZE) || MARKER_SIZE;\n};\n\nclass MarkerDoctor extends L.Icon {\n  constructor(props: IconOptions, isDesktop: boolean) {\n    const iconSIze = defineIconSize(isDesktop);\n    super({\n      popupAnchor: iconSIze,\n      iconSize: iconSIze,\n      ...props,\n    });\n  }\n}\n\ninterface DoctorsMapProps {\n  doctors: Doctor[];\n}\n\nexport const DoctorsMap: React.FC<DoctorsMapProps> = ({ doctors }) => {\n  const { isDesktop } = useResponsive();\n\n  const mapDoctors = doctors.filter(({ gps }) => gps);\n\n  return (\n    <S.DoctorsMap>\n      <MapBackgroundIcon />\n      {mapDoctors.map((marker) => (\n        <Marker\n          key={marker.id}\n          icon={\n            new MarkerDoctor(\n              {\n                iconUrl: marker.imgUrl,\n                iconRetinaUrl: marker.imgUrl,\n              },\n              isDesktop,\n            )\n          }\n          position={[marker.gps?.latitude || 0, marker.gps?.longitude || 0]}\n        >\n          <Popup>\n            <DoctorProfile\n              avatar={marker.imgUrl}\n              name={marker.name}\n              speciality={marker.specifity}\n              rating={marker.rating}\n            />\n          </Popup>\n        </Marker>\n      ))}\n    </S.DoctorsMap>\n  );\n};\n"],"mappings":";;;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,CAAC,MAAwC,SAAS;AACzD,SAASC,MAAM,EAAEC,KAAK,QAAQ,eAAe;AAAC;AAI9C,OAAO,KAAKC,CAAC,MAAM,qBAAqB;AACxC,SAASC,aAAa,QAAQ,qBAAqB;AAGnD,SAASC,aAAa,QAAQ,+CAA+C;AAAC;AAE9E,IAAMC,iBAAkC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC;AACnD,IAAMC,WAA4B,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC;AAE7C,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,SAAkB,EAAsB;EAC9D,OAAQA,SAAS,IAAIH,iBAAiB,IAAKC,WAAW;AACxD,CAAC;AAAC,IAEIG,YAAY;EAAA;EAAA;EAChB,sBAAYC,KAAkB,EAAEF,SAAkB,EAAE;IAAA;IAClD,IAAMG,QAAQ,GAAGJ,cAAc,CAACC,SAAS,CAAC;IAAC;MAEzCI,WAAW,EAAED,QAAQ;MACrBE,QAAQ,EAAEF;IAAQ,GACfD,KAAK;EAEZ;EAAC;AAAA,EARwBX,CAAC,CAACe,IAAI;AAejC,OAAO,IAAMC,UAAqC,GAAG,SAAxCA,UAAqC,OAAoB;EAAA;EAAA,IAAdC,OAAO,QAAPA,OAAO;EAC7D,qBAAsBb,aAAa,EAAE;IAA7BK,SAAS,kBAATA,SAAS;EAEjB,IAAMS,UAAU,GAAGD,OAAO,CAACE,MAAM,CAAC;IAAA,IAAGC,GAAG,SAAHA,GAAG;IAAA,OAAOA,GAAG;EAAA,EAAC;EAEnD,oBACE,QAAC,CAAC,CAAC,UAAU;IAAA,wBACX,QAAC,iBAAiB;MAAA;MAAA;MAAA;IAAA,SAAG,EACpBF,UAAU,CAACG,GAAG,CAAC,UAACC,MAAM;MAAA;MAAA,oBACrB,QAAC,MAAM;QAEL,IAAI,EACF,IAAIZ,YAAY,CACd;UACEa,OAAO,EAAED,MAAM,CAACE,MAAM;UACtBC,aAAa,EAAEH,MAAM,CAACE;QACxB,CAAC,EACDf,SAAS,CAEZ;QACD,QAAQ,EAAE,CAAC,gBAAAa,MAAM,CAACF,GAAG,gDAAV,YAAYM,QAAQ,KAAI,CAAC,EAAE,iBAAAJ,MAAM,CAACF,GAAG,iDAAV,aAAYO,SAAS,KAAI,CAAC,CAAE;QAAA,uBAElE,QAAC,KAAK;UAAA,uBACJ,QAAC,aAAa;YACZ,MAAM,EAAEL,MAAM,CAACE,MAAO;YACtB,IAAI,EAAEF,MAAM,CAACM,IAAK;YAClB,UAAU,EAAEN,MAAM,CAACO,SAAU;YAC7B,MAAM,EAAEP,MAAM,CAACQ;UAAO;YAAA;YAAA;YAAA;UAAA;QACtB;UAAA;UAAA;UAAA;QAAA;MACI,GAnBHR,MAAM,CAACS,EAAE;QAAA;QAAA;QAAA;MAAA,SAoBP;IAAA,CACV,CAAC;EAAA;IAAA;IAAA;IAAA;EAAA,SACW;AAEnB,CAAC;AAAC,GAlCWf,UAAqC;EAAA,QAC1BZ,aAAa;AAAA;AAAA,KADxBY,UAAqC;AAAA;AAAA"},"metadata":{},"sourceType":"module"}