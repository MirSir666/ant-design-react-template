{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React from'react';import{useTranslation}from'react-i18next';import{Dropdown}from'@app/components/common/Dropdown/Dropdown';import{kanbanTags}from'constants/kanbanTags';import*as S from'./TagDropdown.styles';import{Tag}from'components/common/Tag/Tag';import{PlusCircleFilled}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var TagDropdown=function TagDropdown(_ref){var selectedTags=_ref.selectedTags,setSelectedTags=_ref.setSelectedTags;var _useTranslation=useTranslation(),t=_useTranslation.t;var kanbanTagData=Object.values(kanbanTags);var selectedTagsIds=selectedTags.map(function(item){return item.id;});var onTagClick=function onTagClick(tag){var isExist=selectedTagsIds.includes(tag.id);if(isExist){setSelectedTags(selectedTags.filter(function(item){return item.id!==tag.id;}));}else{setSelectedTags([].concat(_toConsumableArray(selectedTags),[tag]));}};return/*#__PURE__*/_jsx(Dropdown,{trigger:['click'],overlay:/*#__PURE__*/_jsxs(S.EditTagPopover,{children:[kanbanTagData.map(function(tag){return/*#__PURE__*/_jsxs(S.EditTagPopoverLine,{onClick:function onClick(e){onTagClick(tag);e.stopPropagation();},children:[/*#__PURE__*/_jsx(S.PopoverCheckbox,{checked:selectedTagsIds.includes(tag.id)}),/*#__PURE__*/_jsxs(S.TagWrapper,{backgroundColor:tag.bgColor,children:[\"#\",tag.title]})]},tag.id);}),/*#__PURE__*/_jsx(S.RemoveTagWrapper,{children:/*#__PURE__*/_jsx(S.RemoveTag,{})})]}),children:selectedTags&&selectedTags.length>0?/*#__PURE__*/_jsxs(S.TagsWrapper,{children:[selectedTags.map(function(tag){return/*#__PURE__*/_jsx(Tag,_objectSpread(_objectSpread({},tag),{},{removeTag:function removeTag(){return onTagClick(tag);}}),tag.id);}),/*#__PURE__*/_jsx(S.TagPlusWrapper,{children:/*#__PURE__*/_jsx(PlusCircleFilled,{})})]}):/*#__PURE__*/_jsx(S.TagsWrapper,{children:/*#__PURE__*/_jsx(S.AddTag,{children:t('kanban.addTag')})})});};","map":{"version":3,"names":["React","useTranslation","Dropdown","kanbanTags","S","Tag","PlusCircleFilled","TagDropdown","selectedTags","setSelectedTags","t","kanbanTagData","Object","values","selectedTagsIds","map","item","id","onTagClick","tag","isExist","includes","filter","e","stopPropagation","bgColor","title","length"],"sources":["/workspace/ant-design-react-template/src/components/apps/kanban/newCardForm/TagDropdown/TagDropdown.tsx"],"sourcesContent":["import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Dropdown } from '@app/components/common/Dropdown/Dropdown';\nimport { Tag as ITag } from '../../interfaces';\nimport { kanbanTags } from 'constants/kanbanTags';\nimport * as S from './TagDropdown.styles';\nimport { Tag } from 'components/common/Tag/Tag';\nimport { PlusCircleFilled } from '@ant-design/icons';\n\ninterface TagDropdownProps {\n  selectedTags: ITag[];\n  setSelectedTags: (state: ITag[]) => void;\n}\n\nexport const TagDropdown: React.FC<TagDropdownProps> = ({ selectedTags, setSelectedTags }) => {\n  const { t } = useTranslation();\n\n  const kanbanTagData = Object.values(kanbanTags);\n  const selectedTagsIds = selectedTags.map((item) => item.id);\n\n  const onTagClick = (tag: ITag) => {\n    const isExist = selectedTagsIds.includes(tag.id);\n\n    if (isExist) {\n      setSelectedTags(selectedTags.filter((item) => item.id !== tag.id));\n    } else {\n      setSelectedTags([...selectedTags, tag]);\n    }\n  };\n\n  return (\n    <Dropdown\n      trigger={['click']}\n      overlay={\n        <S.EditTagPopover>\n          {kanbanTagData.map((tag: ITag) => (\n            <S.EditTagPopoverLine\n              key={tag.id}\n              onClick={(e) => {\n                onTagClick(tag);\n                e.stopPropagation();\n              }}\n            >\n              <S.PopoverCheckbox checked={selectedTagsIds.includes(tag.id)} />\n              <S.TagWrapper backgroundColor={tag.bgColor}>#{tag.title}</S.TagWrapper>\n            </S.EditTagPopoverLine>\n          ))}\n          <S.RemoveTagWrapper>\n            <S.RemoveTag />\n          </S.RemoveTagWrapper>\n        </S.EditTagPopover>\n      }\n    >\n      {selectedTags && selectedTags.length > 0 ? (\n        <S.TagsWrapper>\n          {selectedTags.map((tag) => (\n            <Tag key={tag.id} {...tag} removeTag={() => onTagClick(tag)} />\n          ))}\n          <S.TagPlusWrapper>\n            <PlusCircleFilled />\n          </S.TagPlusWrapper>\n        </S.TagsWrapper>\n      ) : (\n        <S.TagsWrapper>\n          <S.AddTag>{t('kanban.addTag')}</S.AddTag>\n        </S.TagsWrapper>\n      )}\n    </Dropdown>\n  );\n};\n"],"mappings":"2PAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,QAAQ,KAAQ,0CAA0C,CAEnE,OAASC,UAAU,KAAQ,sBAAsB,CACjD,MAAO,GAAKC,EAAC,KAAM,sBAAsB,CACzC,OAASC,GAAG,KAAQ,2BAA2B,CAC/C,OAASC,gBAAgB,KAAQ,mBAAmB,CAAC,wFAOrD,MAAO,IAAMC,YAAuC,CAAG,QAA1CA,YAAuC,MAA0C,IAApCC,aAAY,MAAZA,YAAY,CAAEC,eAAe,MAAfA,eAAe,CACrF,oBAAcR,cAAc,EAAE,CAAtBS,CAAC,iBAADA,CAAC,CAET,GAAMC,cAAa,CAAGC,MAAM,CAACC,MAAM,CAACV,UAAU,CAAC,CAC/C,GAAMW,gBAAe,CAAGN,YAAY,CAACO,GAAG,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACC,EAAE,GAAC,CAE3D,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,GAAS,CAAK,CAChC,GAAMC,QAAO,CAAGN,eAAe,CAACO,QAAQ,CAACF,GAAG,CAACF,EAAE,CAAC,CAEhD,GAAIG,OAAO,CAAE,CACXX,eAAe,CAACD,YAAY,CAACc,MAAM,CAAC,SAACN,IAAI,QAAKA,KAAI,CAACC,EAAE,GAAKE,GAAG,CAACF,EAAE,GAAC,CAAC,CACpE,CAAC,IAAM,CACLR,eAAe,8BAAKD,YAAY,GAAEW,GAAG,GAAE,CACzC,CACF,CAAC,CAED,mBACE,KAAC,QAAQ,EACP,OAAO,CAAE,CAAC,OAAO,CAAE,CACnB,OAAO,cACL,MAAC,CAAC,CAAC,cAAc,YACdR,aAAa,CAACI,GAAG,CAAC,SAACI,GAAS,qBAC3B,MAAC,CAAC,CAAC,kBAAkB,EAEnB,OAAO,CAAE,iBAACI,CAAC,CAAK,CACdL,UAAU,CAACC,GAAG,CAAC,CACfI,CAAC,CAACC,eAAe,EAAE,CACrB,CAAE,wBAEF,KAAC,CAAC,CAAC,eAAe,EAAC,OAAO,CAAEV,eAAe,CAACO,QAAQ,CAACF,GAAG,CAACF,EAAE,CAAE,EAAG,cAChE,MAAC,CAAC,CAAC,UAAU,EAAC,eAAe,CAAEE,GAAG,CAACM,OAAQ,eAAGN,GAAG,CAACO,KAAK,GAAgB,GAPlEP,GAAG,CAACF,EAAE,CAQU,EACxB,CAAC,cACF,KAAC,CAAC,CAAC,gBAAgB,wBACjB,KAAC,CAAC,CAAC,SAAS,IAAG,EACI,GAExB,UAEAT,YAAY,EAAIA,YAAY,CAACmB,MAAM,CAAG,CAAC,cACtC,MAAC,CAAC,CAAC,WAAW,YACXnB,YAAY,CAACO,GAAG,CAAC,SAACI,GAAG,qBACpB,KAAC,GAAG,gCAAkBA,GAAG,MAAE,SAAS,CAAE,2BAAMD,WAAU,CAACC,GAAG,CAAC,EAAC,GAAlDA,GAAG,CAACF,EAAE,CAA+C,EAChE,CAAC,cACF,KAAC,CAAC,CAAC,cAAc,wBACf,KAAC,gBAAgB,IAAG,EACH,GACL,cAEhB,KAAC,CAAC,CAAC,WAAW,wBACZ,KAAC,CAAC,CAAC,MAAM,WAAEP,CAAC,CAAC,eAAe,CAAC,EAAY,EAE5C,EACQ,CAEf,CAAC"},"metadata":{},"sourceType":"module"}