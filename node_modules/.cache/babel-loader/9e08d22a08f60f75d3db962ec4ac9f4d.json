{"ast":null,"code":"import _slicedToArray from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useTranslation}from'react-i18next';import{BaseForm}from'@app/components/common/forms/BaseForm/BaseForm';import{Button}from'@app/components/common/buttons/Button/Button';import{Step1}from'./Steps/Step1';import{Step2}from'./Steps/Step2';import{Step3}from'./Steps/Step3';import{Step4}from'./Steps/Step4';import{notificationController}from'@app/controllers/notificationController';import{Dates}from'@app/constants/Dates';import{mergeBy}from'@app/utils/utils';import*as S from'./StepForm.styles';import{Steps}from'./StepForm.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var StepForm=function StepForm(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),current=_useState2[0],setCurrent=_useState2[1];var _BaseForm$useForm=BaseForm.useForm(),_BaseForm$useForm2=_slicedToArray(_BaseForm$useForm,1),form=_BaseForm$useForm2[0];var _useState3=useState([{name:'login',value:'Jerri'},{name:'password',value:'123456'},{name:'confirmPassword',value:'123456'},{name:'salutation',value:'mr'},{name:'gender',value:'male'},{name:'firstName',value:'John'},{name:'lastName',value:'Black'},{name:'birthday',value:Dates.getDate(1576789200000)},{name:'phone',value:'298573124'},{name:'email',value:''},{name:'address1',value:'Slobodskay street'},{name:'address2',value:'Nevski street'},{name:'zipCode',value:'435123'},{name:'city',value:'Minsk'},{name:'country',value:'Belarus'},{name:'prefix',value:'+7'}]),_useState4=_slicedToArray(_useState3,2),fields=_useState4[0],setFields=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var formLabels={login:t('forms.stepFormLabels.login'),password:t('common.password'),confirmPassword:t('common.confirmPassword'),salutation:t('forms.stepFormLabels.salutation'),gender:t('forms.stepFormLabels.gender'),firstName:t('common.firstName'),lastName:t('common.lastName'),birthday:t('forms.stepFormLabels.birthday'),phone:t('common.phone'),email:t('common.email'),address1:\"\".concat(t('common.address'),\" 1\"),address2:\"\".concat(t('common.address'),\" 2\"),zipCode:t('common.zipcode'),city:t('common.city'),country:t('common.country')};var formValues=fields.filter(function(item){return item.name!=='prefix';}).map(function(item){return{name:formLabels[item.name],value:String(item.name==='birthday'&&item.value?item.value.format('YYYY-MM-DD'):item.value)};});var next=function next(){form.validateFields().then(function(){setCurrent(current+1);});};var prev=function prev(){setCurrent(current-1);};var onFinish=function onFinish(){setIsLoading(true);setTimeout(function(){notificationController.success({message:t('common.success')});setIsLoading(false);setCurrent(0);},1500);};var steps=[{title:t('common.country')},{title:t('forms.stepFormLabels.info')},{title:t('forms.stepFormLabels.location')},{title:t('forms.stepFormLabels.confirm')}];var formFieldsUi=[/*#__PURE__*/_jsx(Step1,{},\"1\"),/*#__PURE__*/_jsx(Step2,{},\"2\"),/*#__PURE__*/_jsx(Step3,{},\"3\"),/*#__PURE__*/_jsx(Step4,{formValues:formValues},\"4\")];return/*#__PURE__*/_jsxs(BaseForm,{name:\"stepForm\",form:form,fields:fields,onFieldsChange:function onFieldsChange(_,allFields){var currentFields=allFields.map(function(item){return{name:Array.isArray(item.name)?item.name[0]:'',value:item.value};});var uniqueData=mergeBy(fields,currentFields,'name');setFields(uniqueData);},children:[/*#__PURE__*/_jsx(Steps,{labelPlacement:\"vertical\",size:\"small\",current:current,children:steps.map(function(item){return/*#__PURE__*/_jsx(Steps.Step,{title:item.title,description:\"\"},item.title);})}),/*#__PURE__*/_jsx(\"div\",{children:formFieldsUi[current]}),/*#__PURE__*/_jsxs(\"div\",{children:[current<steps.length-1&&/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){return next();},children:t('forms.stepFormLabels.next')}),current===steps.length-1&&/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:onFinish,loading:isLoading,children:t('forms.stepFormLabels.done')}),current>0&&/*#__PURE__*/_jsx(S.PrevButton,{type:\"default\",onClick:function onClick(){return prev();},children:t('forms.stepFormLabels.previous')})]})]});};","map":{"version":3,"names":["React","useState","useTranslation","BaseForm","Button","Step1","Step2","Step3","Step4","notificationController","Dates","mergeBy","S","Steps","StepForm","current","setCurrent","useForm","form","name","value","getDate","fields","setFields","isLoading","setIsLoading","t","formLabels","login","password","confirmPassword","salutation","gender","firstName","lastName","birthday","phone","email","address1","address2","zipCode","city","country","formValues","filter","item","map","String","format","next","validateFields","then","prev","onFinish","setTimeout","success","message","steps","title","formFieldsUi","_","allFields","currentFields","Array","isArray","uniqueData","length"],"sources":["/workspace/ant-design-react-template/src/components/forms/StepForm/StepForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BaseForm } from '@app/components/common/forms/BaseForm/BaseForm';\nimport { Button } from '@app/components/common/buttons/Button/Button';\nimport { Step1 } from './Steps/Step1';\nimport { Step2 } from './Steps/Step2';\nimport { Step3 } from './Steps/Step3';\nimport { Step4 } from './Steps/Step4';\nimport { notificationController } from '@app/controllers/notificationController';\nimport { Dates } from '@app/constants/Dates';\nimport { mergeBy } from '@app/utils/utils';\nimport * as S from './StepForm.styles';\nimport { Steps } from './StepForm.styles';\ninterface FormValues {\n  [key: string]: string | undefined;\n}\n\ninterface FieldData {\n  name: string | number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value?: any;\n}\n\nexport const StepForm: React.FC = () => {\n  const [current, setCurrent] = useState(0);\n  const [form] = BaseForm.useForm();\n  const [fields, setFields] = useState<FieldData[]>([\n    { name: 'login', value: 'Jerri' },\n    { name: 'password', value: '123456' },\n    { name: 'confirmPassword', value: '123456' },\n    { name: 'salutation', value: 'mr' },\n    { name: 'gender', value: 'male' },\n    { name: 'firstName', value: 'John' },\n    { name: 'lastName', value: 'Black' },\n    { name: 'birthday', value: Dates.getDate(1576789200000) },\n    { name: 'phone', value: '298573124' },\n    { name: 'email', value: '' },\n    { name: 'address1', value: 'Slobodskay street' },\n    { name: 'address2', value: 'Nevski street' },\n    { name: 'zipCode', value: '435123' },\n    { name: 'city', value: 'Minsk' },\n    { name: 'country', value: 'Belarus' },\n    { name: 'prefix', value: '+7' },\n  ]);\n  const [isLoading, setIsLoading] = useState(false);\n  const { t } = useTranslation();\n\n  const formLabels: FormValues = {\n    login: t('forms.stepFormLabels.login'),\n    password: t('common.password'),\n    confirmPassword: t('common.confirmPassword'),\n    salutation: t('forms.stepFormLabels.salutation'),\n    gender: t('forms.stepFormLabels.gender'),\n    firstName: t('common.firstName'),\n    lastName: t('common.lastName'),\n    birthday: t('forms.stepFormLabels.birthday'),\n    phone: t('common.phone'),\n    email: t('common.email'),\n    address1: `${t('common.address')} 1`,\n    address2: `${t('common.address')} 2`,\n    zipCode: t('common.zipcode'),\n    city: t('common.city'),\n    country: t('common.country'),\n  };\n\n  const formValues = fields\n    .filter((item) => item.name !== 'prefix')\n    .map((item) => ({\n      name: formLabels[item.name],\n      value: String(item.name === 'birthday' && item.value ? item.value.format('YYYY-MM-DD') : item.value),\n    }));\n\n  const next = () => {\n    form.validateFields().then(() => {\n      setCurrent(current + 1);\n    });\n  };\n\n  const prev = () => {\n    setCurrent(current - 1);\n  };\n\n  const onFinish = () => {\n    setIsLoading(true);\n    setTimeout(() => {\n      notificationController.success({ message: t('common.success') });\n      setIsLoading(false);\n      setCurrent(0);\n    }, 1500);\n  };\n\n  const steps = [\n    {\n      title: t('common.country'),\n    },\n    {\n      title: t('forms.stepFormLabels.info'),\n    },\n    {\n      title: t('forms.stepFormLabels.location'),\n    },\n    {\n      title: t('forms.stepFormLabels.confirm'),\n    },\n  ];\n\n  const formFieldsUi = [\n    <Step1 key=\"1\" />,\n    <Step2 key=\"2\" />,\n    <Step3 key=\"3\" />,\n    <Step4 key=\"4\" formValues={formValues} />,\n  ];\n\n  return (\n    <BaseForm\n      name=\"stepForm\"\n      form={form}\n      fields={fields}\n      onFieldsChange={(_, allFields) => {\n        const currentFields = allFields.map((item) => ({\n          name: Array.isArray(item.name) ? item.name[0] : '',\n          value: item.value,\n        }));\n        const uniqueData = mergeBy(fields, currentFields, 'name');\n        setFields(uniqueData);\n      }}\n    >\n      <Steps labelPlacement=\"vertical\" size=\"small\" current={current}>\n        {steps.map((item) => (\n          <Steps.Step key={item.title} title={item.title} description=\"\" />\n        ))}\n      </Steps>\n      <div>{formFieldsUi[current]}</div>\n      <div>\n        {current < steps.length - 1 && (\n          <Button type=\"primary\" onClick={() => next()}>\n            {t('forms.stepFormLabels.next')}\n          </Button>\n        )}\n        {current === steps.length - 1 && (\n          <Button type=\"primary\" onClick={onFinish} loading={isLoading}>\n            {t('forms.stepFormLabels.done')}\n          </Button>\n        )}\n        {current > 0 && (\n          <S.PrevButton type=\"default\" onClick={() => prev()}>\n            {t('forms.stepFormLabels.previous')}\n          </S.PrevButton>\n        )}\n      </div>\n    </BaseForm>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}