{"ast":null,"code":"import React from'react';import{useTranslation}from'react-i18next';import{Link,useLocation}from'react-router-dom';import*as S from'./SiderMenu.styles';import{sidebarNavigation}from'../sidebarNavigation';import{Menu}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";var sidebarNavFlat=sidebarNavigation.reduce(function(result,current){return result.concat(current.children&&current.children.length>0?current.children:current);},[]);var SiderMenu=function SiderMenu(_ref){var setCollapsed=_ref.setCollapsed;var _useTranslation=useTranslation(),t=_useTranslation.t;var location=useLocation();var currentMenuItem=sidebarNavFlat.find(function(_ref2){var url=_ref2.url;return url===location.pathname;});var defaultSelectedKeys=currentMenuItem?[currentMenuItem.key]:[];var openedSubmenu=sidebarNavigation.find(function(_ref3){var children=_ref3.children;return children===null||children===void 0?void 0:children.some(function(_ref4){var url=_ref4.url;return url===location.pathname;});});var defaultOpenKeys=openedSubmenu?[openedSubmenu.key]:[];return/*#__PURE__*/_jsx(S.Menu,{mode:\"inline\",defaultSelectedKeys:defaultSelectedKeys,defaultOpenKeys:defaultOpenKeys,onClick:function onClick(){return setCollapsed(true);},children:sidebarNavigation.map(function(nav){return nav.children&&nav.children.length>0?/*#__PURE__*/_jsx(Menu.SubMenu,{title:t(nav.title),icon:nav.icon,onTitleClick:function onTitleClick(){return setCollapsed(false);},popupClassName:\"d-none\",children:nav.children.map(function(childNav){return/*#__PURE__*/_jsx(Menu.Item,{title:\"\",children:/*#__PURE__*/_jsx(Link,{to:childNav.url||'',children:t(childNav.title)})},childNav.key);})},nav.key):/*#__PURE__*/_jsx(Menu.Item,{title:\"\",icon:nav.icon,children:/*#__PURE__*/_jsx(Link,{to:nav.url||'',children:t(nav.title)})},nav.key);})});};export default SiderMenu;","map":{"version":3,"names":["React","useTranslation","Link","useLocation","S","sidebarNavigation","Menu","sidebarNavFlat","reduce","result","current","concat","children","length","SiderMenu","setCollapsed","t","location","currentMenuItem","find","url","pathname","defaultSelectedKeys","key","openedSubmenu","some","defaultOpenKeys","map","nav","title","icon","childNav"],"sources":["/workspace/ant-design-react-template/src/components/layouts/main/sider/SiderMenu/SiderMenu.tsx"],"sourcesContent":["import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useLocation } from 'react-router-dom';\nimport * as S from './SiderMenu.styles';\nimport { sidebarNavigation, SidebarNavigationItem } from '../sidebarNavigation';\nimport { Menu } from 'antd';\n\ninterface SiderContentProps {\n  setCollapsed: (isCollapsed: boolean) => void;\n}\n\nconst sidebarNavFlat = sidebarNavigation.reduce(\n  (result: SidebarNavigationItem[], current) =>\n    result.concat(current.children && current.children.length > 0 ? current.children : current),\n  [],\n);\n\nconst SiderMenu: React.FC<SiderContentProps> = ({ setCollapsed }) => {\n  const { t } = useTranslation();\n  const location = useLocation();\n\n  const currentMenuItem = sidebarNavFlat.find(({ url }) => url === location.pathname);\n  const defaultSelectedKeys = currentMenuItem ? [currentMenuItem.key] : [];\n\n  const openedSubmenu = sidebarNavigation.find(({ children }) =>\n    children?.some(({ url }) => url === location.pathname),\n  );\n  const defaultOpenKeys = openedSubmenu ? [openedSubmenu.key] : [];\n\n  return (\n    <S.Menu\n      mode=\"inline\"\n      defaultSelectedKeys={defaultSelectedKeys}\n      defaultOpenKeys={defaultOpenKeys}\n      onClick={() => setCollapsed(true)}\n    >\n      {sidebarNavigation.map((nav) =>\n        nav.children && nav.children.length > 0 ? (\n          <Menu.SubMenu\n            key={nav.key}\n            title={t(nav.title)}\n            icon={nav.icon}\n            onTitleClick={() => setCollapsed(false)}\n            popupClassName=\"d-none\"\n          >\n            {nav.children.map((childNav) => (\n              <Menu.Item key={childNav.key} title=\"\">\n                <Link to={childNav.url || ''}>{t(childNav.title)}</Link>\n              </Menu.Item>\n            ))}\n          </Menu.SubMenu>\n        ) : (\n          <Menu.Item key={nav.key} title=\"\" icon={nav.icon}>\n            <Link to={nav.url || ''}>{t(nav.title)}</Link>\n          </Menu.Item>\n        ),\n      )}\n    </S.Menu>\n  );\n};\n\nexport default SiderMenu;\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,cAAc,KAAQ,eAAe,CAC9C,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,GAAKC,EAAC,KAAM,oBAAoB,CACvC,OAASC,iBAAiB,KAA+B,sBAAsB,CAC/E,OAASC,IAAI,KAAQ,MAAM,CAAC,2CAM5B,GAAMC,eAAc,CAAGF,iBAAiB,CAACG,MAAM,CAC7C,SAACC,MAA+B,CAAEC,OAAO,QACvCD,OAAM,CAACE,MAAM,CAACD,OAAO,CAACE,QAAQ,EAAIF,OAAO,CAACE,QAAQ,CAACC,MAAM,CAAG,CAAC,CAAGH,OAAO,CAACE,QAAQ,CAAGF,OAAO,CAAC,GAC7F,EAAE,CACH,CAED,GAAMI,UAAsC,CAAG,QAAzCA,UAAsC,MAAyB,IAAnBC,aAAY,MAAZA,YAAY,CAC5D,oBAAcd,cAAc,EAAE,CAAtBe,CAAC,iBAADA,CAAC,CACT,GAAMC,SAAQ,CAAGd,WAAW,EAAE,CAE9B,GAAMe,gBAAe,CAAGX,cAAc,CAACY,IAAI,CAAC,mBAAGC,IAAG,OAAHA,GAAG,OAAOA,IAAG,GAAKH,QAAQ,CAACI,QAAQ,GAAC,CACnF,GAAMC,oBAAmB,CAAGJ,eAAe,CAAG,CAACA,eAAe,CAACK,GAAG,CAAC,CAAG,EAAE,CAExE,GAAMC,cAAa,CAAGnB,iBAAiB,CAACc,IAAI,CAAC,mBAAGP,SAAQ,OAARA,QAAQ,OACtDA,SAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEa,IAAI,CAAC,mBAAGL,IAAG,OAAHA,GAAG,OAAOA,IAAG,GAAKH,QAAQ,CAACI,QAAQ,GAAC,GACvD,CACD,GAAMK,gBAAe,CAAGF,aAAa,CAAG,CAACA,aAAa,CAACD,GAAG,CAAC,CAAG,EAAE,CAEhE,mBACE,KAAC,CAAC,CAAC,IAAI,EACL,IAAI,CAAC,QAAQ,CACb,mBAAmB,CAAED,mBAAoB,CACzC,eAAe,CAAEI,eAAgB,CACjC,OAAO,CAAE,yBAAMX,aAAY,CAAC,IAAI,CAAC,EAAC,UAEjCV,iBAAiB,CAACsB,GAAG,CAAC,SAACC,GAAG,QACzBA,IAAG,CAAChB,QAAQ,EAAIgB,GAAG,CAAChB,QAAQ,CAACC,MAAM,CAAG,CAAC,cACrC,KAAC,IAAI,CAAC,OAAO,EAEX,KAAK,CAAEG,CAAC,CAACY,GAAG,CAACC,KAAK,CAAE,CACpB,IAAI,CAAED,GAAG,CAACE,IAAK,CACf,YAAY,CAAE,8BAAMf,aAAY,CAAC,KAAK,CAAC,EAAC,CACxC,cAAc,CAAC,QAAQ,UAEtBa,GAAG,CAAChB,QAAQ,CAACe,GAAG,CAAC,SAACI,QAAQ,qBACzB,KAAC,IAAI,CAAC,IAAI,EAAoB,KAAK,CAAC,EAAE,uBACpC,KAAC,IAAI,EAAC,EAAE,CAAEA,QAAQ,CAACX,GAAG,EAAI,EAAG,UAAEJ,CAAC,CAACe,QAAQ,CAACF,KAAK,CAAC,EAAQ,EAD1CE,QAAQ,CAACR,GAAG,CAEhB,EACb,CAAC,EAVGK,GAAG,CAACL,GAAG,CAWC,cAEf,KAAC,IAAI,CAAC,IAAI,EAAe,KAAK,CAAC,EAAE,CAAC,IAAI,CAAEK,GAAG,CAACE,IAAK,uBAC/C,KAAC,IAAI,EAAC,EAAE,CAAEF,GAAG,CAACR,GAAG,EAAI,EAAG,UAAEJ,CAAC,CAACY,GAAG,CAACC,KAAK,CAAC,EAAQ,EADhCD,GAAG,CAACL,GAAG,CAGxB,GACF,EACM,CAEb,CAAC,CAED,cAAeT,UAAS"},"metadata":{},"sourceType":"module"}