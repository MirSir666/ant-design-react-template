{"ast":null,"code":"import React,{useMemo}from'react';import enUS from'antd/lib/calendar/locale/en_US';import deDe from'antd/es/calendar/locale/de_DE';import{Col,Row}from'antd';import{CalendarSwitch}from'@app/components/common/CalendarSwitch/CalendarSwitch';import{useLanguage}from'@app/hooks/useLanguage';import{Dates}from'@app/constants/Dates';import*as S from'./TreatmentCalendar.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var TreatmentCalendar=function TreatmentCalendar(_ref){var calendar=_ref.calendar,date=_ref.date,setDate=_ref.setDate,onDecrease=_ref.onDecrease,onIncrease=_ref.onIncrease,setDateClicked=_ref.setDateClicked,onToday=_ref.onToday;var _useLanguage=useLanguage(),language=_useLanguage.language;var locale=useMemo(function(){return language==='de'?deDe:enUS;},[language]);var handleSelect=function handleSelect(value){setDate(value);setDateClicked(true);};var dateFormatted=Dates.format(date,'MMMM YYYY');return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Row,{gutter:[20,20],children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(CalendarSwitch,{dateFormatted:dateFormatted,onDecrease:onDecrease,onIncrease:onIncrease,onToday:onToday})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(S.Calendar,{locale:locale,dateCellRender:function dateCellRender(value){var today=Dates.getToday();return calendar.map(function(event){var calendarDate=Dates.getDate(event.date);if(calendarDate.isSame(value,'date')&&calendarDate.isSame(value,'month')&&calendarDate.isSame(value,'year')){var isPast=today.isAfter(calendarDate);return/*#__PURE__*/_jsx(S.Event,{$isPast:isPast,children:calendarDate.format('DD')},event.date);}});},value:date,fullscreen:false,onSelect:handleSelect})})]})});};","map":{"version":3,"names":["React","useMemo","enUS","deDe","Col","Row","CalendarSwitch","useLanguage","Dates","S","TreatmentCalendar","calendar","date","setDate","onDecrease","onIncrease","setDateClicked","onToday","language","locale","handleSelect","value","dateFormatted","format","today","getToday","map","event","calendarDate","getDate","isSame","isPast","isAfter"],"sources":["/workspace/ant-design-react-template/src/components/medical-dashboard/treatmentCard/TreatmentCalendar/TreatmentCalendar.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport enUS from 'antd/lib/calendar/locale/en_US';\nimport deDe from 'antd/es/calendar/locale/de_DE';\nimport { Col, Row } from 'antd';\nimport { CalendarSwitch } from '@app/components/common/CalendarSwitch/CalendarSwitch';\nimport { useLanguage } from '@app/hooks/useLanguage';\nimport { CalendarEvent } from '@app/api/calendar.api';\nimport { AppDate, Dates } from '@app/constants/Dates';\nimport * as S from './TreatmentCalendar.styles';\n\ninterface TreatmentCalendarProps {\n  date: AppDate;\n  setDate: (state: AppDate) => void;\n  onIncrease: () => void;\n  onDecrease: () => void;\n  onToday: () => void;\n  setDateClicked: (state: boolean) => void;\n  calendar: CalendarEvent[];\n}\n\nexport const TreatmentCalendar: React.FC<TreatmentCalendarProps> = ({\n  calendar,\n  date,\n  setDate,\n  onDecrease,\n  onIncrease,\n  setDateClicked,\n  onToday,\n}) => {\n  const { language } = useLanguage();\n  const locale = useMemo(() => (language === 'de' ? deDe : enUS), [language]);\n\n  const handleSelect = (value: AppDate) => {\n    setDate(value);\n    setDateClicked(true);\n  };\n\n  const dateFormatted = Dates.format(date, 'MMMM YYYY');\n\n  return (\n    <>\n      <Row gutter={[20, 20]}>\n        <Col span={24}>\n          <CalendarSwitch\n            dateFormatted={dateFormatted}\n            onDecrease={onDecrease}\n            onIncrease={onIncrease}\n            onToday={onToday}\n          />\n        </Col>\n\n        <Col span={24}>\n          <S.Calendar\n            locale={locale}\n            dateCellRender={(value) => {\n              const today = Dates.getToday();\n\n              return calendar.map((event) => {\n                const calendarDate = Dates.getDate(event.date);\n\n                if (\n                  calendarDate.isSame(value, 'date') &&\n                  calendarDate.isSame(value, 'month') &&\n                  calendarDate.isSame(value, 'year')\n                ) {\n                  const isPast = today.isAfter(calendarDate);\n\n                  return (\n                    <S.Event key={event.date} $isPast={isPast}>\n                      {calendarDate.format('DD')}\n                    </S.Event>\n                  );\n                }\n              });\n            }}\n            value={date}\n            fullscreen={false}\n            onSelect={handleSelect}\n          />\n        </Col>\n      </Row>\n    </>\n  );\n};\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,OAAO,KAAQ,OAAO,CACtC,MAAOC,KAAI,KAAM,gCAAgC,CACjD,MAAOC,KAAI,KAAM,+BAA+B,CAChD,OAASC,GAAG,CAAEC,GAAG,KAAQ,MAAM,CAC/B,OAASC,cAAc,KAAQ,sDAAsD,CACrF,OAASC,WAAW,KAAQ,wBAAwB,CAEpD,OAAkBC,KAAK,KAAQ,sBAAsB,CACrD,MAAO,GAAKC,EAAC,KAAM,4BAA4B,CAAC,6IAYhD,MAAO,IAAMC,kBAAmD,CAAG,QAAtDA,kBAAmD,MAQ1D,IAPJC,SAAQ,MAARA,QAAQ,CACRC,IAAI,MAAJA,IAAI,CACJC,OAAO,MAAPA,OAAO,CACPC,UAAU,MAAVA,UAAU,CACVC,UAAU,MAAVA,UAAU,CACVC,cAAc,MAAdA,cAAc,CACdC,OAAO,MAAPA,OAAO,CAEP,iBAAqBV,WAAW,EAAE,CAA1BW,QAAQ,cAARA,QAAQ,CAChB,GAAMC,OAAM,CAAGlB,OAAO,CAAC,iBAAOiB,SAAQ,GAAK,IAAI,CAAGf,IAAI,CAAGD,IAAI,EAAC,CAAE,CAACgB,QAAQ,CAAC,CAAC,CAE3E,GAAME,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAc,CAAK,CACvCR,OAAO,CAACQ,KAAK,CAAC,CACdL,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,GAAMM,cAAa,CAAGd,KAAK,CAACe,MAAM,CAACX,IAAI,CAAE,WAAW,CAAC,CAErD,mBACE,sCACE,MAAC,GAAG,EAAC,MAAM,CAAE,CAAC,EAAE,CAAE,EAAE,CAAE,wBACpB,KAAC,GAAG,EAAC,IAAI,CAAE,EAAG,uBACZ,KAAC,cAAc,EACb,aAAa,CAAEU,aAAc,CAC7B,UAAU,CAAER,UAAW,CACvB,UAAU,CAAEC,UAAW,CACvB,OAAO,CAAEE,OAAQ,EACjB,EACE,cAEN,KAAC,GAAG,EAAC,IAAI,CAAE,EAAG,uBACZ,KAAC,CAAC,CAAC,QAAQ,EACT,MAAM,CAAEE,MAAO,CACf,cAAc,CAAE,wBAACE,KAAK,CAAK,CACzB,GAAMG,MAAK,CAAGhB,KAAK,CAACiB,QAAQ,EAAE,CAE9B,MAAOd,SAAQ,CAACe,GAAG,CAAC,SAACC,KAAK,CAAK,CAC7B,GAAMC,aAAY,CAAGpB,KAAK,CAACqB,OAAO,CAACF,KAAK,CAACf,IAAI,CAAC,CAE9C,GACEgB,YAAY,CAACE,MAAM,CAACT,KAAK,CAAE,MAAM,CAAC,EAClCO,YAAY,CAACE,MAAM,CAACT,KAAK,CAAE,OAAO,CAAC,EACnCO,YAAY,CAACE,MAAM,CAACT,KAAK,CAAE,MAAM,CAAC,CAClC,CACA,GAAMU,OAAM,CAAGP,KAAK,CAACQ,OAAO,CAACJ,YAAY,CAAC,CAE1C,mBACE,KAAC,CAAC,CAAC,KAAK,EAAkB,OAAO,CAAEG,MAAO,UACvCH,YAAY,CAACL,MAAM,CAAC,IAAI,CAAC,EADdI,KAAK,CAACf,IAAI,CAEd,CAEd,CACF,CAAC,CAAC,CACJ,CAAE,CACF,KAAK,CAAEA,IAAK,CACZ,UAAU,CAAE,KAAM,CAClB,QAAQ,CAAEQ,YAAa,EACvB,EACE,GACF,EACL,CAEP,CAAC"},"metadata":{},"sourceType":"module"}