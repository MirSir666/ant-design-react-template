{"ast":null,"code":"import React,{useCallback,useEffect,useMemo}from'react';import{RadioGroup}from'@app/components/common/Radio/Radio';import{EmailItem}from'@app/components/profile/profileCard/profileFormNav/nav/PersonalInfo/EmailItem/EmailItem';import{PhoneItem}from'@app/components/profile/profileCard/profileFormNav/nav/PersonalInfo/PhoneItem/PhoneItem';import{useAppSelector}from'@app/hooks/reduxHooks';import*as S from'./TwoFactorOptions.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var TwoFactorOptions=function TwoFactorOptions(_ref){var selectedOption=_ref.selectedOption,setSelectedOption=_ref.setSelectedOption;var user=useAppSelector(function(state){return state.user.user;});var _useMemo=useMemo(function(){return{isPhoneActive:selectedOption==='phone',isEmailActive:selectedOption==='email'};},[selectedOption]),isEmailActive=_useMemo.isEmailActive,isPhoneActive=_useMemo.isPhoneActive;var onClickInput=useCallback(function(mode){return function(){setSelectedOption(mode);};},[setSelectedOption]);useEffect(function(){if(user!==null&&user!==void 0&&user.email.verified&&user!==null&&user!==void 0&&user.phone.verified){setSelectedOption(null);}},[setSelectedOption,user===null||user===void 0?void 0:user.email.verified,user===null||user===void 0?void 0:user.phone.verified]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(RadioGroup,{value:selectedOption,onChange:function onChange(e){return setSelectedOption(e.target.value);},children:[/*#__PURE__*/_jsx(S.RadioBtn,{value:\"phone\",$isActive:isPhoneActive,disabled:user===null||user===void 0?void 0:user.phone.verified,children:/*#__PURE__*/_jsx(PhoneItem,{required:isPhoneActive,onClick:onClickInput('phone'),verified:user===null||user===void 0?void 0:user.phone.verified})}),/*#__PURE__*/_jsx(S.RadioBtn,{value:\"email\",$isActive:isEmailActive,disabled:user===null||user===void 0?void 0:user.email.verified,children:/*#__PURE__*/_jsx(EmailItem,{required:isEmailActive,onClick:onClickInput('email'),verified:user===null||user===void 0?void 0:user.email.verified})})]})});};","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","RadioGroup","EmailItem","PhoneItem","useAppSelector","S","TwoFactorOptions","selectedOption","setSelectedOption","user","state","isPhoneActive","isEmailActive","onClickInput","mode","email","verified","phone","e","target","value"],"sources":["/workspace/ant-design-react-template/src/components/profile/profileCard/profileFormNav/nav/SecuritySettings/twoFactorAuth/TwoFactorOptions/TwoFactorOptions.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useMemo } from 'react';\nimport { RadioGroup } from '@app/components/common/Radio/Radio';\nimport { EmailItem } from '@app/components/profile/profileCard/profileFormNav/nav/PersonalInfo/EmailItem/EmailItem';\nimport { PhoneItem } from '@app/components/profile/profileCard/profileFormNav/nav/PersonalInfo/PhoneItem/PhoneItem';\nimport { useAppSelector } from '@app/hooks/reduxHooks';\nimport { TwoFactorAuthOption } from '@app/interfaces/interfaces';\nimport { TwoFactorAuthOptionState } from '../TwoFactorAuth';\nimport * as S from './TwoFactorOptions.styles';\n\ninterface TwoFactorOptionsProps {\n  selectedOption: TwoFactorAuthOptionState;\n  setSelectedOption: (state: TwoFactorAuthOptionState) => void;\n}\n\nexport const TwoFactorOptions: React.FC<TwoFactorOptionsProps> = ({ selectedOption, setSelectedOption }) => {\n  const user = useAppSelector((state) => state.user.user);\n\n  const { isEmailActive, isPhoneActive } = useMemo(\n    () => ({\n      isPhoneActive: selectedOption === 'phone',\n      isEmailActive: selectedOption === 'email',\n    }),\n    [selectedOption],\n  );\n\n  const onClickInput = useCallback(\n    (mode: TwoFactorAuthOption) => () => {\n      setSelectedOption(mode);\n    },\n    [setSelectedOption],\n  );\n\n  useEffect(() => {\n    if (user?.email.verified && user?.phone.verified) {\n      setSelectedOption(null);\n    }\n  }, [setSelectedOption, user?.email.verified, user?.phone.verified]);\n\n  return (\n    <>\n      <RadioGroup value={selectedOption} onChange={(e) => setSelectedOption(e.target.value)}>\n        <S.RadioBtn value=\"phone\" $isActive={isPhoneActive} disabled={user?.phone.verified}>\n          <PhoneItem required={isPhoneActive} onClick={onClickInput('phone')} verified={user?.phone.verified} />\n        </S.RadioBtn>\n        <S.RadioBtn value=\"email\" $isActive={isEmailActive} disabled={user?.email.verified}>\n          <EmailItem required={isEmailActive} onClick={onClickInput('email')} verified={user?.email.verified} />\n        </S.RadioBtn>\n      </RadioGroup>\n    </>\n  );\n};\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,WAAW,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC9D,OAASC,UAAU,KAAQ,oCAAoC,CAC/D,OAASC,SAAS,KAAQ,yFAAyF,CACnH,OAASC,SAAS,KAAQ,yFAAyF,CACnH,OAASC,cAAc,KAAQ,uBAAuB,CAGtD,MAAO,GAAKC,EAAC,KAAM,2BAA2B,CAAC,6IAO/C,MAAO,IAAMC,iBAAiD,CAAG,QAApDA,iBAAiD,MAA8C,IAAxCC,eAAc,MAAdA,cAAc,CAAEC,iBAAiB,MAAjBA,iBAAiB,CACnG,GAAMC,KAAI,CAAGL,cAAc,CAAC,SAACM,KAAK,QAAKA,MAAK,CAACD,IAAI,CAACA,IAAI,GAAC,CAEvD,aAAyCT,OAAO,CAC9C,iBAAO,CACLW,aAAa,CAAEJ,cAAc,GAAK,OAAO,CACzCK,aAAa,CAAEL,cAAc,GAAK,OACpC,CAAC,EAAC,CACF,CAACA,cAAc,CAAC,CACjB,CANOK,aAAa,UAAbA,aAAa,CAAED,aAAa,UAAbA,aAAa,CAQpC,GAAME,aAAY,CAAGf,WAAW,CAC9B,SAACgB,IAAyB,QAAK,WAAM,CACnCN,iBAAiB,CAACM,IAAI,CAAC,CACzB,CAAC,GACD,CAACN,iBAAiB,CAAC,CACpB,CAEDT,SAAS,CAAC,UAAM,CACd,GAAIU,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEM,KAAK,CAACC,QAAQ,EAAIP,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEQ,KAAK,CAACD,QAAQ,CAAE,CAChDR,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAC,CAAE,CAACA,iBAAiB,CAAEC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEM,KAAK,CAACC,QAAQ,CAAEP,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,KAAK,CAACD,QAAQ,CAAC,CAAC,CAEnE,mBACE,sCACE,MAAC,UAAU,EAAC,KAAK,CAAET,cAAe,CAAC,QAAQ,CAAE,kBAACW,CAAC,QAAKV,kBAAiB,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,wBACpF,KAAC,CAAC,CAAC,QAAQ,EAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAET,aAAc,CAAC,QAAQ,CAAEF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,KAAK,CAACD,QAAS,uBACjF,KAAC,SAAS,EAAC,QAAQ,CAAEL,aAAc,CAAC,OAAO,CAAEE,YAAY,CAAC,OAAO,CAAE,CAAC,QAAQ,CAAEJ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,KAAK,CAACD,QAAS,EAAG,EAC3F,cACb,KAAC,CAAC,CAAC,QAAQ,EAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAEJ,aAAc,CAAC,QAAQ,CAAEH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEM,KAAK,CAACC,QAAS,uBACjF,KAAC,SAAS,EAAC,QAAQ,CAAEJ,aAAc,CAAC,OAAO,CAAEC,YAAY,CAAC,OAAO,CAAE,CAAC,QAAQ,CAAEJ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEM,KAAK,CAACC,QAAS,EAAG,EAC3F,GACF,EACZ,CAEP,CAAC"},"metadata":{},"sourceType":"module"}