{"ast":null,"code":"import React,{useCallback,useEffect,useMemo}from'react';import{RadioGroup}from'@app/components/common/Radio/Radio';import{EmailItem}from'@app/components/profile/profileCard/profileFormNav/nav/PersonalInfo/EmailItem/EmailItem';import{PhoneItem}from'@app/components/profile/profileCard/profileFormNav/nav/PersonalInfo/PhoneItem/PhoneItem';import{useAppSelector}from'@app/hooks/reduxHooks';import*as S from'./TwoFactorOptions.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var TwoFactorOptions=function TwoFactorOptions(_ref){var selectedOption=_ref.selectedOption,setSelectedOption=_ref.setSelectedOption;var user=useAppSelector(function(state){return state.user.user;});var _useMemo=useMemo(function(){return{isPhoneActive:selectedOption==='phone',isEmailActive:selectedOption==='email'};},[selectedOption]),isEmailActive=_useMemo.isEmailActive,isPhoneActive=_useMemo.isPhoneActive;var onClickInput=useCallback(function(mode){return function(){setSelectedOption(mode);};},[setSelectedOption]);useEffect(function(){if(user!==null&&user!==void 0&&user.email.verified&&user!==null&&user!==void 0&&user.phone.verified){setSelectedOption(null);}},[setSelectedOption,user===null||user===void 0?void 0:user.email.verified,user===null||user===void 0?void 0:user.phone.verified]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(RadioGroup,{value:selectedOption,onChange:function onChange(e){return setSelectedOption(e.target.value);},children:[/*#__PURE__*/_jsx(S.RadioBtn,{value:\"phone\",$isActive:isPhoneActive,disabled:user===null||user===void 0?void 0:user.phone.verified,children:/*#__PURE__*/_jsx(PhoneItem,{required:isPhoneActive,onClick:onClickInput('phone'),verified:user===null||user===void 0?void 0:user.phone.verified})}),/*#__PURE__*/_jsx(S.RadioBtn,{value:\"email\",$isActive:isEmailActive,disabled:user===null||user===void 0?void 0:user.email.verified,children:/*#__PURE__*/_jsx(EmailItem,{required:isEmailActive,onClick:onClickInput('email'),verified:user===null||user===void 0?void 0:user.email.verified})})]})});};","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/components/profile/profileCard/profileFormNav/nav/SecuritySettings/twoFactorAuth/TwoFactorOptions/TwoFactorOptions.tsx"],"names":["React","useCallback","useEffect","useMemo","RadioGroup","EmailItem","PhoneItem","useAppSelector","S","TwoFactorOptions","selectedOption","setSelectedOption","user","state","isPhoneActive","isEmailActive","onClickInput","mode","email","verified","phone","e","target","value"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,OAAxC,KAAuD,OAAvD,CACA,OAASC,UAAT,KAA2B,oCAA3B,CACA,OAASC,SAAT,KAA0B,yFAA1B,CACA,OAASC,SAAT,KAA0B,yFAA1B,CACA,OAASC,cAAT,KAA+B,uBAA/B,CAGA,MAAO,GAAKC,CAAAA,CAAZ,KAAmB,2BAAnB,C,6IAOA,MAAO,IAAMC,CAAAA,gBAAiD,CAAG,QAApDA,CAAAA,gBAAoD,MAA2C,IAAxCC,CAAAA,cAAwC,MAAxCA,cAAwC,CAAxBC,iBAAwB,MAAxBA,iBAAwB,CAC1G,GAAMC,CAAAA,IAAI,CAAGL,cAAc,CAAC,SAACM,KAAD,QAAWA,CAAAA,KAAK,CAACD,IAAN,CAAWA,IAAtB,EAAD,CAA3B,CAEA,aAAyCT,OAAO,CAC9C,iBAAO,CACLW,aAAa,CAAEJ,cAAc,GAAK,OAD7B,CAELK,aAAa,CAAEL,cAAc,GAAK,OAF7B,CAAP,EAD8C,CAK9C,CAACA,cAAD,CAL8C,CAAhD,CAAQK,aAAR,UAAQA,aAAR,CAAuBD,aAAvB,UAAuBA,aAAvB,CAQA,GAAME,CAAAA,YAAY,CAAGf,WAAW,CAC9B,SAACgB,IAAD,QAA+B,WAAM,CACnCN,iBAAiB,CAACM,IAAD,CAAjB,CACD,CAFD,EAD8B,CAI9B,CAACN,iBAAD,CAJ8B,CAAhC,CAOAT,SAAS,CAAC,UAAM,CACd,GAAIU,IAAI,OAAJ,EAAAA,IAAI,SAAJ,EAAAA,IAAI,CAAEM,KAAN,CAAYC,QAAZ,EAAwBP,IAAxB,SAAwBA,IAAxB,WAAwBA,IAAI,CAAEQ,KAAN,CAAYD,QAAxC,CAAkD,CAChDR,iBAAiB,CAAC,IAAD,CAAjB,CACD,CACF,CAJQ,CAIN,CAACA,iBAAD,CAAoBC,IAApB,SAAoBA,IAApB,iBAAoBA,IAAI,CAAEM,KAAN,CAAYC,QAAhC,CAA0CP,IAA1C,SAA0CA,IAA1C,iBAA0CA,IAAI,CAAEQ,KAAN,CAAYD,QAAtD,CAJM,CAAT,CAMA,mBACE,sCACE,MAAC,UAAD,EAAY,KAAK,CAAET,cAAnB,CAAmC,QAAQ,CAAE,kBAACW,CAAD,QAAOV,CAAAA,iBAAiB,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAxB,EAA7C,wBACE,KAAC,CAAD,CAAG,QAAH,EAAY,KAAK,CAAC,OAAlB,CAA0B,SAAS,CAAET,aAArC,CAAoD,QAAQ,CAAEF,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEQ,KAAN,CAAYD,QAA1E,uBACE,KAAC,SAAD,EAAW,QAAQ,CAAEL,aAArB,CAAoC,OAAO,CAAEE,YAAY,CAAC,OAAD,CAAzD,CAAoE,QAAQ,CAAEJ,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEQ,KAAN,CAAYD,QAA1F,EADF,EADF,cAIE,KAAC,CAAD,CAAG,QAAH,EAAY,KAAK,CAAC,OAAlB,CAA0B,SAAS,CAAEJ,aAArC,CAAoD,QAAQ,CAAEH,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEM,KAAN,CAAYC,QAA1E,uBACE,KAAC,SAAD,EAAW,QAAQ,CAAEJ,aAArB,CAAoC,OAAO,CAAEC,YAAY,CAAC,OAAD,CAAzD,CAAoE,QAAQ,CAAEJ,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEM,KAAN,CAAYC,QAA1F,EADF,EAJF,GADF,EADF,CAYD,CApCM","sourcesContent":["import React, { useCallback, useEffect, useMemo } from 'react';\nimport { RadioGroup } from '@app/components/common/Radio/Radio';\nimport { EmailItem } from '@app/components/profile/profileCard/profileFormNav/nav/PersonalInfo/EmailItem/EmailItem';\nimport { PhoneItem } from '@app/components/profile/profileCard/profileFormNav/nav/PersonalInfo/PhoneItem/PhoneItem';\nimport { useAppSelector } from '@app/hooks/reduxHooks';\nimport { TwoFactorAuthOption } from '@app/interfaces/interfaces';\nimport { TwoFactorAuthOptionState } from '../TwoFactorAuth';\nimport * as S from './TwoFactorOptions.styles';\n\ninterface TwoFactorOptionsProps {\n  selectedOption: TwoFactorAuthOptionState;\n  setSelectedOption: (state: TwoFactorAuthOptionState) => void;\n}\n\nexport const TwoFactorOptions: React.FC<TwoFactorOptionsProps> = ({ selectedOption, setSelectedOption }) => {\n  const user = useAppSelector((state) => state.user.user);\n\n  const { isEmailActive, isPhoneActive } = useMemo(\n    () => ({\n      isPhoneActive: selectedOption === 'phone',\n      isEmailActive: selectedOption === 'email',\n    }),\n    [selectedOption],\n  );\n\n  const onClickInput = useCallback(\n    (mode: TwoFactorAuthOption) => () => {\n      setSelectedOption(mode);\n    },\n    [setSelectedOption],\n  );\n\n  useEffect(() => {\n    if (user?.email.verified && user?.phone.verified) {\n      setSelectedOption(null);\n    }\n  }, [setSelectedOption, user?.email.verified, user?.phone.verified]);\n\n  return (\n    <>\n      <RadioGroup value={selectedOption} onChange={(e) => setSelectedOption(e.target.value)}>\n        <S.RadioBtn value=\"phone\" $isActive={isPhoneActive} disabled={user?.phone.verified}>\n          <PhoneItem required={isPhoneActive} onClick={onClickInput('phone')} verified={user?.phone.verified} />\n        </S.RadioBtn>\n        <S.RadioBtn value=\"email\" $isActive={isEmailActive} disabled={user?.email.verified}>\n          <EmailItem required={isEmailActive} onClick={onClickInput('email')} verified={user?.email.verified} />\n        </S.RadioBtn>\n      </RadioGroup>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}