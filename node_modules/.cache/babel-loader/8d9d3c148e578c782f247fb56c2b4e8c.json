{"ast":null,"code":"import _objectSpread from\"/workspace/lightence-ant-design-react-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useRef}from'react';import{Feed}from'@app/components/common/Feed/Feed';import{NotFound}from'@app/components/common/NotFound/NotFound';import{RecentActivityItem}from'@app/components/nft-dashboard/recentActivity/recentActivityFeed/RecentActivityItem/RecentActivityItem';import*as S from'./RecentActivityFeed.styles';import{jsx as _jsx}from\"react/jsx-runtime\";export var RecentActivityFeed=function RecentActivityFeed(_ref){var activity=_ref.activity,hasMore=_ref.hasMore,next=_ref.next;var activityItems=useMemo(function(){return activity.map(function(item,index){return/*#__PURE__*/_jsx(RecentActivityItem,_objectSpread({},item),index);});},[activity]);var feedRef=useRef(null);useEffect(function(){if(activity.length<4){var _feedRef$current;(_feedRef$current=feedRef.current)===null||_feedRef$current===void 0?void 0:_feedRef$current.dispatchEvent(new CustomEvent('scroll'));}},[activity]);return activityItems.length>0?/*#__PURE__*/_jsx(S.FeedWrapper,{ref:feedRef,id:\"recent-activity-feed\",children:/*#__PURE__*/_jsx(Feed,{hasMore:hasMore,next:next,target:\"recent-activity-feed\",children:activityItems})}):/*#__PURE__*/_jsx(NotFound,{});};","map":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/src/components/nft-dashboard/recentActivity/recentActivityFeed/RecentActivityFeed.tsx"],"names":["React","useEffect","useMemo","useRef","Feed","NotFound","RecentActivityItem","S","RecentActivityFeed","activity","hasMore","next","activityItems","map","item","index","feedRef","length","current","dispatchEvent","CustomEvent"],"mappings":"uKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,OAA3B,CAAoCC,MAApC,KAAkD,OAAlD,CACA,OAASC,IAAT,KAAqB,kCAArB,CACA,OAASC,QAAT,KAAyB,0CAAzB,CACA,OAASC,kBAAT,KAAmC,uGAAnC,CAEA,MAAO,GAAKC,CAAAA,CAAZ,KAAmB,6BAAnB,C,2CAQA,MAAO,IAAMC,CAAAA,kBAAqD,CAAG,QAAxDA,CAAAA,kBAAwD,MAAiC,IAA9BC,CAAAA,QAA8B,MAA9BA,QAA8B,CAApBC,OAAoB,MAApBA,OAAoB,CAAXC,IAAW,MAAXA,IAAW,CACpG,GAAMC,CAAAA,aAAa,CAAGV,OAAO,CAC3B,iBAAMO,CAAAA,QAAQ,CAACI,GAAT,CAAa,SAACC,IAAD,CAAOC,KAAP,qBAAiB,KAAC,kBAAD,kBAAoCD,IAApC,EAAyBC,KAAzB,CAAjB,EAAb,CAAN,EAD2B,CAE3B,CAACN,QAAD,CAF2B,CAA7B,CAKA,GAAMO,CAAAA,OAAO,CAAGb,MAAM,CAAiB,IAAjB,CAAtB,CAEAF,SAAS,CAAC,UAAM,CACd,GAAIQ,QAAQ,CAACQ,MAAT,CAAkB,CAAtB,CAAyB,sBACvB,kBAAAD,OAAO,CAACE,OAAR,4DAAiBC,aAAjB,CAA+B,GAAIC,CAAAA,WAAJ,CAAgB,QAAhB,CAA/B,EACD,CACF,CAJQ,CAIN,CAACX,QAAD,CAJM,CAAT,CAMA,MAAOG,CAAAA,aAAa,CAACK,MAAd,CAAuB,CAAvB,cACL,KAAC,CAAD,CAAG,WAAH,EAAe,GAAG,CAAED,OAApB,CAA6B,EAAE,CAAC,sBAAhC,uBACE,KAAC,IAAD,EAAM,OAAO,CAAEN,OAAf,CAAwB,IAAI,CAAEC,IAA9B,CAAoC,MAAM,CAAC,sBAA3C,UACGC,aADH,EADF,EADK,cAOL,KAAC,QAAD,IAPF,CASD,CAvBM","sourcesContent":["import React, { useEffect, useMemo, useRef } from 'react';\nimport { Feed } from '@app/components/common/Feed/Feed';\nimport { NotFound } from '@app/components/common/NotFound/NotFound';\nimport { RecentActivityItem } from '@app/components/nft-dashboard/recentActivity/recentActivityFeed/RecentActivityItem/RecentActivityItem';\nimport { Activity } from '@app/api/activity.api';\nimport * as S from './RecentActivityFeed.styles';\n\ninterface RecentActivityFeedProps {\n  activity: Activity[];\n  hasMore: boolean;\n  next: () => void;\n}\n\nexport const RecentActivityFeed: React.FC<RecentActivityFeedProps> = ({ activity, hasMore, next }) => {\n  const activityItems = useMemo(\n    () => activity.map((item, index) => <RecentActivityItem key={index} {...item} />),\n    [activity],\n  );\n\n  const feedRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (activity.length < 4) {\n      feedRef.current?.dispatchEvent(new CustomEvent('scroll'));\n    }\n  }, [activity]);\n\n  return activityItems.length > 0 ? (\n    <S.FeedWrapper ref={feedRef} id=\"recent-activity-feed\">\n      <Feed hasMore={hasMore} next={next} target=\"recent-activity-feed\">\n        {activityItems}\n      </Feed>\n    </S.FeedWrapper>\n  ) : (\n    <NotFound />\n  );\n};\n"]},"metadata":{},"sourceType":"module"}