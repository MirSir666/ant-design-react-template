{"ast":null,"code":"import _objectSpread from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/workspace/ant-design-react-template/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"slidesToShow\",\"arrows\",\"dots\",\"infinite\",\"centerMode\",\"children\"];// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport React,{useCallback,useEffect,useRef}from'react';import Slider from'react-slick';import'slick-carousel/slick/slick.css';import'slick-carousel/slick/slick-theme.css';import{jsx as _jsx}from\"react/jsx-runtime\";export var Carousel=/*#__PURE__*/React.forwardRef(function(_ref,ref){var _ref$slidesToShow=_ref.slidesToShow,slidesToShow=_ref$slidesToShow===void 0?1:_ref$slidesToShow,_ref$arrows=_ref.arrows,arrows=_ref$arrows===void 0?false:_ref$arrows,_ref$dots=_ref.dots,dots=_ref$dots===void 0?false:_ref$dots,_ref$infinite=_ref.infinite,infinite=_ref$infinite===void 0?true:_ref$infinite,_ref$centerMode=_ref.centerMode,centerMode=_ref$centerMode===void 0?true:_ref$centerMode,children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);var carouselRef=useRef();var totalRef=ref||carouselRef;var handleScroll=useCallback(function(event){var x=event.deltaX;var y=event.deltaY;if(x>20&&-5<y<5){var _totalRef$current;return totalRef===null||totalRef===void 0?void 0:(_totalRef$current=totalRef.current)===null||_totalRef$current===void 0?void 0:_totalRef$current.slickNext();}if(x<-20&&-5<y<5){var _totalRef$current2;return totalRef===null||totalRef===void 0?void 0:(_totalRef$current2=totalRef.current)===null||_totalRef$current2===void 0?void 0:_totalRef$current2.slickPrev();}},[totalRef]);var handleMouseOn=useCallback(function(){document.body.style.overscrollBehaviorX='none';},[]);var handleMouseOff=useCallback(function(){document.body.style.overscrollBehaviorX='unset';},[]);useEffect(function(){if(totalRef.current){var _totalRef$current3,_totalRef$current3$in;var slickList=(_totalRef$current3=totalRef.current)===null||_totalRef$current3===void 0?void 0:(_totalRef$current3$in=_totalRef$current3.innerSlider)===null||_totalRef$current3$in===void 0?void 0:_totalRef$current3$in.list;slickList.addEventListener('wheel',handleScroll);slickList.addEventListener('mouseover',handleMouseOn);slickList.addEventListener('mouseout',handleMouseOff);return function(){slickList.removeEventListener('wheel',handleScroll);slickList.removeEventListener('mouseover',handleMouseOn);slickList.removeEventListener('mouseout',handleMouseOff);};}},[totalRef,handleScroll,handleMouseOn,handleMouseOff]);return/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({ref:totalRef,slidesToShow:slidesToShow,arrows:arrows,dots:dots,infinite:infinite,centerMode:centerMode},props),{},{children:children}));});","map":{"version":3,"names":["React","useCallback","useEffect","useRef","Slider","Carousel","forwardRef","ref","slidesToShow","arrows","dots","infinite","centerMode","children","props","carouselRef","totalRef","handleScroll","event","x","deltaX","y","deltaY","current","slickNext","slickPrev","handleMouseOn","document","body","style","overscrollBehaviorX","handleMouseOff","slickList","innerSlider","list","addEventListener","removeEventListener"],"sources":["/workspace/ant-design-react-template/src/components/common/Carousel/Carousel.tsx"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport Slider, { Settings } from 'react-slick';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\n\nexport const Carousel = React.forwardRef<Slider, Settings>(\n  ({ slidesToShow = 1, arrows = false, dots = false, infinite = true, centerMode = true, children, ...props }, ref) => {\n    const carouselRef = useRef();\n\n    const totalRef = ref || carouselRef;\n\n    const handleScroll = useCallback(\n      (event) => {\n        const x = event.deltaX;\n        const y = event.deltaY;\n\n        if (x > 20 && -5 < y < 5) {\n          return totalRef?.current?.slickNext();\n        }\n\n        if (x < -20 && -5 < y < 5) {\n          return totalRef?.current?.slickPrev();\n        }\n      },\n      [totalRef],\n    );\n\n    const handleMouseOn = useCallback(() => {\n      document.body.style.overscrollBehaviorX = 'none';\n    }, []);\n\n    const handleMouseOff = useCallback(() => {\n      document.body.style.overscrollBehaviorX = 'unset';\n    }, []);\n\n    useEffect(() => {\n      if (totalRef.current) {\n        const slickList = totalRef.current?.innerSlider?.list;\n\n        slickList.addEventListener('wheel', handleScroll);\n\n        slickList.addEventListener('mouseover', handleMouseOn);\n\n        slickList.addEventListener('mouseout', handleMouseOff);\n\n        return () => {\n          slickList.removeEventListener('wheel', handleScroll);\n\n          slickList.removeEventListener('mouseover', handleMouseOn);\n\n          slickList.removeEventListener('mouseout', handleMouseOff);\n        };\n      }\n    }, [totalRef, handleScroll, handleMouseOn, handleMouseOff]);\n\n    return (\n      <Slider\n        ref={totalRef}\n        slidesToShow={slidesToShow}\n        arrows={arrows}\n        dots={dots}\n        infinite={infinite}\n        centerMode={centerMode}\n        {...props}\n      >\n        {children}\n      </Slider>\n    );\n  },\n);\n"],"mappings":"yVAAA;AACA;AACA,MAAOA,MAAK,EAAIC,WAAW,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC7D,MAAOC,OAAM,KAAoB,aAAa,CAC9C,MAAO,gCAAgC,CACvC,MAAO,sCAAsC,CAAC,2CAE9C,MAAO,IAAMC,SAAQ,cAAGL,KAAK,CAACM,UAAU,CACtC,cAA6GC,GAAG,CAAK,4BAAlHC,YAAY,CAAZA,YAAY,4BAAG,CAAC,oCAAEC,MAAM,CAANA,MAAM,sBAAG,KAAK,4BAAEC,IAAI,CAAJA,IAAI,oBAAG,KAAK,8BAAEC,QAAQ,CAARA,QAAQ,wBAAG,IAAI,oCAAEC,UAAU,CAAVA,UAAU,0BAAG,IAAI,iBAAEC,QAAQ,MAARA,QAAQ,CAAKC,KAAK,0CACvG,GAAMC,YAAW,CAAGZ,MAAM,EAAE,CAE5B,GAAMa,SAAQ,CAAGT,GAAG,EAAIQ,WAAW,CAEnC,GAAME,aAAY,CAAGhB,WAAW,CAC9B,SAACiB,KAAK,CAAK,CACT,GAAMC,EAAC,CAAGD,KAAK,CAACE,MAAM,CACtB,GAAMC,EAAC,CAAGH,KAAK,CAACI,MAAM,CAEtB,GAAIH,CAAC,CAAG,EAAE,EAAI,CAAC,CAAC,CAAGE,CAAC,CAAG,CAAC,CAAE,uBACxB,MAAOL,SAAQ,SAARA,QAAQ,oCAARA,QAAQ,CAAEO,OAAO,4CAAjB,kBAAmBC,SAAS,EAAE,CACvC,CAEA,GAAIL,CAAC,CAAG,CAAC,EAAE,EAAI,CAAC,CAAC,CAAGE,CAAC,CAAG,CAAC,CAAE,wBACzB,MAAOL,SAAQ,SAARA,QAAQ,qCAARA,QAAQ,CAAEO,OAAO,6CAAjB,mBAAmBE,SAAS,EAAE,CACvC,CACF,CAAC,CACD,CAACT,QAAQ,CAAC,CACX,CAED,GAAMU,cAAa,CAAGzB,WAAW,CAAC,UAAM,CACtC0B,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,mBAAmB,CAAG,MAAM,CAClD,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMC,eAAc,CAAG9B,WAAW,CAAC,UAAM,CACvC0B,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,mBAAmB,CAAG,OAAO,CACnD,CAAC,CAAE,EAAE,CAAC,CAEN5B,SAAS,CAAC,UAAM,CACd,GAAIc,QAAQ,CAACO,OAAO,CAAE,8CACpB,GAAMS,UAAS,qBAAGhB,QAAQ,CAACO,OAAO,oEAAhB,mBAAkBU,WAAW,gDAA7B,sBAA+BC,IAAI,CAErDF,SAAS,CAACG,gBAAgB,CAAC,OAAO,CAAElB,YAAY,CAAC,CAEjDe,SAAS,CAACG,gBAAgB,CAAC,WAAW,CAAET,aAAa,CAAC,CAEtDM,SAAS,CAACG,gBAAgB,CAAC,UAAU,CAAEJ,cAAc,CAAC,CAEtD,MAAO,WAAM,CACXC,SAAS,CAACI,mBAAmB,CAAC,OAAO,CAAEnB,YAAY,CAAC,CAEpDe,SAAS,CAACI,mBAAmB,CAAC,WAAW,CAAEV,aAAa,CAAC,CAEzDM,SAAS,CAACI,mBAAmB,CAAC,UAAU,CAAEL,cAAc,CAAC,CAC3D,CAAC,CACH,CACF,CAAC,CAAE,CAACf,QAAQ,CAAEC,YAAY,CAAES,aAAa,CAAEK,cAAc,CAAC,CAAC,CAE3D,mBACE,KAAC,MAAM,8BACL,GAAG,CAAEf,QAAS,CACd,YAAY,CAAER,YAAa,CAC3B,MAAM,CAAEC,MAAO,CACf,IAAI,CAAEC,IAAK,CACX,QAAQ,CAAEC,QAAS,CACnB,UAAU,CAAEC,UAAW,EACnBE,KAAK,eAERD,QAAQ,GACF,CAEb,CAAC,CACF"},"metadata":{},"sourceType":"module"}