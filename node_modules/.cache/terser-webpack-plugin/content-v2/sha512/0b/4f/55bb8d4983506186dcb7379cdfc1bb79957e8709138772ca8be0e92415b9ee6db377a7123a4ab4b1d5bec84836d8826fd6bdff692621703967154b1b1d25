{"code":"(this[\"webpackJsonplightence-admin\"]=this[\"webpackJsonplightence-admin\"]||[]).push([[54],{2542:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return z})),n.d(e,\"b\",(function(){return S}));var o=n(0),a=n.n(o);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return!0;t=t.parentElement}return!1}function u(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}function h(t,e,n){return\"https://\"+String.fromCharCode(97+(t+e+n)%3)+\".tile.openstreetmap.org/\"+n+\"/\"+t+\"/\"+e+\".png\"}var c=function(){return!0},m=function(t,e){return(t+180)/360*Math.pow(2,e)},p=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)};function d(t,e){return t/Math.pow(2,e)*360-180}function f(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function v(t,e){var n=u(t);return[e.clientX-n.x,e.clientY-n.y]}var g=[f(Math.pow(2,10),10),f(0,10),d(0,10),d(Math.pow(2,10),10)],_=\"undefined\"!==typeof window,w=_&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var t=(new Date).getTime();return function(){return(new Date).getTime()-t}}(),M=function(t){return _?(window.requestAnimationFrame||window.setTimeout)(t):(t((new Date).getTime()),null)},x=function(t){return!(!_||!t)&&(window.cancelAnimationFrame||window.clearTimeout)(t)};function T(t,e,n,o,a){return t&&0!==t.length?t.map((function(t){return e(n,o,a,t)+(1===t?\"\":\" \"+t+\"x\")})).join(\", \"):\"\"}var S=function(t){var e,n;function o(e){var n,o,a,r,i,s,u,h,_;return(_=t.call(this,e)||this)._dragStart=null,_._mouseDown=!1,_._moveEvents=[],_._lastClick=null,_._lastTap=null,_._lastWheel=null,_._touchStartPixel=null,_._touchStartMidPoint=null,_._touchStartDistance=null,_._secondTouchEnd=null,_._warningClearTimeout=null,_._isAnimating=!1,_._animationStart=null,_._animationEnd=null,_._zoomStart=null,_._centerTarget=null,_._zoomTarget=null,_._zoomAround=null,_._animFrame=null,_._boundsSynced=!1,_._minMaxCache=null,_._resizeObserver=null,_.updateWidthHeight=function(){if(_._containerRef){var t=_._containerRef.getBoundingClientRect();if(t&&t.width>0&&t.height>0)return _.setState({width:t.width,height:t.height}),!0}return!1},_.wa=function(){var t;return(t=window).addEventListener.apply(t,arguments)},_.wr=function(){var t;return(t=window).removeEventListener.apply(t,arguments)},_.bindMouseEvents=function(){_.wa(\"mousedown\",_.handleMouseDown),_.wa(\"mouseup\",_.handleMouseUp),_.wa(\"mousemove\",_.handleMouseMove)},_.bindTouchEvents=function(){_.wa(\"touchstart\",_.handleTouchStart,{passive:!1}),_.wa(\"touchmove\",_.handleTouchMove,{passive:!1}),_.wa(\"touchend\",_.handleTouchEnd,{passive:!1})},_.unbindMouseEvents=function(){_.wr(\"mousedown\",_.handleMouseDown),_.wr(\"mouseup\",_.handleMouseUp),_.wr(\"mousemove\",_.handleMouseMove)},_.unbindTouchEvents=function(){_.wr(\"touchstart\",_.handleTouchStart),_.wr(\"touchmove\",_.handleTouchMove),_.wr(\"touchend\",_.handleTouchEnd)},_.bindResizeEvent=function(){_.wa(\"resize\",_.updateWidthHeight)},_.unbindResizeEvent=function(){_.wr(\"resize\",_.updateWidthHeight)},_.bindWheelEvent=function(){_._containerRef&&_._containerRef.addEventListener(\"wheel\",_.handleWheel,{passive:!1})},_.unbindWheelEvent=function(){_._containerRef&&_._containerRef.removeEventListener(\"wheel\",_.handleWheel)},_.setCenterZoomTarget=function(t,e,n,o,a){if(void 0===n&&(n=!1),void 0===o&&(o=null),void 0===a&&(a=300),_.props.animate&&(!n||_.distanceInScreens(t,e,_.state.center,_.state.zoom)<=_.props.animateMaxScreens)){if(_._isAnimating){x(_._animFrame);var r=_.animationStep(w()),i=r.centerStep,s=r.zoomStep;_._centerStart=i,_._zoomStart=s}else _._isAnimating=!0,_._centerStart=_.limitCenterAtZoom([_._lastCenter[0],_._lastCenter[1]],_._lastZoom),_._zoomStart=_._lastZoom,_.onAnimationStart();_._animationStart=w(),_._animationEnd=_._animationStart+a,o?(_._zoomAround=o,_._centerTarget=_.calculateZoomCenter(_._lastCenter,o,_._lastZoom,e)):(_._zoomAround=null,_._centerTarget=t),_._zoomTarget=e,_._animFrame=M(_.animate)}else if(_.stopAnimating(),o){var l=_.calculateZoomCenter(_._lastCenter,o,_._lastZoom,e);_.setCenterZoom(l,e,n)}else _.setCenterZoom(t||_.state.center,e,n)},_.setCenterZoomForChildren=function(t,e){_.setCenterZoomTarget(t||_.state.center,e||_.state.zoom,!0)},_.distanceInScreens=function(t,e,n,o){var a=_.state,r=a.width,i=a.height,s=_.latLngToPixel(n,n,o),l=_.latLngToPixel(t,n,o),u=_.latLngToPixel(n,n,e),h=_.latLngToPixel(t,n,e),c=(Math.abs(s[0]-l[0])+Math.abs(u[0]-h[0]))/2/r,m=(Math.abs(s[1]-l[1])+Math.abs(u[1]-h[1]))/2/i;return Math.sqrt(c*c+m*m)},_.animationStep=function(t){if(!_._animationEnd||!_._animationStart||!_._zoomTarget||!_._zoomStart||!_._centerStart||!_._centerTarget)return{centerStep:_.state.center,zoomStep:_.state.zoom};var e,n=_._animationEnd-_._animationStart,o=Math.max(t-_._animationStart,0),a=(e=o/n)*(2-e),r=(_._zoomTarget-_._zoomStart)*a,i=_._zoomStart+r;return _._zoomAround?{centerStep:_.calculateZoomCenter(_._centerStart,_._zoomAround,_._zoomStart,i),zoomStep:i}:{centerStep:[_._centerStart[0]+(_._centerTarget[0]-_._centerStart[0])*a,_._centerStart[1]+(_._centerTarget[1]-_._centerStart[1])*a],zoomStep:i}},_.animate=function(t){if(!_._animationEnd||t>=_._animationEnd)_._isAnimating=!1,_.setCenterZoom(_._centerTarget,_._zoomTarget,!0),_.onAnimationStop();else{var e=_.animationStep(t),n=e.centerStep,o=e.zoomStep;_.setCenterZoom(n,o),_._animFrame=M(_.animate)}},_.stopAnimating=function(){_._isAnimating&&(_._isAnimating=!1,_.onAnimationStop(),x(_._animFrame))},_.limitCenterAtZoom=function(t,e){var n=_.getBoundsMinMax(e||_.state.zoom);return[Math.max(Math.min(!t||isNaN(t[0])?_.state.center[0]:t[0],n[1]),n[0]),Math.max(Math.min(!t||isNaN(t[1])?_.state.center[1]:t[1],n[3]),n[2])]},_.onAnimationStart=function(){_.props.onAnimationStart&&_.props.onAnimationStart()},_.onAnimationStop=function(){_.props.onAnimationStop&&_.props.onAnimationStop()},_.setCenterZoom=function(t,e,n){void 0===n&&(n=!1);var o=_.limitCenterAtZoom(t,e);if(e&&Math.round(_.state.zoom)!==Math.round(e)){var a=_.tileValues(_.state),r=_.tileValues({center:o,zoom:e,width:_.state.width,height:_.state.height}),i=_.state.oldTiles;_.setState({oldTiles:i.filter((function(t){return t.roundedZoom!==a.roundedZoom})).concat(a)},c);for(var s={},l=r.tileMinX;l<=r.tileMaxX;l++)for(var u=r.tileMinY;u<=r.tileMaxY;u++){s[l+\"-\"+u+\"-\"+r.roundedZoom]=!1}_._loadTracker=s}_.setState({center:o,zoom:e||_.state.zoom},c);var h=_.props.zoom?_.props.zoom:_._lastZoom,m=_.props.center?_.props.center:_._lastCenter;e&&(n||Math.abs(h-e)>.001||Math.abs(m[0]-o[0])>1e-5||Math.abs(m[1]-o[1])>1e-5)&&(_._lastZoom=e,_._lastCenter=[].concat(o),_.syncToProps(o,e))},_.getBoundsMinMax=function(t){if(\"center\"===_.props.limitBounds)return g;var e=_.state,n=e.width,o=e.height;if(_._minMaxCache&&_._minMaxCache[0]===t&&_._minMaxCache[1]===n&&_._minMaxCache[2]===o)return _._minMaxCache[3];var a=256*Math.pow(2,t),r=n>a?0:d(n/512,t),i=o>a?0:f(Math.pow(2,t)-o/512,t),s=n>a?0:d(Math.pow(2,t)-n/512,t),l=[i,o>a?0:f(o/512,t),r,s];return _._minMaxCache=[t,n,o,l],l},_.imageLoaded=function(t){_._loadTracker&&t in _._loadTracker&&(_._loadTracker[t]=!0,0===Object.values(_._loadTracker).filter((function(t){return!t})).length&&_.setState({oldTiles:[]},c))},_.handleTouchStart=function(t){if(_._containerRef&&(!t.target||!l(t.target,\"pigeon-drag-block\")))if(1===t.touches.length){var e=t.touches[0],n=v(_._containerRef,e);if(_.coordsInside(n)&&(_._touchStartPixel=[n],!_.props.twoFingerDrag))if(_.stopAnimating(),_._lastTap&&w()-_._lastTap<300){t.preventDefault();var o=_.pixelToLatLng(_._touchStartPixel[0]);_.setCenterZoomTarget(null,Math.max(_.props.minZoom,Math.min(_.state.zoom+1,_.props.maxZoom)),!1,o)}else _._lastTap=w(),_.trackMoveEvents(n)}else if(2===t.touches.length&&_._touchStartPixel){t.preventDefault(),_.stopTrackingMoveEvents(),(_.state.pixelDelta||_.state.zoomDelta)&&_.sendDeltaChange();var a=v(_._containerRef,t.touches[0]),r=v(_._containerRef,t.touches[1]);_._touchStartPixel=[a,r],_._touchStartMidPoint=[(a[0]+r[0])/2,(a[1]+r[1])/2],_._touchStartDistance=Math.sqrt(Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2))}},_.handleTouchMove=function(t){if(_._containerRef){if(1===t.touches.length&&_._touchStartPixel){var e=t.touches[0],n=v(_._containerRef,e);_.props.twoFingerDrag?_.coordsInside(n)&&_.showWarning(\"fingers\"):(t.preventDefault(),_.trackMoveEvents(n),_.setState({pixelDelta:[n[0]-_._touchStartPixel[0][0],n[1]-_._touchStartPixel[0][1]]},c))}else if(2===t.touches.length&&_._touchStartPixel&&_._touchStartMidPoint&&_._touchStartDistance){var o=_.state,a=o.width,r=o.height,i=o.zoom;t.preventDefault();var s=v(_._containerRef,t.touches[0]),l=v(_._containerRef,t.touches[1]),u=[(s[0]+l[0])/2,(s[1]+l[1])/2],h=[u[0]-_._touchStartMidPoint[0],u[1]-_._touchStartMidPoint[1]],m=Math.sqrt(Math.pow(s[0]-l[0],2)+Math.pow(s[1]-l[1],2)),p=Math.max(_.props.minZoom,Math.min(_.props.maxZoom,i+Math.log2(m/_._touchStartDistance)))-i,d=Math.pow(2,p),f=[(a/2-u[0])*(d-1),(r/2-u[1])*(d-1)];_.setState({zoomDelta:p,pixelDelta:[f[0]+h[0]*d,f[1]+h[1]*d]},c)}}else _._touchStartPixel=null},_.handleTouchEnd=function(t){if(_._containerRef){if(_._touchStartPixel){var e=_.props,n=e.zoomSnap,o=e.twoFingerDrag,a=e.minZoom,r=e.maxZoom,i=_.state.zoomDelta,s=_.sendDeltaChange(),l=s.center,u=s.zoom;if(0===t.touches.length)if(o)_.clearWarning();else{var h=_._touchStartPixel[0],c=v(_._containerRef,t.changedTouches[0]);(Math.abs(h[0]-c[0])>2||Math.abs(h[1]-c[1])>2)&&(!_._secondTouchEnd||w()-_._secondTouchEnd>300)&&(t.preventDefault(),_.throwAfterMoving(c,l,u)),_._touchStartPixel=null,_._secondTouchEnd=null}else if(1===t.touches.length){t.preventDefault();var m=v(_._containerRef,t.touches[0]);if(_._secondTouchEnd=w(),_._touchStartPixel=[m],_.trackMoveEvents(m),n){var p,d=_._touchStartMidPoint?_.pixelToLatLng(_._touchStartMidPoint):_.state.center;p=o&&Math.round(_.state.zoom)===Math.round(_.state.zoom+i)?Math.round(_.state.zoom):i>0?Math.ceil(_.state.zoom):Math.floor(_.state.zoom);var f=Math.max(a,Math.min(p,r));_.setCenterZoomTarget(d,f,!1,d)}}}}else _._touchStartPixel=null},_.handleMouseDown=function(t){if(_._containerRef){var e=v(_._containerRef,t);if(0===t.button&&(!t.target||!l(t.target,\"pigeon-drag-block\"))&&_.coordsInside(e))if(_.stopAnimating(),t.preventDefault(),_._lastClick&&w()-_._lastClick<300){if(!l(t.target,\"pigeon-click-block\")){var n=_.pixelToLatLng(_._mousePosition||e);_.setCenterZoomTarget(null,Math.max(_.props.minZoom,Math.min(_.state.zoom+1,_.props.maxZoom)),!1,n)}}else _._lastClick=w(),_._mouseDown=!0,_._dragStart=e,_.trackMoveEvents(e)}},_.handleMouseMove=function(t){_._containerRef&&(_._mousePosition=v(_._containerRef,t),_._mouseDown&&_._dragStart&&(_.trackMoveEvents(_._mousePosition),_.setState({pixelDelta:[_._mousePosition[0]-_._dragStart[0],_._mousePosition[1]-_._dragStart[1]]},c)))},_.handleMouseUp=function(t){if(_._containerRef){var e=_.state.pixelDelta;if(_._mouseDown){_._mouseDown=!1;var n=v(_._containerRef,t);if(!_.props.onClick||t.target&&l(t.target,\"pigeon-click-block\")||e&&!(Math.abs(e[0])+Math.abs(e[1])<=2)){var o=_.sendDeltaChange(),a=o.center,r=o.zoom;_.throwAfterMoving(n,a,r)}else{var i=_.pixelToLatLng(n);_.props.onClick({event:t,latLng:i,pixel:n}),_.setState({pixelDelta:void 0},c)}}}else _._mouseDown=!1},_.stopTrackingMoveEvents=function(){_._moveEvents=[]},_.trackMoveEvents=function(t){var e=w();(0===_._moveEvents.length||e-_._moveEvents[_._moveEvents.length-1].timestamp>40)&&(_._moveEvents.push({timestamp:e,coords:t}),_._moveEvents.length>2&&_._moveEvents.shift())},_.throwAfterMoving=function(t,e,n){var o=_.state,a=o.width,r=o.height,i=_.props.animate,s=w(),l=_._moveEvents.shift();if(l&&i){var u=Math.max(s-l.timestamp,1),h=[(t[0]-l.coords[0])/u*120,(t[1]-l.coords[1])/u*120],c=Math.sqrt(h[0]*h[0]+h[1]*h[1]);if(c>40){var v=1500*c/Math.sqrt(a*a+r*r),g=d(m(e[1],n)-h[0]/256,n),M=f(p(e[0],n)-h[1]/256,n);_.setCenterZoomTarget([M,g],n,!1,null,v)}}_.stopTrackingMoveEvents()},_.sendDeltaChange=function(){var t=_.state,e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=e[0],i=e[1];return(o||0!==a)&&(i=d(m(e[1],n+a)-(o?o[0]/256:0),n+a),r=f(p(e[0],n+a)-(o?o[1]/256:0),n+a),_.setCenterZoom([r,i],n+a)),_.setState({pixelDelta:void 0,zoomDelta:0},c),{center:_.limitCenterAtZoom([r,i],n+a),zoom:n+a}},_.getBounds=function(t,e){void 0===t&&(t=_.state.center),void 0===e&&(e=_.zoomPlusDelta());var n=_.state,o=n.width,a=n.height;return{ne:_.pixelToLatLng([o-1,0],t,e),sw:_.pixelToLatLng([0,a-1],t,e)}},_.syncToProps=function(t,e){void 0===t&&(t=_.state.center),void 0===e&&(e=_.state.zoom);var n=_.props.onBoundsChanged;n&&(n({center:t,zoom:e,bounds:_.getBounds(t,e),initial:!_._boundsSynced}),_._boundsSynced=!0)},_.handleWheel=function(t){var e=_.props,n=e.mouseEvents,o=e.metaWheelZoom,a=e.zoomSnap,r=e.animate;if(n)if(!o||t.metaKey||t.ctrlKey){t.preventDefault();var i=-t.deltaY/150;if(!a&&_._zoomTarget){var s=_._zoomTarget-_.state.zoom;_.zoomAroundMouse(i+s,t)}else r?_.zoomAroundMouse(i,t):(!_._lastWheel||w()-_._lastWheel>300)&&(_._lastWheel=w(),_.zoomAroundMouse(i,t))}else _.showWarning(\"wheel\")},_.showWarning=function(t){_.state.showWarning&&_.state.warningType===t||_.setState({showWarning:!0,warningType:t}),_._warningClearTimeout&&window.clearTimeout(_._warningClearTimeout),_._warningClearTimeout=window.setTimeout(_.clearWarning,300)},_.clearWarning=function(){_.state.showWarning&&_.setState({showWarning:!1})},_.zoomAroundMouse=function(t,e){if(_._containerRef){var n=_.state.zoom,o=_.props,a=o.minZoom,r=o.maxZoom,i=o.zoomSnap;if(_._mousePosition=v(_._containerRef,e),!(!_._mousePosition||n===a&&t<0||n===r&&t>0)){var s=_.pixelToLatLng(_._mousePosition),l=n+t;i&&(l=t<0?Math.floor(l):Math.ceil(l)),l=Math.max(a,Math.min(l,r)),_.setCenterZoomTarget(null,l,!1,s)}}},_.zoomPlusDelta=function(){return _.state.zoom+_.state.zoomDelta},_.pixelToLatLng=function(t,e,n){void 0===e&&(e=_.state.center),void 0===n&&(n=_.zoomPlusDelta());var o=_.state,a=o.width,r=o.height,i=o.pixelDelta,s=[(t[0]-a/2-(i?i[0]:0))/256,(t[1]-r/2-(i?i[1]:0))/256],l=m(e[1],n)+s[0],u=p(e[0],n)+s[1];return[Math.max(g[0],Math.min(g[1],f(u,n))),Math.max(g[2],Math.min(g[3],d(l,n)))]},_.latLngToPixel=function(t,e,n){void 0===e&&(e=_.state.center),void 0===n&&(n=_.zoomPlusDelta());var o=_.state,a=o.width,r=o.height,i=o.pixelDelta,s=m(e[1],n),l=p(e[0],n),u=m(t[1],n),h=p(t[0],n);return[256*(u-s)+a/2+(i?i[0]:0),256*(h-l)+r/2+(i?i[1]:0)]},_.calculateZoomCenter=function(t,e,n,o){var a=_.state,r=a.width,i=a.height,s=_.latLngToPixel(e,t,n),l=_.latLngToPixel(e,t,o),u=_.pixelToLatLng([r/2+l[0]-s[0],i/2+l[1]-s[1]],t,o);return _.limitCenterAtZoom(u,o)},_.setRef=function(t){_._containerRef=t},_.syncToProps=function(t,e){var n;return function(){for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];var i=this;clearTimeout(n),n=setTimeout((function(){return t.apply(i,a)}),e)}}(_.syncToProps,60),_._lastZoom=null!==(n=null!==(o=e.defaultZoom)&&void 0!==o?o:e.zoom)&&void 0!==n?n:14,_._lastCenter=null!==(a=null!==(r=e.defaultCenter)&&void 0!==r?r:e.center)&&void 0!==a?a:[0,0],_.state={zoom:_._lastZoom,center:_._lastCenter,width:null!==(i=null!==(s=e.width)&&void 0!==s?s:e.defaultWidth)&&void 0!==i?i:-1,height:null!==(u=null!==(h=e.height)&&void 0!==h?h:e.defaultHeight)&&void 0!==u?u:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},_}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var t=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(this.updateWidthHeight()||M(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),\"undefined\"!==typeof window.ResizeObserver&&(this._resizeObserver=new window.ResizeObserver((function(){t.updateWidthHeight()})),this._resizeObserver.observe(this._containerRef))},r.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),this.props.width&&this.props.height||this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},r.componentDidUpdate=function(t){var e;if(this.props.mouseEvents!==t.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==t.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==t.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==t.height&&this.setState({height:this.props.height}),(this.props.center||this.props.zoom)&&(this.props.center&&(this.props.center[0]!==(null===t||void 0===t||null===(e=t.center)||void 0===e?void 0:e[0])||this.props.center[1]!==t.center[1])||this.props.zoom!==t.zoom)){var n=this._isAnimating?this._centerTarget:this.state.center,o=this._isAnimating?this._zoomTarget:this.state.zoom;if(n&&o){var a,r,i=null!==(a=this.props.center)&&void 0!==a?a:n,s=null!==(r=this.props.zoom)&&void 0!==r?r:o;(Math.abs(s-o)>.001||Math.abs(i[0]-n[0])>1e-4||Math.abs(i[1]-n[1])>1e-4)&&this.setCenterZoomTarget(i,s,!0)}}},r.coordsInside=function(t){var e=this.state,n=e.width,o=e.height;if(t[0]<0||t[1]<0||t[0]>=n||t[1]>=o)return!1;var a=this._containerRef;if(a){var r=u(a),i=document.elementFromPoint(t[0]+r.x,t[1]+r.y);return a===i||a.contains(i)}return!1},r.tileValues=function(t){var e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=t.width,i=t.height,s=Math.round(n+(a||0)),l=n+(a||0)-s,u=Math.pow(2,l),h=r/u,c=i/u,d=m(e[1],s)-(o?o[0]/256/u:0),f=p(e[0],s)-(o?o[1]/256/u:0),v=h/2/256,g=c/2/256;return{tileMinX:Math.floor(d-v),tileMaxX:Math.floor(d+v),tileMinY:Math.floor(f-g),tileMaxY:Math.floor(f+g),tileCenterX:d,tileCenterY:f,roundedZoom:s,zoomDelta:a||0,scaleWidth:h,scaleHeight:c,scale:u}},r.renderTiles=function(){for(var t=this,e=this.state,n=e.oldTiles,o=e.width,r=e.height,i=this.props.dprs,s=this.props.provider||h,l=this.tileValues(this.state),u=l.tileMinX,c=l.tileMaxX,m=l.tileMinY,p=l.tileMaxY,d=l.tileCenterX,f=l.tileCenterY,v=l.roundedZoom,g=l.scaleWidth,_=l.scaleHeight,w=l.scale,M=[],x=0;x<n.length;x++){var S=n[x],b=S.roundedZoom-v;if(!(Math.abs(b)>4||0===b))for(var z=1/Math.pow(2,b),E=256*-(u-S.tileMinX*z),D=256*-(m-S.tileMinY*z),C=Math.max(S.tileMinX,0),y=Math.max(S.tileMinY,0),P=Math.min(S.tileMaxX,Math.pow(2,S.roundedZoom)-1),Z=Math.min(S.tileMaxY,Math.pow(2,S.roundedZoom)-1),L=C;L<=P;L++)for(var A=y;A<=Z;A++)M.push({key:L+\"-\"+A+\"-\"+S.roundedZoom,url:s(L,A,S.roundedZoom),srcSet:T(i,s,L,A,S.roundedZoom),left:E+256*(L-S.tileMinX)*z,top:D+256*(A-S.tileMinY)*z,width:256*z,height:256*z,active:!1})}for(var W=Math.max(u,0),k=Math.max(m,0),R=Math.min(c,Math.pow(2,v)-1),O=Math.min(p,Math.pow(2,v)-1),Y=W;Y<=R;Y++)for(var X=k;X<=O;X++)M.push({key:Y+\"-\"+X+\"-\"+v,url:s(Y,X,v),srcSet:T(i,s,Y,X,v),left:256*(Y-u),top:256*(X-m),width:256,height:256,active:!0});var j={width:g,height:_,position:\"absolute\",top:\"calc((100% - \"+r+\"px) / 2)\",left:\"calc((100% - \"+o+\"px) / 2)\",overflow:\"hidden\",willChange:\"transform\",transform:\"scale(\"+w+\", \"+w+\")\",transformOrigin:\"top left\"},F=this.props.boxClassname||\"pigeon-tiles-box\",I={position:\"absolute\",width:256*(c-u+1),height:256*(p-m+1),willChange:\"transform\",transform:\"translate(\"+-(256*(d-u)-g/2)+\"px, \"+-(256*(f-m)-_/2)+\"px)\"};return a.a.createElement(\"div\",{style:j,className:F},a.a.createElement(\"div\",{className:\"pigeon-tiles\",style:I},M.map((function(e){return a.a.createElement(\"img\",{key:e.key,src:e.url,srcSet:e.srcSet,width:e.width,height:e.height,loading:\"lazy\",onLoad:function(){return t.imageLoaded(e.key)},alt:\"\",style:{position:\"absolute\",left:e.left,top:e.top,willChange:\"transform\",transformOrigin:\"top left\",opacity:1}})}))))},r.renderOverlays=function(){var t=this,e=this.state,n=e.width,o=e.height,r=e.center,i={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:r,width:n,height:o},s=a.a.Children.map(this.props.children,(function(e){if(!e)return null;if(!a.a.isValidElement(e))return e;var n=e.props,o=n.anchor,s=n.position,l=n.offset,u=t.latLngToPixel(o||s||r);return a.a.cloneElement(e,{left:u[0]-(l?l[0]:0),top:u[1]-(l?l[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,setCenterZoom:t.setCenterZoomForChildren,mapProps:t.props,mapState:i})})),l={position:\"absolute\",width:n,height:o,top:\"calc((100% - \"+o+\"px) / 2)\",left:\"calc((100% - \"+n+\"px) / 2)\"};return a.a.createElement(\"div\",{className:\"pigeon-overlays\",style:l},s)},r.renderAttribution=function(){var t=this.props,e=t.attribution,n=t.attributionPrefix;if(!1===e)return null;var o={color:\"#0078A8\",textDecoration:\"none\"};return a.a.createElement(\"div\",{key:\"attr\",className:\"pigeon-attribution\",style:{position:\"absolute\",bottom:0,right:0,fontSize:\"11px\",padding:\"2px 5px\",background:\"rgba(255, 255, 255, 0.7)\",fontFamily:\"'Helvetica Neue', Helvetica, Arial, sans-serif\",color:\"#333\"}},!1===n?null:a.a.createElement(\"span\",null,n||a.a.createElement(\"a\",{href:\"https://pigeon-maps.js.org/\",style:o,target:\"_blank\",rel:\"noreferrer noopener\"},\"Pigeon\"),\" | \"),e||a.a.createElement(\"span\",null,\" \\xa9 \",a.a.createElement(\"a\",{href:\"https://www.openstreetmap.org/copyright\",style:o,target:\"_blank\",rel:\"noreferrer noopener\"},\"OpenStreetMap\"),\" contributors\"))},r.renderWarning=function(){var t=this.props,e=t.metaWheelZoom,n=t.metaWheelZoomWarning,o=t.twoFingerDrag,r=t.twoFingerDragWarning,i=t.warningZIndex,s=this.state,l=s.showWarning,u=s.warningType,h=s.width,c=s.height;if(e&&n||o&&r){var m={position:\"absolute\",top:0,left:0,width:h,height:c,overflow:\"hidden\",pointerEvents:\"none\",opacity:l?100:0,transition:\"opacity 300ms\",background:\"rgba(0,0,0,0.5)\",color:\"#fff\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",fontSize:22,fontFamily:'\"Arial\", sans-serif',textAlign:\"center\",zIndex:i},p=\"undefined\"!==typeof window&&window.navigator&&window.navigator.platform.toUpperCase().indexOf(\"MAC\")>=0?\"\\u2318\":\"ctrl\",d=\"fingers\"===u?r:n;return a.a.createElement(\"div\",{className:\"pigeon-overlay-warning\",style:m},d.replace(\"META\",p))}return null},r.render=function(){var t=this.props,e=t.touchEvents,n=t.twoFingerDrag,o=this.state,r=o.width,i=o.height,s={width:this.props.width?r:\"100%\",height:this.props.height?i:\"100%\",position:\"relative\",display:\"inline-block\",overflow:\"hidden\",background:\"#dddddd\",touchAction:e?n?\"pan-x pan-y\":\"none\":\"auto\"},l=!(!r||!i);return a.a.createElement(\"div\",{style:s,ref:this.setRef},l&&this.renderTiles(),l&&this.renderOverlays(),l&&this.renderAttribution(),l&&this.renderWarning())},o}(o.Component);S.defaultProps={animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:\"Use META + wheel to zoom!\",twoFingerDrag:!1,twoFingerDragWarning:\"Use two fingers to move the map\",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:\"center\",dprs:[]};var b={isDragging:!1,startX:void 0,startY:void 0,startLeft:void 0,startTop:void 0,deltaX:0,deltaY:0};function z(t){var e=Object(o.useRef)(),n=Object(o.useRef)(t),r=Object(o.useRef)(s({},b)),i=Object(o.useState)(b),l=i[0],u=i[1];n.current=t;var h=function(t){var e=s(s({},r.current),t);r.current=e,u(e)},c=t.mapProps,m=c.mouseEvents,p=c.touchEvents;Object(o.useEffect)((function(){var t=function(t){if(function(t,e){for(;t;){if(t===e)return!0;t=t.parentElement}return!1}(t.target,e.current)&&(t.preventDefault(),h({isDragging:!0,startX:(\"touches\"in t?t.touches[0]:t).clientX,startY:(\"touches\"in t?t.touches[0]:t).clientY,startLeft:n.current.left,startTop:n.current.top,deltaX:0,deltaY:0}),n.current.onDragStart)){var o=n.current,a=o.left,r=o.top,i=o.offset,s=o.pixelToLatLng;n.current.onDragMove(s([a+(i?i[0]:0),r+(i?i[1]:0)]))}},o=function(t){if(r.current.isDragging){t.preventDefault();var e=(\"touches\"in t?t.touches[0]:t).clientX,o=(\"touches\"in t?t.touches[0]:t).clientY,a=e-r.current.startX,i=o-r.current.startY;if(h({deltaX:a,deltaY:i}),n.current.onDragMove){var s=n.current,l=s.offset,u=s.pixelToLatLng,c=r.current,m=c.startLeft,p=c.startTop;n.current.onDragMove(u([m+a+(l?l[0]:0),p+i+(l?l[1]:0)]))}}},a=function(t){var e,o;if(r.current.isDragging){t.preventDefault();var a=n.current,i=a.offset,s=a.pixelToLatLng,l=r.current,u=l.deltaX,c=l.deltaY,m=l.startLeft,p=l.startTop;null===(e=(o=n.current).onDragEnd)||void 0===e||e.call(o,s([m+u+(i?i[0]:0),p+c+(i?i[1]:0)])),h({isDragging:!1,startX:void 0,startY:void 0,startLeft:void 0,startTop:void 0,deltaX:0,deltaY:0})}},i=function(t,e,n){return window.addEventListener(t,e,n)},s=function(t,e){return window.removeEventListener(t,e)};return m&&(i(\"mousedown\",t),i(\"mousemove\",o),i(\"mouseup\",a)),p&&(i(\"touchstart\",t,{passive:!1}),i(\"touchmove\",o,{passive:!1}),i(\"touchend\",a,{passive:!1})),function(){m&&(s(\"mousedown\",t),s(\"mousemove\",o),s(\"mouseup\",a)),p&&(s(\"touchstart\",t),s(\"touchmove\",o),s(\"touchend\",a))}}),[m,p]);var d=t.left,f=t.top,v=t.className,g=t.style,_=l.deltaX,w=l.deltaY,M=l.startLeft,x=l.startTop,T=l.isDragging;return a.a.createElement(\"div\",{style:s(s({cursor:T?\"grabbing\":\"grab\"},g||{}),{},{position:\"absolute\",transform:\"translate(\"+(T?M+_:d)+\"px, \"+(T?x+w:f)+\"px)\"}),ref:e,className:\"pigeon-drag-block\"+(v?\" \"+v:\"\")},t.children)}},2543:function(t,e,n){\"use strict\";function o(t,e,n,o){return void 0===o&&(o=1),\"https://stamen-tiles.a.ssl.fastly.net/terrain/\"+n+\"/\"+t+\"/\"+e+(o>=2?\"@2x\":\"\")+\".jpg\"}n.d(e,\"a\",(function(){return o}))}}]);","name":"static/js/54.032fa80e.chunk.js","map":{"version":3,"sources":["static/js/54.032fa80e.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","d","Draggable","Map","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","parentHasClass","element","className","classList","contains","parentElement","parentPosition","rect","getBoundingClientRect","x","left","y","top","osm","z","String","fromCharCode","NOOP","lng2tile","lon","zoom","Math","pow","lat2tile","lat","log","tan","PI","cos","tile2lng","tile2lat","atan","exp","getMousePixel","dom","event","parent","clientX","clientY","absoluteMinMax","hasWindow","window","performanceNow","performance","now","timeStart","Date","getTime","requestAnimationFrame","callback","setTimeout","cancelAnimationFrame","animFrame","clearTimeout","srcSet","dprs","url","map","dpr","join","_Component","subClass","superClass","props","_ref","_props$defaultZoom","_ref2","_props$defaultCenter","_ref3","_props$width","_ref4","_props$height","_this","call","_dragStart","_mouseDown","_moveEvents","_lastClick","_lastTap","_lastWheel","_touchStartPixel","_touchStartMidPoint","_touchStartDistance","_secondTouchEnd","_warningClearTimeout","_isAnimating","_animationStart","_animationEnd","_zoomStart","_centerTarget","_zoomTarget","_zoomAround","_animFrame","_boundsSynced","_minMaxCache","_resizeObserver","updateWidthHeight","_containerRef","width","height","setState","wa","_window","addEventListener","wr","_window2","removeEventListener","bindMouseEvents","handleMouseDown","handleMouseUp","handleMouseMove","bindTouchEvents","handleTouchStart","passive","handleTouchMove","handleTouchEnd","unbindMouseEvents","unbindTouchEvents","bindResizeEvent","unbindResizeEvent","bindWheelEvent","handleWheel","unbindWheelEvent","setCenterZoomTarget","center","fromProps","zoomAround","animationDuration","animate","distanceInScreens","state","animateMaxScreens","_this$animationStep","animationStep","centerStep","zoomStep","_centerStart","limitCenterAtZoom","_lastCenter","_lastZoom","onAnimationStart","calculateZoomCenter","stopAnimating","_center","setCenterZoom","setCenterZoomForChildren","centerTarget","zoomTarget","_this$state","l1","latLngToPixel","l2","z1","z2","w","abs","h","sqrt","timestamp","t","progress","max","percentage","zoomDiff","onAnimationStop","_this$animationStep2","minMax","getBoundsMinMax","min","isNaN","animationEnded","limitedCenter","round","tileValues","nextValues","oldTiles","o","roundedZoom","concat","loadTracker","tileMinX","tileMaxX","tileMinY","tileMaxY","_loadTracker","maybeZoom","maybeCenter","syncToProps","limitBounds","_this$state2","pixelsAtZoom","minLng","minLat","maxLng","imageLoaded","values","v","touches","touch","pixel","coordsInside","twoFingerDrag","preventDefault","latLngNow","pixelToLatLng","minZoom","maxZoom","trackMoveEvents","stopTrackingMoveEvents","pixelDelta","zoomDelta","sendDeltaChange","t1","t2","showWarning","_this$state3","midPoint","midPointDiff","distance","log2","scale","centerDiffDiff","_this$props","zoomSnap","_this$sendDeltaChange","clearWarning","oldTouchPixel","newTouchPixel","changedTouches","throwAfterMoving","latLng","ceil","floor","_zoom","button","_mousePosition","onClick","_this$sendDeltaChange2","undefined","coords","shift","_this$state4","lastEvent","deltaMs","delta","throwTime","lng","_this$state5","getBounds","zoomPlusDelta","_this$state6","ne","sw","onBoundsChanged","bounds","initial","_this$props2","mouseEvents","metaWheelZoom","metaKey","ctrlKey","addToZoom","deltaY","stillToAdd","zoomAroundMouse","warningType","_this$props3","_this$state7","pointDiff","tileX","tileY","_this$state8","tileCenterX","tileCenterY","oldZoom","newZoom","_this$state9","pixelBefore","pixelAfter","newCenter","setRef","func","wait","timeout","_len","args","Array","_key","context","debounce","defaultZoom","defaultCenter","defaultWidth","defaultHeight","prototype","create","constructor","__proto__","_proto","componentDidMount","_this2","touchEvents","ResizeObserver","observe","componentWillUnmount","disconnect","componentDidUpdate","prevProps","_prevProps$center","currentCenter","currentZoom","_this$props$center","_this$props$zoom","nextCenter","nextZoom","_this$state10","pos","document","elementFromPoint","_ref5","scaleWidth","scaleHeight","halfWidth","halfHeight","renderTiles","_this3","_this$state11","mapUrl","provider","_this$tileValues","tiles","old","xDiff","yDiff","_xMin","_yMin","_xMax","_yMax","active","xMin","yMin","xMax","yMax","_x","_y","boxStyle","position","overflow","willChange","transform","transformOrigin","boxClassname","tilesStyle","a","createElement","style","tile","src","loading","onLoad","alt","opacity","renderOverlays","_this4","_this$state12","mapState","childrenWithProps","Children","children","child","isValidElement","_child$props","anchor","offset","c","cloneElement","mapProps","childrenStyle","renderAttribution","_this$props4","attribution","attributionPrefix","linkStyle","color","textDecoration","bottom","right","fontSize","padding","background","fontFamily","href","rel","renderWarning","_this$props5","metaWheelZoomWarning","twoFingerDragWarning","warningZIndex","_this$state13","pointerEvents","transition","display","justifyContent","alignItems","textAlign","zIndex","meta","navigator","platform","toUpperCase","indexOf","warningText","replace","render","_this$props6","_this$state14","containerStyle","touchAction","hasSize","ref","defaultProps","defaultState","isDragging","startX","startY","startLeft","startTop","deltaX","dragRef","propsRef","stateRef","_useState","_state","_setState","current","stateUpdate","newState","_props$mapProps","handleDragStart","ancestor","isDescendentOf","onDragStart","_propsRef$current","_left","_top","onDragMove","handleDragMove","_propsRef$current2","_stateRef$current","_startLeft","_startTop","handleDragEnd","_propsRef$current$onD","_propsRef$current4","_propsRef$current3","_stateRef$current2","onDragEnd","e","cursor","stamenTerrain"],"mappings":"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"},"input":"(this[\"webpackJsonplightence-admin\"] = this[\"webpackJsonplightence-admin\"] || []).push([[54],{\n\n/***/ 2542:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Draggable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return Map; });\n/* unused harmony export Marker */\n/* unused harmony export Overlay */\n/* unused harmony export ZoomControl */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\n\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\n\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {\n  return true;\n};\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\n\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n\n  function Map(props) {\n    var _ref, _props$defaultZoom, _ref2, _props$defaultCenter, _ref3, _props$width, _ref4, _props$height;\n\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this._dragStart = null;\n    _this._mouseDown = false;\n    _this._moveEvents = [];\n    _this._lastClick = null;\n    _this._lastTap = null;\n    _this._lastWheel = null;\n    _this._touchStartPixel = null;\n    _this._touchStartMidPoint = null;\n    _this._touchStartDistance = null;\n    _this._secondTouchEnd = null;\n    _this._warningClearTimeout = null;\n    _this._isAnimating = false;\n    _this._animationStart = null;\n    _this._animationEnd = null;\n    _this._zoomStart = null;\n    _this._centerTarget = null;\n    _this._zoomTarget = null;\n    _this._zoomAround = null;\n    _this._animFrame = null;\n    _this._boundsSynced = false;\n    _this._minMaxCache = null;\n    _this._resizeObserver = null;\n\n    _this.updateWidthHeight = function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _this.wa = function () {\n      var _window;\n\n      return (_window = window).addEventListener.apply(_window, arguments);\n    };\n\n    _this.wr = function () {\n      var _window2;\n\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    };\n\n    _this.bindMouseEvents = function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    };\n\n    _this.bindTouchEvents = function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    };\n\n    _this.unbindMouseEvents = function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    };\n\n    _this.unbindTouchEvents = function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    };\n\n    _this.bindResizeEvent = function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    };\n\n    _this.unbindResizeEvent = function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    };\n\n    _this.bindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    };\n\n    _this.unbindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    };\n\n    _this.setCenterZoomTarget = function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    };\n\n    _this.setCenterZoomForChildren = function (center, zoom) {\n      _this.setCenterZoomTarget(center || _this.state.center, zoom || _this.state.zoom, true);\n    };\n\n    _this.distanceInScreens = function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    };\n\n    _this.animationStep = function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    };\n\n    _this.animate = function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    };\n\n    _this.stopAnimating = function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    };\n\n    _this.limitCenterAtZoom = function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    };\n\n    _this.onAnimationStart = function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    };\n\n    _this.onAnimationStop = function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    };\n\n    _this.setCenterZoom = function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    };\n\n    _this.getBoundsMinMax = function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    };\n\n    _this.imageLoaded = function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    };\n\n    _this.handleTouchStart = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    };\n\n    _this.handleTouchMove = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    };\n\n    _this.handleTouchEnd = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          if (!parentHasClass(event.target, 'pigeon-click-block')) {\n            var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n            _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n          }\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    };\n\n    _this.handleMouseMove = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    };\n\n    _this.handleMouseUp = function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    };\n\n    _this.stopTrackingMoveEvents = function () {\n      _this._moveEvents = [];\n    };\n\n    _this.trackMoveEvents = function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    };\n\n    _this.throwAfterMoving = function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    };\n\n    _this.sendDeltaChange = function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    };\n\n    _this.getBounds = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    };\n\n    _this.syncToProps = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey || event.ctrlKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    };\n\n    _this.showWarning = function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    };\n\n    _this.clearWarning = function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    };\n\n    _this.zoomAroundMouse = function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    };\n\n    _this.zoomPlusDelta = function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    };\n\n    _this.pixelToLatLng = function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    };\n\n    _this.latLngToPixel = function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    };\n\n    _this.calculateZoomCenter = function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    };\n\n    _this.setRef = function (dom) {\n      _this._containerRef = dom;\n    };\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref !== void 0 ? _ref : 14;\n    _this._lastCenter = (_ref2 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref2 !== void 0 ? _ref2 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref3 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref3 !== void 0 ? _ref3 : -1,\n      height: (_ref4 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n\n  var _proto = Map.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n    }\n\n    this.bindWheelEvent();\n    this.syncToProps();\n\n    if (typeof window.ResizeObserver !== 'undefined') {\n      this._resizeObserver = new window.ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n        width = _this$state10.width,\n        height = _this$state10.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n\n  _proto.tileValues = function tileValues(_ref5) {\n    var center = _ref5.center,\n        zoom = _ref5.zoom,\n        pixelDelta = _ref5.pixelDelta,\n        zoomDelta = _ref5.zoomDelta,\n        width = _ref5.width,\n        height = _ref5.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n\n    var _this$state11 = this.state,\n        oldTiles = _this$state11.oldTiles,\n        width = _this$state11.width,\n        height = _this$state11.height;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || osm;\n\n    var _this$tileValues = this.tileValues(this.state),\n        tileMinX = _this$tileValues.tileMinX,\n        tileMaxX = _this$tileValues.tileMaxX,\n        tileMinY = _this$tileValues.tileMinY,\n        tileMaxY = _this$tileValues.tileMaxY,\n        tileCenterX = _this$tileValues.tileCenterX,\n        tileCenterY = _this$tileValues.tileCenterY,\n        roundedZoom = _this$tileValues.roundedZoom,\n        scaleWidth = _this$tileValues.scaleWidth,\n        scaleHeight = _this$tileValues.scaleHeight,\n        scale = _this$tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\",\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n        key: tile.key,\n        src: tile.url,\n        srcSet: tile.srcSet,\n        width: tile.width,\n        height: tile.height,\n        loading: 'lazy',\n        onLoad: function onLoad() {\n          return _this3.imageLoaded(tile.key);\n        },\n        alt: '',\n        style: {\n          position: 'absolute',\n          left: tile.left,\n          top: tile.top,\n          willChange: 'transform',\n          transformOrigin: 'top left',\n          opacity: 1\n        }\n      });\n    })));\n  };\n\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n\n    var _this$state12 = this.state,\n        width = _this$state12.width,\n        height = _this$state12.height,\n        center = _this$state12.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (! /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.isValidElement(child)) {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this4.latLngToPixel(anchor || position || center);\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        setCenterZoom: _this4.setCenterZoomForChildren,\n        mapProps: _this4.props,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\"\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n        attribution = _this$props4.attribution,\n        attributionPrefix = _this$props4.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, '  ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n        metaWheelZoom = _this$props5.metaWheelZoom,\n        metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n        twoFingerDrag = _this$props5.twoFingerDrag,\n        twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n        warningZIndex = _this$props5.warningZIndex;\n    var _this$state13 = this.state,\n        showWarning = _this$state13.showWarning,\n        warningType = _this$state13.warningType,\n        width = _this$state13.width,\n        height = _this$state13.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '' : 'ctrl';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n        touchEvents = _this$props6.touchEvents,\n        twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state14 = this.state,\n        width = _this$state14.width,\n        height = _this$state14.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\nMap.defaultProps = {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META + wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: []\n};\n\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\n\nfunction Overlay(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\n\nfunction isDescendentOf(element, ancestor) {\n  while (element) {\n    if (element === ancestor) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\n\nvar defaultState = {\n  isDragging: false,\n  startX: undefined,\n  startY: undefined,\n  startLeft: undefined,\n  startTop: undefined,\n  deltaX: 0,\n  deltaY: 0\n};\n\nfunction Draggable(props) {\n  var dragRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])();\n  var propsRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(props);\n  var stateRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(_objectSpread2({}, defaultState));\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(defaultState),\n      _state = _useState[0],\n      _setState = _useState[1];\n\n  propsRef.current = props;\n\n  var setState = function setState(stateUpdate) {\n    var newState = _objectSpread2(_objectSpread2({}, stateRef.current), stateUpdate);\n\n    stateRef.current = newState;\n\n    _setState(newState);\n  };\n\n  var _props$mapProps = props.mapProps,\n      mouseEvents = _props$mapProps.mouseEvents,\n      touchEvents = _props$mapProps.touchEvents;\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    var handleDragStart = function handleDragStart(event) {\n      if (isDescendentOf(event.target, dragRef.current)) {\n        event.preventDefault();\n        setState({\n          isDragging: true,\n          startX: ('touches' in event ? event.touches[0] : event).clientX,\n          startY: ('touches' in event ? event.touches[0] : event).clientY,\n          startLeft: propsRef.current.left,\n          startTop: propsRef.current.top,\n          deltaX: 0,\n          deltaY: 0\n        });\n\n        if (propsRef.current.onDragStart) {\n          var _propsRef$current = propsRef.current,\n              _left = _propsRef$current.left,\n              _top = _propsRef$current.top,\n              offset = _propsRef$current.offset,\n              pixelToLatLng = _propsRef$current.pixelToLatLng;\n          propsRef.current.onDragMove(pixelToLatLng([_left + (offset ? offset[0] : 0), _top + (offset ? offset[1] : 0)]));\n        }\n      }\n    };\n\n    var handleDragMove = function handleDragMove(event) {\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var x = ('touches' in event ? event.touches[0] : event).clientX;\n      var y = ('touches' in event ? event.touches[0] : event).clientY;\n      var deltaX = x - stateRef.current.startX;\n      var deltaY = y - stateRef.current.startY;\n      setState({\n        deltaX: deltaX,\n        deltaY: deltaY\n      });\n\n      if (propsRef.current.onDragMove) {\n        var _propsRef$current2 = propsRef.current,\n            offset = _propsRef$current2.offset,\n            pixelToLatLng = _propsRef$current2.pixelToLatLng;\n        var _stateRef$current = stateRef.current,\n            _startLeft = _stateRef$current.startLeft,\n            _startTop = _stateRef$current.startTop;\n        propsRef.current.onDragMove(pixelToLatLng([_startLeft + deltaX + (offset ? offset[0] : 0), _startTop + deltaY + (offset ? offset[1] : 0)]));\n      }\n    };\n\n    var handleDragEnd = function handleDragEnd(event) {\n      var _propsRef$current$onD, _propsRef$current4;\n\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var _propsRef$current3 = propsRef.current,\n          offset = _propsRef$current3.offset,\n          pixelToLatLng = _propsRef$current3.pixelToLatLng;\n      var _stateRef$current2 = stateRef.current,\n          deltaX = _stateRef$current2.deltaX,\n          deltaY = _stateRef$current2.deltaY,\n          startLeft = _stateRef$current2.startLeft,\n          startTop = _stateRef$current2.startTop;\n      (_propsRef$current$onD = (_propsRef$current4 = propsRef.current).onDragEnd) === null || _propsRef$current$onD === void 0 ? void 0 : _propsRef$current$onD.call(_propsRef$current4, pixelToLatLng([startLeft + deltaX + (offset ? offset[0] : 0), startTop + deltaY + (offset ? offset[1] : 0)]));\n      setState({\n        isDragging: false,\n        startX: undefined,\n        startY: undefined,\n        startLeft: undefined,\n        startTop: undefined,\n        deltaX: 0,\n        deltaY: 0\n      });\n    };\n\n    var wa = function wa(e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n\n    var wr = function wr(e, t) {\n      return window.removeEventListener(e, t);\n    };\n\n    if (mouseEvents) {\n      wa('mousedown', handleDragStart);\n      wa('mousemove', handleDragMove);\n      wa('mouseup', handleDragEnd);\n    }\n\n    if (touchEvents) {\n      wa('touchstart', handleDragStart, {\n        passive: false\n      });\n      wa('touchmove', handleDragMove, {\n        passive: false\n      });\n      wa('touchend', handleDragEnd, {\n        passive: false\n      });\n    }\n\n    return function () {\n      if (mouseEvents) {\n        wr('mousedown', handleDragStart);\n        wr('mousemove', handleDragMove);\n        wr('mouseup', handleDragEnd);\n      }\n\n      if (touchEvents) {\n        wr('touchstart', handleDragStart);\n        wr('touchmove', handleDragMove);\n        wr('touchend', handleDragEnd);\n      }\n    };\n  }, [mouseEvents, touchEvents]);\n  var left = props.left,\n      top = props.top,\n      className = props.className,\n      style = props.style;\n  var deltaX = _state.deltaX,\n      deltaY = _state.deltaY,\n      startLeft = _state.startLeft,\n      startTop = _state.startTop,\n      isDragging = _state.isDragging;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    style: _objectSpread2(_objectSpread2({\n      cursor: isDragging ? 'grabbing' : 'grab'\n    }, style || {}), {}, {\n      position: 'absolute',\n      transform: \"translate(\" + (isDragging ? startLeft + deltaX : left) + \"px, \" + (isDragging ? startTop + deltaY : top) + \"px)\"\n    }),\n    ref: dragRef,\n    className: \"pigeon-drag-block\" + (className ? \" \" + className : '')\n  }, props.children);\n}\n\nvar commonStyle = {\n  position: 'absolute',\n  top: 10,\n  left: 10\n};\nvar commonButtonStyle = {\n  width: 28,\n  height: 28,\n  borderRadius: 2,\n  boxShadow: '0 1px 4px -1px rgba(0,0,0,.3)',\n  background: 'white',\n  lineHeight: '26px',\n  fontSize: '20px',\n  fontWeight: 700,\n  color: '#666',\n  marginBottom: 1,\n  cursor: 'pointer',\n  border: 'none',\n  display: 'block',\n  outline: 'none'\n};\n\nfunction ZoomControl(_ref) {\n  var style = _ref.style,\n      buttonStyle = _ref.buttonStyle,\n      setCenterZoom = _ref.setCenterZoom,\n      mapState = _ref.mapState,\n      mapProps = _ref.mapProps;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pigeon-zoom-buttons pigeon-drag-block\",\n    style: style ? _objectSpread2(_objectSpread2({}, commonStyle), style) : commonStyle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    className: \"pigeon-zoom-in\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.min(mapState.zoom + 1, mapProps.maxZoom));\n    }\n  }, \"+\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    className: \"pigeon-zoom-out\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.max(mapState.zoom - 1, mapProps.minZoom));\n    }\n  }, \"\\u2013\"));\n}\n\n\n\n/***/ }),\n\n/***/ 2543:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export maptiler */\n/* unused harmony export osm */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return stamenTerrain; });\n/* unused harmony export stamenToner */\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\n\nfunction stamenToner(x, y, z, dpr) {\n  if (dpr === void 0) {\n    dpr = 1;\n  }\n\n  return \"https://stamen-tiles.a.ssl.fastly.net/toner/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".png\";\n}\n\nfunction stamenTerrain(x, y, z, dpr) {\n  if (dpr === void 0) {\n    dpr = 1;\n  }\n\n  return \"https://stamen-tiles.a.ssl.fastly.net/terrain/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".jpg\";\n}\n\nvar maptiler = function maptiler(apiKey, map) {\n  if (map === void 0) {\n    map = 'streets';\n  }\n\n  return function (x, y, z, dpr) {\n    if (dpr === void 0) {\n      dpr = 1;\n    }\n\n    return \"https://api.maptiler.com/maps/\" + map + \"/256/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".png?key=\" + apiKey;\n  };\n};\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/workspace/lightence-ant-design-react-template/node_modules/pigeon-maps/lib/index.esm.js","/workspace/lightence-ant-design-react-template/node_modules/pigeon-maps/lib/providers.esm.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_inheritsLoose","subClass","superClass","prototype","create","constructor","__proto__","debounce","func","wait","timeout","_len","args","Array","_key","context","clearTimeout","setTimeout","parentHasClass","element","className","classList","contains","parentElement","parentPosition","rect","getBoundingClientRect","x","left","y","top","osm","z","s","String","fromCharCode","ANIMATION_TIME","DIAGONAL_THROW_TIME","SCROLL_PIXELS_FOR_ZOOM_LEVEL","MIN_DRAG_FOR_THROW","CLICK_TOLERANCE","DOUBLE_CLICK_DELAY","DEBOUNCE_DELAY","PINCH_RELEASE_THROW_DELAY","WARNING_DISPLAY_TIMEOUT","NOOP","lng2tile","lon","zoom","Math","pow","lat2tile","lat","log","tan","PI","cos","tile2lng","tile2lat","n","atan","exp","getMousePixel","dom","event","parent","clientX","clientY","easeOutQuad","t","absoluteMinMax","hasWindow","window","performanceNow","performance","now","timeStart","Date","getTime","requestAnimationFrame","callback","cancelAnimationFrame","animFrame","srcSet","dprs","url","map","dpr","join","Map","_Component","props","_ref","_props$defaultZoom","_ref2","_props$defaultCenter","_ref3","_props$width","_ref4","_props$height","_this","call","_dragStart","_mouseDown","_moveEvents","_lastClick","_lastTap","_lastWheel","_touchStartPixel","_touchStartMidPoint","_touchStartDistance","_secondTouchEnd","_warningClearTimeout","_isAnimating","_animationStart","_animationEnd","_zoomStart","_centerTarget","_zoomTarget","_zoomAround","_animFrame","_boundsSynced","_minMaxCache","_resizeObserver","updateWidthHeight","_containerRef","width","height","setState","wa","_window","addEventListener","wr","_window2","removeEventListener","bindMouseEvents","handleMouseDown","handleMouseUp","handleMouseMove","bindTouchEvents","handleTouchStart","passive","handleTouchMove","handleTouchEnd","unbindMouseEvents","unbindTouchEvents","bindResizeEvent","unbindResizeEvent","bindWheelEvent","handleWheel","unbindWheelEvent","setCenterZoomTarget","center","fromProps","zoomAround","animationDuration","animate","distanceInScreens","state","animateMaxScreens","_this$animationStep","animationStep","centerStep","zoomStep","_centerStart","limitCenterAtZoom","_lastCenter","_lastZoom","onAnimationStart","calculateZoomCenter","stopAnimating","_center","setCenterZoom","setCenterZoomForChildren","centerTarget","zoomTarget","_this$state","l1","latLngToPixel","l2","z1","z2","w","abs","h","sqrt","timestamp","progress","max","percentage","zoomDiff","_centerStep","onAnimationStop","_this$animationStep2","minMax","getBoundsMinMax","min","isNaN","animationEnded","limitedCenter","round","tileValues","nextValues","oldTiles","o","roundedZoom","concat","loadTracker","tileMinX","tileMaxX","tileMinY","tileMaxY","_loadTracker","maybeZoom","maybeCenter","syncToProps","limitBounds","_this$state2","pixelsAtZoom","minLng","minLat","maxLng","maxLat","imageLoaded","unloadedCount","values","v","touches","touch","pixel","coordsInside","twoFingerDrag","preventDefault","latLngNow","pixelToLatLng","minZoom","maxZoom","trackMoveEvents","stopTrackingMoveEvents","pixelDelta","zoomDelta","sendDeltaChange","t1","t2","showWarning","_this$state3","midPoint","midPointDiff","distance","log2","scale","centerDiffDiff","_this$props","zoomSnap","_this$sendDeltaChange","clearWarning","oldTouchPixel","newTouchPixel","changedTouches","throwAfterMoving","latLng","ceil","floor","_zoom","button","_mousePosition","onClick","undefined","_this$sendDeltaChange2","coords","shift","_this$state4","lastEvent","deltaMs","delta","diagonal","throwTime","lng","_this$state5","getBounds","zoomPlusDelta","_this$state6","ne","sw","onBoundsChanged","bounds","initial","_this$props2","mouseEvents","metaWheelZoom","metaKey","ctrlKey","addToZoom","deltaY","stillToAdd","zoomAroundMouse","warningType","_this$props3","_this$state7","pointDiff","tileX","tileY","_this$state8","tileCenterX","tileCenterY","oldZoom","newZoom","_this$state9","pixelBefore","pixelAfter","newCenter","setRef","defaultZoom","defaultCenter","defaultWidth","defaultHeight","_proto","componentDidMount","_this2","touchEvents","ResizeObserver","observe","componentWillUnmount","disconnect","componentDidUpdate","prevProps","_prevProps$center","currentCenter","currentZoom","_this$props$center","_this$props$zoom","nextCenter","nextZoom","_this$state10","pos","document","elementFromPoint","_ref5","scaleWidth","scaleHeight","halfWidth","halfHeight","renderTiles","_this3","_this$state11","mapUrl","provider","_this$tileValues","tiles","old","xDiff","yDiff","_xMin","_yMin","_xMax","_yMax","active","xMin","yMin","xMax","yMax","_x","_y","boxStyle","position","overflow","willChange","transform","transformOrigin","boxClassname","tilesStyle","React","createElement","style","tile","src","loading","onLoad","alt","opacity","renderOverlays","_this4","_this$state12","mapState","childrenWithProps","Children","children","child","isValidElement","_child$props","anchor","offset","c","cloneElement","mapProps","childrenStyle","renderAttribution","_this$props4","attribution","attributionPrefix","bottom","right","fontSize","padding","background","fontFamily","color","linkStyle","textDecoration","href","rel","renderWarning","_this$props5","metaWheelZoomWarning","twoFingerDragWarning","warningZIndex","_this$state13","pointerEvents","transition","display","justifyContent","alignItems","textAlign","zIndex","meta","navigator","platform","toUpperCase","indexOf","warningText","replace","render","_this$props6","_this$state14","containerStyle","touchAction","hasSize","ref","Component","defaultProps","Marker","_useState","useState","hover","internalHover","setInternalHover","eventParameters","payload","cursor","viewBox","fill","xmlns","onContextMenu","onMouseOver","onMouseOut","d","stroke","strokeWidth","cx","cy","r","Overlay","isDescendentOf","ancestor","defaultState","isDragging","startX","startY","startLeft","startTop","deltaX","Draggable","dragRef","useRef","propsRef","stateRef","_state","_setState","current","stateUpdate","newState","_props$mapProps","useEffect","handleDragStart","onDragStart","_propsRef$current","_left","_top","onDragMove","handleDragMove","_propsRef$current2","_stateRef$current","_startLeft","_startTop","handleDragEnd","_propsRef$current$onD","_propsRef$current4","_propsRef$current3","_stateRef$current2","onDragEnd","e","commonStyle","commonButtonStyle","borderRadius","boxShadow","lineHeight","fontWeight","marginBottom","border","outline","ZoomControl","buttonStyle","stamenToner","stamenTerrain","maptiler","apiKey"],"mappings":"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","file":"x","sourcesContent":["import React, { Component, useState, useRef, useEffect } from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {\n  return true;\n};\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\n\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n\n  function Map(props) {\n    var _ref, _props$defaultZoom, _ref2, _props$defaultCenter, _ref3, _props$width, _ref4, _props$height;\n\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this._dragStart = null;\n    _this._mouseDown = false;\n    _this._moveEvents = [];\n    _this._lastClick = null;\n    _this._lastTap = null;\n    _this._lastWheel = null;\n    _this._touchStartPixel = null;\n    _this._touchStartMidPoint = null;\n    _this._touchStartDistance = null;\n    _this._secondTouchEnd = null;\n    _this._warningClearTimeout = null;\n    _this._isAnimating = false;\n    _this._animationStart = null;\n    _this._animationEnd = null;\n    _this._zoomStart = null;\n    _this._centerTarget = null;\n    _this._zoomTarget = null;\n    _this._zoomAround = null;\n    _this._animFrame = null;\n    _this._boundsSynced = false;\n    _this._minMaxCache = null;\n    _this._resizeObserver = null;\n\n    _this.updateWidthHeight = function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _this.wa = function () {\n      var _window;\n\n      return (_window = window).addEventListener.apply(_window, arguments);\n    };\n\n    _this.wr = function () {\n      var _window2;\n\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    };\n\n    _this.bindMouseEvents = function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    };\n\n    _this.bindTouchEvents = function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    };\n\n    _this.unbindMouseEvents = function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    };\n\n    _this.unbindTouchEvents = function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    };\n\n    _this.bindResizeEvent = function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    };\n\n    _this.unbindResizeEvent = function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    };\n\n    _this.bindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    };\n\n    _this.unbindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    };\n\n    _this.setCenterZoomTarget = function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    };\n\n    _this.setCenterZoomForChildren = function (center, zoom) {\n      _this.setCenterZoomTarget(center || _this.state.center, zoom || _this.state.zoom, true);\n    };\n\n    _this.distanceInScreens = function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    };\n\n    _this.animationStep = function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    };\n\n    _this.animate = function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    };\n\n    _this.stopAnimating = function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    };\n\n    _this.limitCenterAtZoom = function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    };\n\n    _this.onAnimationStart = function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    };\n\n    _this.onAnimationStop = function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    };\n\n    _this.setCenterZoom = function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    };\n\n    _this.getBoundsMinMax = function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    };\n\n    _this.imageLoaded = function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    };\n\n    _this.handleTouchStart = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    };\n\n    _this.handleTouchMove = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    };\n\n    _this.handleTouchEnd = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          if (!parentHasClass(event.target, 'pigeon-click-block')) {\n            var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n            _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n          }\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    };\n\n    _this.handleMouseMove = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    };\n\n    _this.handleMouseUp = function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    };\n\n    _this.stopTrackingMoveEvents = function () {\n      _this._moveEvents = [];\n    };\n\n    _this.trackMoveEvents = function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    };\n\n    _this.throwAfterMoving = function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    };\n\n    _this.sendDeltaChange = function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    };\n\n    _this.getBounds = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    };\n\n    _this.syncToProps = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey || event.ctrlKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    };\n\n    _this.showWarning = function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    };\n\n    _this.clearWarning = function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    };\n\n    _this.zoomAroundMouse = function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    };\n\n    _this.zoomPlusDelta = function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    };\n\n    _this.pixelToLatLng = function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    };\n\n    _this.latLngToPixel = function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    };\n\n    _this.calculateZoomCenter = function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    };\n\n    _this.setRef = function (dom) {\n      _this._containerRef = dom;\n    };\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref !== void 0 ? _ref : 14;\n    _this._lastCenter = (_ref2 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref2 !== void 0 ? _ref2 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref3 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref3 !== void 0 ? _ref3 : -1,\n      height: (_ref4 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n\n  var _proto = Map.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n    }\n\n    this.bindWheelEvent();\n    this.syncToProps();\n\n    if (typeof window.ResizeObserver !== 'undefined') {\n      this._resizeObserver = new window.ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n        width = _this$state10.width,\n        height = _this$state10.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n\n  _proto.tileValues = function tileValues(_ref5) {\n    var center = _ref5.center,\n        zoom = _ref5.zoom,\n        pixelDelta = _ref5.pixelDelta,\n        zoomDelta = _ref5.zoomDelta,\n        width = _ref5.width,\n        height = _ref5.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n\n    var _this$state11 = this.state,\n        oldTiles = _this$state11.oldTiles,\n        width = _this$state11.width,\n        height = _this$state11.height;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || osm;\n\n    var _this$tileValues = this.tileValues(this.state),\n        tileMinX = _this$tileValues.tileMinX,\n        tileMaxX = _this$tileValues.tileMaxX,\n        tileMinY = _this$tileValues.tileMinY,\n        tileMaxY = _this$tileValues.tileMaxY,\n        tileCenterX = _this$tileValues.tileCenterX,\n        tileCenterY = _this$tileValues.tileCenterY,\n        roundedZoom = _this$tileValues.roundedZoom,\n        scaleWidth = _this$tileValues.scaleWidth,\n        scaleHeight = _this$tileValues.scaleHeight,\n        scale = _this$tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\",\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: tile.key,\n        src: tile.url,\n        srcSet: tile.srcSet,\n        width: tile.width,\n        height: tile.height,\n        loading: 'lazy',\n        onLoad: function onLoad() {\n          return _this3.imageLoaded(tile.key);\n        },\n        alt: '',\n        style: {\n          position: 'absolute',\n          left: tile.left,\n          top: tile.top,\n          willChange: 'transform',\n          transformOrigin: 'top left',\n          opacity: 1\n        }\n      });\n    })));\n  };\n\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n\n    var _this$state12 = this.state,\n        width = _this$state12.width,\n        height = _this$state12.height,\n        center = _this$state12.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this4.latLngToPixel(anchor || position || center);\n\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        setCenterZoom: _this4.setCenterZoomForChildren,\n        mapProps: _this4.props,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n        attribution = _this$props4.attribution,\n        attributionPrefix = _this$props4.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, '  ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n        metaWheelZoom = _this$props5.metaWheelZoom,\n        metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n        twoFingerDrag = _this$props5.twoFingerDrag,\n        twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n        warningZIndex = _this$props5.warningZIndex;\n    var _this$state13 = this.state,\n        showWarning = _this$state13.showWarning,\n        warningType = _this$state13.warningType,\n        width = _this$state13.width,\n        height = _this$state13.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '' : 'ctrl';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n        touchEvents = _this$props6.touchEvents,\n        twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state14 = this.state,\n        width = _this$state14.width,\n        height = _this$state14.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(Component);\nMap.defaultProps = {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META + wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: []\n};\n\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\n\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\n\nfunction isDescendentOf(element, ancestor) {\n  while (element) {\n    if (element === ancestor) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\n\nvar defaultState = {\n  isDragging: false,\n  startX: undefined,\n  startY: undefined,\n  startLeft: undefined,\n  startTop: undefined,\n  deltaX: 0,\n  deltaY: 0\n};\nfunction Draggable(props) {\n  var dragRef = useRef();\n  var propsRef = useRef(props);\n  var stateRef = useRef(_objectSpread2({}, defaultState));\n\n  var _useState = useState(defaultState),\n      _state = _useState[0],\n      _setState = _useState[1];\n\n  propsRef.current = props;\n\n  var setState = function setState(stateUpdate) {\n    var newState = _objectSpread2(_objectSpread2({}, stateRef.current), stateUpdate);\n\n    stateRef.current = newState;\n\n    _setState(newState);\n  };\n\n  var _props$mapProps = props.mapProps,\n      mouseEvents = _props$mapProps.mouseEvents,\n      touchEvents = _props$mapProps.touchEvents;\n  useEffect(function () {\n    var handleDragStart = function handleDragStart(event) {\n      if (isDescendentOf(event.target, dragRef.current)) {\n        event.preventDefault();\n        setState({\n          isDragging: true,\n          startX: ('touches' in event ? event.touches[0] : event).clientX,\n          startY: ('touches' in event ? event.touches[0] : event).clientY,\n          startLeft: propsRef.current.left,\n          startTop: propsRef.current.top,\n          deltaX: 0,\n          deltaY: 0\n        });\n\n        if (propsRef.current.onDragStart) {\n          var _propsRef$current = propsRef.current,\n              _left = _propsRef$current.left,\n              _top = _propsRef$current.top,\n              offset = _propsRef$current.offset,\n              pixelToLatLng = _propsRef$current.pixelToLatLng;\n          propsRef.current.onDragMove(pixelToLatLng([_left + (offset ? offset[0] : 0), _top + (offset ? offset[1] : 0)]));\n        }\n      }\n    };\n\n    var handleDragMove = function handleDragMove(event) {\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var x = ('touches' in event ? event.touches[0] : event).clientX;\n      var y = ('touches' in event ? event.touches[0] : event).clientY;\n      var deltaX = x - stateRef.current.startX;\n      var deltaY = y - stateRef.current.startY;\n      setState({\n        deltaX: deltaX,\n        deltaY: deltaY\n      });\n\n      if (propsRef.current.onDragMove) {\n        var _propsRef$current2 = propsRef.current,\n            offset = _propsRef$current2.offset,\n            pixelToLatLng = _propsRef$current2.pixelToLatLng;\n        var _stateRef$current = stateRef.current,\n            _startLeft = _stateRef$current.startLeft,\n            _startTop = _stateRef$current.startTop;\n        propsRef.current.onDragMove(pixelToLatLng([_startLeft + deltaX + (offset ? offset[0] : 0), _startTop + deltaY + (offset ? offset[1] : 0)]));\n      }\n    };\n\n    var handleDragEnd = function handleDragEnd(event) {\n      var _propsRef$current$onD, _propsRef$current4;\n\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var _propsRef$current3 = propsRef.current,\n          offset = _propsRef$current3.offset,\n          pixelToLatLng = _propsRef$current3.pixelToLatLng;\n      var _stateRef$current2 = stateRef.current,\n          deltaX = _stateRef$current2.deltaX,\n          deltaY = _stateRef$current2.deltaY,\n          startLeft = _stateRef$current2.startLeft,\n          startTop = _stateRef$current2.startTop;\n      (_propsRef$current$onD = (_propsRef$current4 = propsRef.current).onDragEnd) === null || _propsRef$current$onD === void 0 ? void 0 : _propsRef$current$onD.call(_propsRef$current4, pixelToLatLng([startLeft + deltaX + (offset ? offset[0] : 0), startTop + deltaY + (offset ? offset[1] : 0)]));\n      setState({\n        isDragging: false,\n        startX: undefined,\n        startY: undefined,\n        startLeft: undefined,\n        startTop: undefined,\n        deltaX: 0,\n        deltaY: 0\n      });\n    };\n\n    var wa = function wa(e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n\n    var wr = function wr(e, t) {\n      return window.removeEventListener(e, t);\n    };\n\n    if (mouseEvents) {\n      wa('mousedown', handleDragStart);\n      wa('mousemove', handleDragMove);\n      wa('mouseup', handleDragEnd);\n    }\n\n    if (touchEvents) {\n      wa('touchstart', handleDragStart, {\n        passive: false\n      });\n      wa('touchmove', handleDragMove, {\n        passive: false\n      });\n      wa('touchend', handleDragEnd, {\n        passive: false\n      });\n    }\n\n    return function () {\n      if (mouseEvents) {\n        wr('mousedown', handleDragStart);\n        wr('mousemove', handleDragMove);\n        wr('mouseup', handleDragEnd);\n      }\n\n      if (touchEvents) {\n        wr('touchstart', handleDragStart);\n        wr('touchmove', handleDragMove);\n        wr('touchend', handleDragEnd);\n      }\n    };\n  }, [mouseEvents, touchEvents]);\n  var left = props.left,\n      top = props.top,\n      className = props.className,\n      style = props.style;\n  var deltaX = _state.deltaX,\n      deltaY = _state.deltaY,\n      startLeft = _state.startLeft,\n      startTop = _state.startTop,\n      isDragging = _state.isDragging;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2(_objectSpread2({\n      cursor: isDragging ? 'grabbing' : 'grab'\n    }, style || {}), {}, {\n      position: 'absolute',\n      transform: \"translate(\" + (isDragging ? startLeft + deltaX : left) + \"px, \" + (isDragging ? startTop + deltaY : top) + \"px)\"\n    }),\n    ref: dragRef,\n    className: \"pigeon-drag-block\" + (className ? \" \" + className : '')\n  }, props.children);\n}\n\nvar commonStyle = {\n  position: 'absolute',\n  top: 10,\n  left: 10\n};\nvar commonButtonStyle = {\n  width: 28,\n  height: 28,\n  borderRadius: 2,\n  boxShadow: '0 1px 4px -1px rgba(0,0,0,.3)',\n  background: 'white',\n  lineHeight: '26px',\n  fontSize: '20px',\n  fontWeight: 700,\n  color: '#666',\n  marginBottom: 1,\n  cursor: 'pointer',\n  border: 'none',\n  display: 'block',\n  outline: 'none'\n};\nfunction ZoomControl(_ref) {\n  var style = _ref.style,\n      buttonStyle = _ref.buttonStyle,\n      setCenterZoom = _ref.setCenterZoom,\n      mapState = _ref.mapState,\n      mapProps = _ref.mapProps;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pigeon-zoom-buttons pigeon-drag-block\",\n    style: style ? _objectSpread2(_objectSpread2({}, commonStyle), style) : commonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-in\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.min(mapState.zoom + 1, mapProps.maxZoom));\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-out\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.max(mapState.zoom - 1, mapProps.minZoom));\n    }\n  }, \"\\u2013\"));\n}\n\nexport { Draggable, Map, Marker, Overlay, ZoomControl };\n","function osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\nfunction stamenToner(x, y, z, dpr) {\n  if (dpr === void 0) {\n    dpr = 1;\n  }\n\n  return \"https://stamen-tiles.a.ssl.fastly.net/toner/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".png\";\n}\nfunction stamenTerrain(x, y, z, dpr) {\n  if (dpr === void 0) {\n    dpr = 1;\n  }\n\n  return \"https://stamen-tiles.a.ssl.fastly.net/terrain/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".jpg\";\n}\nvar maptiler = function maptiler(apiKey, map) {\n  if (map === void 0) {\n    map = 'streets';\n  }\n\n  return function (x, y, z, dpr) {\n    if (dpr === void 0) {\n      dpr = 1;\n    }\n\n    return \"https://api.maptiler.com/maps/\" + map + \"/256/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".png?key=\" + apiKey;\n  };\n};\n\nexport { maptiler, osm, stamenTerrain, stamenToner };\n"]}}