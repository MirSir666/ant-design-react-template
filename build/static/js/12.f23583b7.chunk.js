(this["webpackJsonplightence-admin"]=this["webpackJsonplightence-admin"]||[]).push([[12],{2340:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var i=t(16),r=t(23),a=t(32),c=(t(0),t(68)),s=t(2341),o=t(328),l=t(329),d=t(330),u=t(2),j=["form","isFieldsChanged","setFieldsChanged","footer","loading","children"],b=function(e){var n=e.form,t=e.isFieldsChanged,o=e.setFieldsChanged,l=e.footer,d=e.loading,b=void 0!==d&&d,O=e.children,f=Object(a.a)(e,j),m=c.a.useForm(),v=Object(r.a)(m,1)[0],h=n||v;return Object(u.jsxs)(c.a,Object(i.a)(Object(i.a)({form:h},f),{},{children:[O,t&&(l||Object(u.jsx)(s.a,{loading:b,onCancel:function(){null===h||void 0===h||h.resetFields(),o&&o(!1)}}))]}))};b.Title=o.a,b.Item=l.a,b.List=d.a,b.useForm=c.a.useForm,b.Provider=c.a.Provider},2341:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i=t(16),r=t(32),a=(t(0),t(2291)),c=t(2292),s=t(48),o=t(2283),l=t(2),d=["className","onCancel","loading"],u=function(e){var n=e.className,t=e.onCancel,u=e.loading,j=Object(r.a)(e,d),b=Object(o.a)().t;return Object(l.jsxs)(a.a,{className:n,gutter:[10,10],wrap:!1,children:[Object(l.jsx)(c.a,{span:12,children:Object(l.jsx)(s.a,Object(i.a)(Object(i.a)({block:!0,type:"ghost",onClick:t},j),{},{children:b("common.cancel")}))}),Object(l.jsx)(c.a,{span:12,children:Object(l.jsx)(s.a,Object(i.a)(Object(i.a)({block:!0,type:"primary",loading:u,htmlType:"submit"},j),{},{children:b("common.save")}))})]})}},2344:function(e,n,t){"use strict";t.d(n,"c",(function(){return j})),t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return O}));var i,r,a=t(16),c=t(281),s=t(11),o=t(9),l=Object(o.default)(c.a)(i||(i=Object(s.a)(["\n  .ant-radio-disabled + span {\n    color: var(--disabled-color);\n  }\n"]))),d=Object(o.default)(c.a.Button)(r||(r=Object(s.a)(["\n  &.ant-radio-button-wrapper-disabled {\n    color: var(--disabled-color);\n  }\n"]))),u=t(2),j=c.a.Group,b=function(e){return Object(u.jsx)(l,Object(a.a)({},e))},O=function(e){return Object(u.jsx)(d,Object(a.a)({},e))}},2348:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}));var i=new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/),r=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)?/gi},2385:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t(16),r=t(32),a=(t(0),t(2283)),c=t(321),s=t(2340),o=t(2),l=["required","onClick","verified"],d=function(e){var n=e.required,t=e.onClick,d=e.verified,u=Object(r.a)(e,l),j=Object(a.a)().t;return Object(o.jsx)(s.a.Item,Object(i.a)(Object(i.a)({name:"email",$isSuccess:d,$successText:j("profile.nav.personalInfo.verified"),label:j("common.email"),rules:[{required:n,message:j("common.requiredField")},{type:"email",message:j("common.notValidEmail")}]},u),{},{children:Object(o.jsx)(c.a,{disabled:d,onClick:t})}))}},2397:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));t(0);var i,r=t(2283),a=t(2430),c=t(2340),s=t(11),o=t(7),l=t(2432),d=t(9),u=Object(d.default)(l.a)(i||(i=Object(s.a)(["\n  height: 50px;\n  width: 100%;\n  padding: 8px 11px;\n  transition: all 0.3s;\n\n  color: var(--text-main-color);\n\n  border: 1px solid var(--border-color);\n\n  border-radius: ",";\n\n  &:hover {\n    border-color: #1d72b8;\n  }\n\n  &:focus {\n    outline: 0;\n    box-shadow: 0 0 0 2px rgb(0 89 171 / 20%);\n  }\n"])),o.b),j=t(2),b=function(e){var n=e.required,t=e.onClick,i=e.verified,s=Object(r.a)().t;return Object(j.jsx)(c.a.Item,{name:"phone",$isSuccess:i,$successText:s("profile.nav.personalInfo.verified"),label:s("common.phone"),rules:[{required:n,message:s("common.requiredField")},function(){return{validator:function(e,n){return!n||Object(a.a)(n)?Promise.resolve():Promise.reject(new Error(s("profile.nav.personalInfo.wrongNumber")))}}}],children:Object(j.jsx)(u,{disabled:i,className:"ant-input",onClick:t})})}},2586:function(e,n,t){"use strict";t.r(n);var i,r,a,c=t(0),s=t(2283),o=t(2291),l=t(2292),d=t(80),u=t(23),j=t(2340),b=t(331),O=t(2),f=function(){var e=Object(s.a)().t;return Object(O.jsx)(j.a.Item,{name:"confirmPassword",label:e("profile.nav.securitySettings.confirmPassword"),dependencies:["newPassword"],rules:[{required:!0,message:e("profile.nav.securitySettings.requiredPassword")},function(n){var t=n.getFieldValue;return{validator:function(n,i){return i&&t("newPassword")!==i?Promise.reject(new Error(e("profile.nav.securitySettings.dontMatchPassword"))):Promise.resolve()}}}],children:Object(O.jsx)(b.a,{})})},m=function(){var e=Object(s.a)().t;return Object(O.jsx)(j.a.Item,{name:"password",label:e("profile.nav.securitySettings.currentPassword"),rules:[{required:!0,message:e("profile.nav.securitySettings.requiredPassword")}],children:Object(O.jsx)(b.a,{})})},v=t(2348),h=function(){var e=Object(s.a)().t;return Object(O.jsx)(j.a.Item,{name:"newPassword",label:e("profile.nav.securitySettings.newPassword"),dependencies:["password"],rules:[{required:!0,message:e("profile.nav.securitySettings.requiredPassword")},{pattern:v.a,message:e("profile.nav.securitySettings.notValidPassword")},function(n){var t=n.getFieldValue;return{validator:function(n,i){return i&&t("password")===i?Promise.reject(new Error(e("profile.nav.securitySettings.samePassword"))):Promise.resolve()}}}],children:Object(O.jsx)(b.a,{})})},x=t(82),p=t(11),g=t(48),w=t(7),y=t(9),C=Object(y.default)(g.a)(i||(i=Object(p.a)(["\n  margin: 0.5rem 0 1.5rem 0;\n  width: 100%;\n\n  @media only screen and "," {\n    max-width: 10rem;\n  }\n\n  @media only screen and "," {\n    max-width: unset;\n  }\n"])),w.h.md,w.h.xl),P=function(){var e=Object(c.useState)(!1),n=Object(u.a)(e,2),t=n[0],i=n[1],r=Object(c.useState)(!1),a=Object(u.a)(r,2),d=a[0],b=a[1],v=Object(s.a)().t;return Object(O.jsx)(j.a,{name:"newPassword",requiredMark:"optional",isFieldsChanged:t,onFieldsChange:function(){return i(!0)},footer:Object(O.jsx)(C,{loading:d,type:"primary",htmlType:"submit",children:v("common.confirm")}),onFinish:function(e){b(!0),setTimeout((function(){b(!1),i(!1),x.a.success({message:v("common.success")}),console.log(e)}),1e3)},children:Object(O.jsxs)(o.a,{gutter:{md:15,xl:30},children:[Object(O.jsx)(l.a,{span:24,children:Object(O.jsx)(j.a.Item,{children:Object(O.jsx)(j.a.Title,{children:v("profile.nav.securitySettings.changePassword")})})}),Object(O.jsx)(l.a,{xs:24,md:12,xl:24,children:Object(O.jsx)(m,{})}),Object(O.jsx)(l.a,{xs:24,md:12,xl:24,children:Object(O.jsx)(h,{})}),Object(O.jsx)(l.a,{xs:24,md:12,xl:24,children:Object(O.jsx)(f,{})})]})})},F=t(326),S=t(16),k=t(2344),q=t(2385),A=t(2397),E=t(30),I=Object(y.default)(k.a)(r||(r=Object(p.a)(["\n  margin-right: 0;\n  width: 100%;\n  transition: all 0.5s ease;\n\n  ",";\n\n  & > span:last-of-type {\n    flex-grow: 1;\n  }\n"])),(function(e){return!e.$isActive&&"opacity: 0.5"})),T=function(e){var n=e.selectedOption,t=e.setSelectedOption,i=Object(E.b)((function(e){return e.user.user})),r=Object(c.useMemo)((function(){return{isPhoneActive:"phone"===n,isEmailActive:"email"===n}}),[n]),a=r.isEmailActive,s=r.isPhoneActive,o=Object(c.useCallback)((function(e){return function(){t(e)}}),[t]);return Object(c.useEffect)((function(){null!==i&&void 0!==i&&i.email.verified&&null!==i&&void 0!==i&&i.phone.verified&&t(null)}),[t,null===i||void 0===i?void 0:i.email.verified,null===i||void 0===i?void 0:i.phone.verified]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(k.c,{value:n,onChange:function(e){return t(e.target.value)},children:[Object(O.jsx)(I,{value:"phone",$isActive:s,disabled:null===i||void 0===i?void 0:i.phone.verified,children:Object(O.jsx)(A.a,{required:s,onClick:o("phone"),verified:null===i||void 0===i?void 0:i.phone.verified})}),Object(O.jsx)(I,{value:"email",$isActive:a,disabled:null===i||void 0===i?void 0:i.email.verified,children:Object(O.jsx)(q.a,{required:a,onClick:o("email"),verified:null===i||void 0===i?void 0:i.email.verified})})]})})},$=t(2313),z=function(e){var n=e.isEnabled,t=e.setEnabled,i=Object(s.a)().t;return Object(O.jsx)(j.a.Item,{children:Object(O.jsxs)(o.a,{gutter:[10,10],justify:"space-between",align:"middle",children:[Object(O.jsx)(l.a,{span:20,children:Object(O.jsx)(j.a.Title,{children:i("profile.nav.securitySettings.twoFactorAuth")})}),Object(O.jsx)(l.a,{span:4,children:Object(O.jsx)(o.a,{justify:"end",children:Object(O.jsx)(l.a,{children:Object(O.jsx)(j.a.Item,{name:"2fa",children:Object(O.jsx)($.a,{checked:n,onChange:t})})})})})]})})},M=t(421),N=t(209),V=t(171),Z=Object(y.default)(V.c)(a||(a=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .ant-modal-body {\n    padding: 0;\n  }\n"]))),B=function(){var e=Object(E.b)((function(e){return e.user.user})),n=Object(c.useMemo)((function(){return(null===e||void 0===e?void 0:e.email.name)&&!(null!==e&&void 0!==e&&e.email.verified)||(null===e||void 0===e?void 0:e.phone.number)&&!(null!==e&&void 0!==e&&e.phone.verified)}),[e]),t=Object(c.useState)(Boolean(n)),i=Object(u.a)(t,2),r=i[0],a=i[1],d=Object(c.useState)(!1),b=Object(u.a)(d,2),f=b[0],m=b[1],v=Object(c.useState)(Boolean((null===e||void 0===e?void 0:e.email.verified)||(null===e||void 0===e?void 0:e.phone.verified))),h=Object(u.a)(v,2),p=h[0],w=h[1],y=Object(c.useState)("email"),C=Object(u.a)(y,2),P=C[0],k=C[1],q=Object(c.useState)(!1),A=Object(u.a)(q,2),I=A[0],$=A[1],V=Object(E.a)(),B=Object(s.a)().t,J=Object(c.useCallback)((function(){if(e&&P){m(!1),a(!1),$(!1),x.a.success({message:B("common.success")});var n=Object(S.a)(Object(S.a)({},e),{},Object(F.a)({},P,Object(S.a)(Object(S.a)({},e[P]),{},{verified:!0})));V(Object(N.b)(n))}}),[V,P,B,e]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(j.a,{name:"twoFactorAuth",requiredMark:"optional",isFieldsChanged:r,onFieldsChange:function(){return a(!0)},initialValues:{email:null===e||void 0===e?void 0:e.email.name,phone:null===e||void 0===e?void 0:e.phone.number},footer:p&&Object(O.jsx)(g.a,{type:"link",loading:f,htmlType:"submit",children:B("profile.nav.securitySettings.verify")})||Object(O.jsx)("span",{}),onFinish:function(){$(!0)},children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(l.a,{span:24,children:Object(O.jsx)(z,{isEnabled:p,setEnabled:w})}),p&&Object(O.jsx)(l.a,{span:24,children:Object(O.jsx)(T,{selectedOption:P,setSelectedOption:k})})]})}),Object(O.jsx)(Z,{destroyOnClose:!0,visible:I,footer:!1,closable:!1,onCancel:function(){return $(!1)},children:Object(O.jsx)(M.a,{onBack:function(){return $(!1)},onFinish:J})})]})},J=function(){return Object(O.jsx)(d.a,{children:Object(O.jsxs)(o.a,{gutter:[30,0],children:[Object(O.jsx)(l.a,{xs:24,xl:10,children:Object(O.jsx)(P,{})}),Object(O.jsx)(l.a,{xs:24,xl:14,children:Object(O.jsx)(B,{})})]})})},_=t(81);n.default=function(){var e=Object(s.a)().t;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_.a,{children:e("profile.nav.securitySettings.title")}),Object(O.jsx)(J,{})]})}}}]);
//# sourceMappingURL=12.f23583b7.chunk.js.map